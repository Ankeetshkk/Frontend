(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["main"],{

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/app.component.html":
/*!**************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/app.component.html ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<header>\n  <h1>Bing Maps Fleet Tracker</h1>\n  <img [hidden]=\"!spinnerService.spinning\" class=\"spinner\" src=\"/assets/images/loading.gif\">\n  <div class='login-container'>\n    <app-login></app-login>\n  </div>\n</header>\n\n<section class=\"sidebar\" [appRoleLimiter]=\"Roles.Viewer\">\n  <app-nav (toggle)=\"sidenav.toggle()\"></app-nav>\n</section>\n\n<mat-sidenav-container>\n  <mat-sidenav #sidenav mode=\"side\" opened=\"true\" disableClose=\"true\" [appRoleLimiter]=\"Roles.Viewer\">\n    <section class=\"side-content\">\n      <router-outlet ></router-outlet>\n    </section>\n  </mat-sidenav>\n\n  <mat-sidenav-content>\n    <toaster-container [toasterconfig]=\"toasterconfig\"></toaster-container>\n    <app-report-chart *ngIf=\"isReport()\"></app-report-chart>\n    <app-maps *ngIf=\"!isReport()\"></app-maps>\n  </mat-sidenav-content>\n</mat-sidenav-container>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/assets/asset-editor/asset-editor.component.html":
/*!*******************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/assets/asset-editor/asset-editor.component.html ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span>{{isEditable ? 'Edit Asset' : 'Add Asset'}}</span>\n  <span class=\"toolbar-spacer\"></span>\n  <a *ngIf=\"isEditable\" [appRoleLimiter]=\"Roles.Administrator\" mat-icon-button mat-tooltip=\"Delete Asset\" (click)=\"deleteAsset()\">\n    <mat-icon>delete_forever</mat-icon>\n  </a>\n</mat-toolbar>\n\n<section>\n  <form (submit)=\"submit()\">\n    <mat-form-field *ngIf=\"isEditable\">\n      <input matInput placeholder=\"Asset Id\" [(ngModel)]=\"asset.id\" disabled name=\"id\">\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Asset Name\" [(ngModel)]=\"asset.name\" name=\"name\" required>\n    </mat-form-field>\n\n    <mat-form-field>\n      <mat-select placeholder=\"Asset Type\" [(ngModel)]=\"asset.assetType\" name=\"assetType\" [disabled]=\"isEditable\" required>\n        <mat-option [value]=\"AssetType.Car\">Car</mat-option>\n        <mat-option [value]=\"AssetType.Truck\">Truck</mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <mat-form-field>\n      <mat-select placeholder=\"Linked Device\" [(ngModel)]=\"asset.trackingDeviceId\" name=\"trackingDeviceId\">\n        <mat-option *ngFor=\"let device of devices\" [value]=\"device.id\">\n          {{device.name}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <div *ngIf=\"asset.assetType == AssetType.Truck\" class=\"truck-container\">\n      <mat-form-field>\n        <input matInput placeholder=\"Asset Height (m)\" [(ngModel)]=\"assetProperties.assetHeight\" name=\"height\" type=\"number\" step=\"any\"\n          min=\"1.0\">\n      </mat-form-field>\n\n      <mat-form-field>\n        <input matInput placeholder=\"Asset Width (m)\" [(ngModel)]=\"assetProperties.assetWidth\" name=\"width\" type=\"number\" step=\"any\"\n          min=\"1.0\">\n      </mat-form-field>\n\n      <mat-form-field>\n        <input matInput placeholder=\"Asset Length (m)\" [(ngModel)]=\"assetProperties.assetLength\" name=\"length\" type=\"number\" step=\"any\"\n          min=\"1.0\">\n      </mat-form-field>\n\n      <mat-form-field>\n        <input matInput placeholder=\"Asset Weight (kg)\" [(ngModel)]=\"assetProperties.assetWeight\" name=\"weight\" type=\"number\" step=\"any\"\n          min=\"1.0\">\n      </mat-form-field>\n\n      <mat-form-field>\n        <input matInput placeholder=\"Asset Axels\" [(ngModel)]=\"assetProperties.assetAxels\" name=\"axels\" type=\"number\" step=\"1\">\n      </mat-form-field>\n\n      <mat-form-field>\n        <input matInput placeholder=\"Asset Trailers\" [(ngModel)]=\"assetProperties.assetTrailers\" name=\"trailers\" type=\"number\" step=\"1\">\n      </mat-form-field>\n\n      <mat-form-field>\n        <input matInput placeholder=\"Asset Max Gradient (degrees)\" [(ngModel)]=\"assetProperties.assetMaxGradient\" name=\"gradient\"\n          type=\"number\" min=\"0\" max=\"90\">\n      </mat-form-field>\n\n      <mat-form-field>\n        <input matInput placeholder=\"Asset Min Turn Radius (degrees)\" [(ngModel)]=\"assetProperties.assetMinTurnRadius\" name=\"radius\"\n          type=\"number\" min=\"0\" max=\"180\">\n      </mat-form-field>\n\n      <mat-checkbox [(ngModel)]=\"assetProperties.assetSemi\" name=\"semi\">Semi-trailer Truck</mat-checkbox>\n    </div>\n\n    <div class=\"pull-right\">\n      <a mat-raised-button [routerLink]=\"['/assets']\">Back</a>\n      <button mat-raised-button class=\"dispatch-button\" type=\"submit\">Submit</button>\n    </div>\n  </form>\n</section>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/assets/asset-list/asset-list.component.html":
/*!***************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/assets/asset-list/asset-list.component.html ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span>Assets</span>\n  <span class=\"toolbar-spacer\"></span>\n  <a [appRoleLimiter]=\"Roles.Administrator\" mat-icon-button mat-tooltip=\"Add New Asset\" [routerLink]=\"['/assets/new']\">\n    <mat-icon>add_circle</mat-icon>\n  </a>\n  <button mat-icon-button>\n    <mat-icon>info</mat-icon>\n  </button>\n</mat-toolbar>\n\n<mat-form-field>\n  <input matInput placeholder=\"Search ...\" [(ngModel)]=\"filter\" name=\"filter\">\n</mat-form-field>\n\n<mat-list>\n  <mat-list-item *ngFor=\"let asset of assetsList | filterList:filter\" [class.active]=\"asset == selectedAsset && isAssetListSeleceted()\">\n    <h3 mat-line (click)=\"showAsset(asset)\">{{asset.name}}</h3>\n    <span mat-line class=\"subtle\" (click)=\"showAsset(asset)\">device: {{asset.trackingDevice ? asset.trackingDevice.name : ''}}</span>\n    <button mat-icon-button mat-tooltip='Trips' (click)=\"showTrips(asset)\" [class.active]=\"asset == selectedAsset && isAssetTripsSelected()\">\n      <mat-icon>trending_up</mat-icon>\n    </button>\n    <button mat-icon-button mat-tooltip='Points' (click)=\"showPoints(asset)\" [class.active]=\"asset == selectedAsset && isAssetPointsSelected()\">\n      <mat-icon>gps_fixed</mat-icon>\n    </button>\n    <button mat-icon-button mat-tooltip='Edit' [routerLink]=\"['/assets', asset.id]\">\n      <mat-icon>mode_edit</mat-icon>\n    </button>\n  </mat-list-item>\n</mat-list>\n\n<app-time-filter *ngIf=\"isAssetPointsSelected() || isAssetTripsSelected()\" (change)=\"timeFilterChange($event)\"></app-time-filter>\n<app-trip-list *ngIf=\"isAssetTripsSelected()\" [trips]=\"trips\" (select)=\"selectTrip($event)\"></app-trip-list>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/core/nav/nav.component.html":
/*!***********************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/core/nav/nav.component.html ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<nav>\n  <ul>\n    <li>\n      <a (click)=\"onToggle()\" class=\"toggle\">\n        <span *ngIf=\"opened\">&#171;</span>\n        <span *ngIf=\"!opened\">&#187;</span>\n      </a>\n    </li>\n    <li>\n      <a [appRoleLimiter]=\"Roles.Viewer\" [routerLink]=\"['/assets']\" routerLinkActive=\"active\">\n        <mat-icon>directions_car</mat-icon>\n      </a>\n    </li>\n    <li>\n      <a [appRoleLimiter]=\"Roles.Viewer\" [routerLink]=\"['/devices']\" routerLinkActive=\"active\">\n        <mat-icon>smartphone</mat-icon>\n      </a>\n    </li>\n    <li>\n      <a [appRoleLimiter]=\"Roles.Administrator\" [routerLink]=\"['/geofences']\" routerLinkActive=\"active\">\n        <mat-icon>border_outer</mat-icon>\n      </a>\n    </li>\n    <li>\n      <a [appRoleLimiter]=\"Roles.Administrator\" [routerLink]=\"['/locations']\" routerLinkActive=\"active\">\n        <mat-icon>pin_drop</mat-icon>\n      </a>\n    </li>\n    <li>\n      <a [appRoleLimiter]=\"Roles.Administrator\" [routerLink]=\"['/dispatching']\" routerLinkActive=\"active\">\n        <mat-icon>navigation</mat-icon>\n      </a>\n    </li>\n    <li>\n      <a [appRoleLimiter]=\"Roles.Viewer\" [routerLink]=\"['/reports']\" routerLinkActive=\"active\">\n        <mat-icon>poll</mat-icon>\n      </a>\n    </li>\n    <li>\n      <a [appRoleLimiter]=\"Roles.Owner\" [routerLink]=\"['/settings']\" routerLinkActive=\"active\">\n        <mat-icon>settings</mat-icon>\n      </a>\n    </li>\n    <li>\n      <a [appRoleLimiter]=\"Roles.Administrator\" [routerLink]=\"['/users']\" routerLinkActive=\"active\">\n        <mat-icon>group</mat-icon>\n      </a>\n    </li>\n  </ul>\n</nav>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/core/settings/settings.component.html":
/*!*********************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/core/settings/settings.component.html ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span>Settings</span>\n</mat-toolbar>\n\n<section>\n  <h3 class=\"section-header\">Subscription Keys</h3>\n  <mat-list>\n    <mat-list-item *ngFor=\"let subkey of subkeys | async\">\n      <h3 mat-line>{{subkey.id}}</h3>\n      <span mat-line class=\"subtle\">{{subkey.keyValue}}</span>\n    </mat-list-item>\n  </mat-list>\n</section>\n\n<section>\n  <h3 class=\"section-header\">Version Information</h3>\n  <mat-list>\n    <mat-list-item>\n      <h3 mat-line>Current Version:</h3>\n      <span mat-line class=\"subtle\">{{versionInfo.currentVersionName}}</span>\n    </mat-list-item>\n    <mat-list-item>\n      <h3 mat-line>Latest Available Version:</h3>\n      <span mat-line class=\"subtle\">{{versionInfo.latestVersionName}}</span>\n    </mat-list-item>\n  </mat-list>\n\n  <div class=\"pull-right\" *ngIf=\"versionInfo.updateRequired\">\n    <a mat-raised-button [href]=\"versionInfo.updateUrl\">Update</a>\n  </div>\n  <div class=\"pull-right-clearfix\"></div>\n</section>\n\n<section>\n  <h3 class=\"section-header\">Deployment Settings</h3>\n  <mat-list>\n    <mat-list-item *ngIf=\"instrumentationState!=null\">\n      <h3 mat-line>Error & Usage Instrumentation</h3>\n      <span mat-line class=\"subtle\">{{ instrumentationState ? 'Active' : 'Blocked' }}</span>\n      <a mat-icon-button mat-tooltip=\"Edit\" (click)=\"toggleInstrumentation()\">\n        <mat-icon>{{ !instrumentationState ? 'play_arrow' : 'pause' }}</mat-icon>\n      </a>\n    </mat-list-item>\n  </mat-list>\n</section>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/devices/device-editor/device-editor.component.html":
/*!**********************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/devices/device-editor/device-editor.component.html ***!
  \**********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n    <span>{{isEditing ? 'Edit Device' : 'Add Device'}}</span>\n  <span class=\"toolbar-spacer\"></span>\n  <a *ngIf=\"isEditing\" [appRoleLimiter]=\"Roles.Administrator\" mat-icon-button mat-tooltip=\"Delete Asset\" (click)=\"deleteDevice()\">\n    <mat-icon>delete_forever</mat-icon>\n  </a>\n</mat-toolbar>\n\n<section>\n  <form (submit)=\"submit()\">\n    <mat-form-field>\n      <input matInput placeholder=\"ID\" [(ngModel)]=\"device.id\" name=\"device\" [disabled]=\"isEditing\" required>\n    </mat-form-field>\n\n    <mat-form-field *ngIf=\"isEditing\">\n      <input matInput placeholder=\"Device Token\" [(ngModel)]=\"deviceToken\" name=\"token\" disabled>\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Name\" [(ngModel)]=\"device.name\" name=\"name\" required>\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Phone\" [(ngModel)]=\"device.phone\" name=\"phone\">\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Model\" [(ngModel)]=\"device.model\" name=\"model\">\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Operating System\" [(ngModel)]=\"device.operatingSystem\" name=\"operatingSystem\">\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Version\" [(ngModel)]=\"device.version\" name=\"version\">\n    </mat-form-field>\n\n    <mat-form-field>\n      <mat-select placeholder=\"Linked Asset\" [(ngModel)]=\"device.assetId\" name=\"assetId\">\n        <mat-option *ngFor=\"let asset of assets\" [value]=\"asset.id\">\n          {{asset.name}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <div class=\"pull-right\" style=\"margin:15px 0;\">\n      <a mat-raised-button [routerLink]=\"['/devices']\">Back</a>\n      <button mat-raised-button class=\"dispatch-button\" type=\"submit\">Submit</button>\n    </div>\n  </form>\n</section>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/devices/device-list/device-list.component.html":
/*!******************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/devices/device-list/device-list.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span>Devices</span>\n  <span class=\"toolbar-spacer\"></span>\n  <a mat-icon-button mat-tooltip=\"Add New Device\" [routerLink]=\"['/devices/new']\">\n    <mat-icon>add_circle</mat-icon>\n  </a>\n  <button mat-icon-button>\n    <mat-icon>info</mat-icon>\n  </button>\n</mat-toolbar>\n\n<mat-form-field>\n  <input matInput placeholder=\"Search ...\" [(ngModel)]=\"filter\" name=\"filter\">\n</mat-form-field>\n\n<mat-list>\n  <mat-list-item *ngFor=\"let device of devices | async | filterList:filter\" [class.active]=\"device == selectedDevice && isDeviceListSelected()\">\n    <h3 mat-line (click)=\"showDevice(device)\">{{device.name}}</h3>\n    <span mat-line class=\"subtle\" (click)=\"showDevice(device)\">asset: {{device.asset ? device.asset.name : ''}}</span>\n    <button mat-icon-button mat-tooltip='Points' (click)=\"showPoints(device)\" [class.active]=\"device == selectedDevice && isDevicePointSelected()\">\n      <mat-icon>gps_fixed</mat-icon>\n    </button>\n    <a [appRoleLimiter]=\"Roles.Administrator\" mat-icon-button mat-tooltip=\"Edit\" [routerLink]=\"['/devices', device.id]\">\n      <mat-icon>mode_edit</mat-icon>\n    </a>\n  </mat-list-item>\n</mat-list>\n\n<app-time-filter *ngIf=\"isDevicePointSelected()\" (change)=\"timeFilterChange($event)\"></app-time-filter>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/devices/device-register/device-register.component.html":
/*!**************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/devices/device-register/device-register.component.html ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<h2 mat-dialog-title>Register Device</h2>\n<mat-dialog-content>\n  <section class=\"qrcode\">\n    <h4>Scan this qrcode with your device to register it</h4>\n    <img [src]=\"qrCodeEndpoint\">\n    <h3>OR</h3>\n    <p>You can also provision your device manually by dismissing this popup and entering the required details.</p>\n  </section>\n</mat-dialog-content>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/dispatching/dispatching-editor/dispatching-editor.component.html":
/*!************************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/dispatching/dispatching-editor/dispatching-editor.component.html ***!
  \************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span>Add Route/Asset Info</span>\n</mat-toolbar>\n\n<section>\n  <form (submit)=\"showRoute()\">\n\n    <div>\n      <mat-form-field class=\"partial-input\">\n        <input matInput placeholder=\"Number of Points (Max 20)\" [(ngModel)]=\"pinsAdded.length\" name=\"waypoints\" disabled>\n      </mat-form-field>\n      <button mat-icon-button mat-tooltip='Reset Points' (click)=\"clearPoints()\" type=\"button\">\n        <mat-icon>undo</mat-icon>\n      </button>\n      <button mat-icon-button mat-tooltip='Add Location' (click)=\"openDialog()\" type=\"button\" [disabled]=\"pinsAdded.length >= 20\">\n        <mat-icon>add_circle</mat-icon>\n      </button>\n    </div>\n\n    <mat-form-field>\n      <mat-select placeholder=\"Asset\" [(ngModel)]=\"selectedAsset\" name=\"assetId\" required=\"true\">\n        <mat-option *ngFor=\"let asset of assets\" [value]=\"asset\" (click)=\"checkSelected(asset)\">\n          {{asset.name}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <mat-list class=\"additional-options\">\n      <h1>Additional Options</h1>\n\n      <mat-list-item [class.active]=\"showAvoidList\" *ngIf=\"showTruckOptions\">\n        <h3 mat-line>Avoid</h3>\n        <button mat-icon-button type=\"button\" (click)=\"showAvoidList = !showAvoidList\">\n          <mat-icon>{{showAvoidList ? \"keyboard_arrow_up\" : \"keyboard_arrow_down\"}}</mat-icon>\n        </button>\n      </mat-list-item>\n      <mat-list *ngIf=\"showAvoidList\" class=\"sub-list\">\n        <mat-list-item *ngFor=\"let option of AvoidOptions\">\n          <mat-checkbox (change)=\"onCheckChanged($event, MinimizeOptions)\" [(ngModel)]=\"option.isChecked\" [name]=\"option.name\">{{option.name}}</mat-checkbox>\n        </mat-list-item>\n        <mat-list-item>\n          <mat-checkbox [(ngModel)]=\"dispatchingParameters.avoidCrossWind\" name=\"crosswinds\">Cross Winds</mat-checkbox>\n        </mat-list-item>\n        <mat-list-item>\n          <mat-checkbox [(ngModel)]=\"dispatchingParameters.avoidGroundingRisk\" name=\"groundingrisk\">Grounding Risk</mat-checkbox>\n        </mat-list-item>\n      </mat-list>\n\n      <mat-list-item [class.active]=\"showMinimizeList\" *ngIf=\"showTruckOptions\">\n        <h3 mat-line>Minimize</h3>\n        <button mat-icon-button type=\"button\" (click)=\"showMinimizeList = !showMinimizeList\">\n          <mat-icon>{{showMinimizeList ? \"keyboard_arrow_up\" : \"keyboard_arrow_down\"}}</mat-icon>\n        </button>\n      </mat-list-item>\n      <mat-list *ngIf=\"showMinimizeList\" class=\"sub-list\">\n        <mat-list-item *ngFor=\"let option of MinimizeOptions\">\n          <mat-checkbox (change)=\"onCheckChanged($event, AvoidOptions)\" [(ngModel)]=\"option.isChecked\" [name]=\"option.name\">{{option.name}}</mat-checkbox>\n        </mat-list-item>\n      </mat-list>\n\n      <mat-list-item [class.active]=\"showOptimizeList\">\n        <h3 mat-line>Optimize</h3>\n        <button mat-icon-button type=\"button\" (click)=\"showOptimizeList = !showOptimizeList\">\n          <mat-icon>{{showOptimizeList ? \"keyboard_arrow_up\" : \"keyboard_arrow_down\"}}</mat-icon>\n        </button>\n      </mat-list-item>\n      <mat-radio-group *ngIf=\"showOptimizeList\" [(ngModel)]=\"dispatchingParameters.optimize\" name=\"optimizeRadioGroup\" class=\"sub-list\">\n        <mat-radio-button *ngFor=\"let option of OptimizeOptions; let i = index\" [value]=\"option.value\">\n          {{option.name}}\n        </mat-radio-button>\n      </mat-radio-group>\n\n      <mat-list-item [class.active]=\"showLoadedAssetPropList\" *ngIf=\"showTruckOptions\">\n        <h3 mat-line>Loaded Asset Properties</h3>\n        <button mat-icon-button type=\"button\" (click)=\"showLoadedAssetPropList = !showLoadedAssetPropList\">\n          <mat-icon>{{showLoadedAssetPropList ? \"keyboard_arrow_up\" : \"keyboard_arrow_down\"}}</mat-icon>\n        </button>\n      </mat-list-item>\n      <mat-list *ngIf=\"showLoadedAssetPropList\" class=\"sub-list\">\n        <mat-list-item>\n          <mat-form-field>\n            <input matInput placeholder=\"Loaded Asset Height (m)\" [(ngModel)]=\"dispatchingParameters.loadedHeight\" name=\"height\" type=\"number\"\n              step=\"any\" min=\"1.0\">\n          </mat-form-field>\n        </mat-list-item>\n\n        <mat-list-item>\n          <mat-form-field>\n            <input matInput placeholder=\"Loaded Asset Width (m)\" [(ngModel)]=\"dispatchingParameters.loadedWidth\" name=\"width\" type=\"number\"\n              step=\"any\" min=\"1.0\">\n          </mat-form-field>\n        </mat-list-item>\n\n        <mat-list-item>\n          <mat-form-field>\n            <input matInput placeholder=\"Loaded Asset Length (m)\" [(ngModel)]=\"dispatchingParameters.loadedLength\" name=\"length\" type=\"number\"\n              step=\"any\" min=\"1.0\">\n          </mat-form-field>\n        </mat-list-item>\n\n        <mat-list-item>\n          <mat-form-field>\n            <input matInput placeholder=\"Loaded Asset Weight (kg)\" [(ngModel)]=\"dispatchingParameters.loadedWeight\" name=\"weight\" type=\"number\"\n              step=\"any\" min=\"1.0\">\n          </mat-form-field>\n        </mat-list-item>\n      </mat-list>\n\n      <mat-list-item [class.active]=\"showTimingList\">\n        <h3 mat-line>Departure Timing</h3>\n        <button mat-icon-button type=\"button\" (click)=\"showTimingList = !showTimingList\">\n          <mat-icon>{{showTimingList ? \"keyboard_arrow_up\" : \"keyboard_arrow_down\"}}</mat-icon>\n        </button>\n      </mat-list-item>\n      <mat-list *ngIf=\"showTimingList\" class=\"sub-list\">\n        <mat-list-item>\n          <input [(ngModel)]=\"dispatchingParameters.dateTime\" ngui-datetime-picker name=\"dateTimePicker\" [close-on-select]=\"false\"\n          />\n        </mat-list-item>\n      </mat-list>\n\n      <mat-list-item [class.active]=\"showHazardMaterialList\" *ngIf=\"showTruckOptions\">\n        <h3 mat-line>Hazardous Materials</h3>\n        <button mat-icon-button type=\"button\" (click)=\"showHazardMaterialList = !showHazardMaterialList\">\n          <mat-icon>{{showHazardMaterialList ? \"keyboard_arrow_up\" : \"keyboard_arrow_down\"}}</mat-icon>\n        </button>\n      </mat-list-item>\n      <mat-list *ngIf=\"showHazardMaterialList\" class=\"sub-list\">\n        <mat-list-item *ngFor=\"let option of HazardMaterialOptions\">\n          <mat-checkbox [(ngModel)]=\"option.isChecked\" name=\" 'HM' + {{option.name}}\">{{option.name}}</mat-checkbox>\n        </mat-list-item>\n      </mat-list>\n\n      <mat-list-item [class.active]=\"showHazardPermitList\" *ngIf=\"showTruckOptions\">\n        <h3 mat-line>Hazardous Permits</h3>\n        <button mat-icon-button type=\"button\" (click)=\"showHazardPermitList = !showHazardPermitList\">\n          <mat-icon>{{showHazardPermitList ? \"keyboard_arrow_up\" : \"keyboard_arrow_down\"}}</mat-icon>\n        </button>\n      </mat-list-item>\n      <mat-list *ngIf=\"showHazardPermitList\" class=\"sub-list\">\n        <mat-list-item *ngFor=\"let option of HazardousPermitOptions\">\n          <mat-checkbox [(ngModel)]=\"option.isChecked\" name=\"'HP' + {{option.name}}\">{{option.name}}</mat-checkbox>\n        </mat-list-item>\n      </mat-list>\n\n      <mat-list-item [class.active]=\"showResultsList\">\n        <h3 mat-line>Results Options</h3>\n        <button mat-icon-button type=\"button\" (click)=\"showResultsList = !showResultsList\">\n          <mat-icon>{{showResultsList ? \"keyboard_arrow_up\" : \"keyboard_arrow_down\"}}</mat-icon>\n        </button>\n      </mat-list-item>\n      <mat-list *ngIf=\"showResultsList\" class=\"sub-list\">\n        <mat-list-item>\n          <mat-checkbox [(ngModel)]=\"showDirections\" name=\"show\">Exclude Directions</mat-checkbox>\n        </mat-list-item>\n        <mat-list-item *ngIf=\"showTruckOptions\">\n          <mat-checkbox [(ngModel)]=\"dispatchingParameters.getAlternativeCarRoute\" name=\"showAlt\">Show Alternative Car Route</mat-checkbox>\n        </mat-list-item>\n        <mat-list-item class=\"select-with-padding\">\n          <mat-form-field>\n            <mat-select placeholder=\"Route Color\" [(ngModel)]=\"colorSelected\" name=\"colorselected\">\n              <mat-option *ngFor=\"let color of routeColors; let i = index\" [value]=\"i\">\n                {{color}}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n        </mat-list-item>\n        <mat-list-item class=\"select-with-padding\">\n          <mat-form-field>\n            <mat-select placeholder=\"Distance Unit\" [(ngModel)]=\"dispatchingParameters.distanceUnit\" name=\"distanceUnit\">\n              <mat-option [value]=\"DistanceUnit.Kilometer\">Kilometer</mat-option>\n              <mat-option [value]=\"DistanceUnit.Mile\">Mile</mat-option>\n            </mat-select>\n          </mat-form-field>\n        </mat-list-item>\n\n        <mat-list-item class=\"select-with-padding\">\n          <mat-form-field>\n            <mat-select placeholder=\"Weight Unit\" [(ngModel)]=\"dispatchingParameters.weightUnit\" name=\"weightUnit\">\n              <mat-option [value]=\"WeightUnit.Kilogram\">Kilogram</mat-option>\n              <mat-option [value]=\"WeightUnit.Pound\">Pound</mat-option>\n            </mat-select>\n          </mat-form-field>\n        </mat-list-item>\n\n        <mat-list-item class=\"select-with-padding\">\n          <mat-form-field>\n            <mat-select placeholder=\"Dimension Unit\" [(ngModel)]=\"dispatchingParameters.dimensionUnit\" name=\"dimensionUnit\">\n              <mat-option [value]=\"DimensionUnit.Meter\">Meter</mat-option>\n              <mat-option [value]=\"DimensionUnit.Foot\">Foot</mat-option>\n            </mat-select>\n          </mat-form-field>\n        </mat-list-item>\n      </mat-list>\n\n    </mat-list>\n\n    <div class=\"pull-right\">\n      <button mat-raised-button type=\"button\" (click)=\"resetAllData()\">Clear Data</button>\n      <button mat-raised-button class=\"dispatch-button\" type=\"submit\">Dispatch !</button>\n    </div>\n  </form>\n</section>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/dispatching/dispatching-show/dispatching-show.component.html":
/*!********************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/dispatching/dispatching-show/dispatching-show.component.html ***!
  \********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar>\n  <a mat-icon-button mat-tooltip=\"Back\" [routerLink]=\"['/dispatching']\">\n    <mat-icon>arrow_back</mat-icon>\n  </a>\n  <span>Dispatch Directions </span>\n</mat-toolbar>\n\n<div class=\"no-directions-alert\">\n  <p *ngIf=\"noDirectionsAvailable\">No Directions Available</p>\n</div>\n\n<mat-list flex>\n  <mat-list-item class=\"item-custom\" *ngFor=\"let direction of directions; let i = index\">\n    <div class=\"mat-list-text\" (click)=showItineraryPoint(i)>\n      <h3>{{direction}}</h3>\n      <span>Distance: {{distances[i]}}</span>\n    </div>\n  </mat-list-item>\n</mat-list>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/dispatching/location-dialog/location-dialog.component.html":
/*!******************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/dispatching/location-dialog/location-dialog.component.html ***!
  \******************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar>\n  <span>Add Location</span>\n</mat-toolbar>\n\n<mat-form-field>\n  <input matInput placeholder=\"Search ...\" [(ngModel)]=\"filter\" name=\"filter\">\n</mat-form-field>\n\n<div class=\"scrollable-list\">\n  <mat-list>\n    <mat-list-item *ngFor=\"let location of locations | filterList:filter\" \n                  (click)=\"onSelected(location)\" \n                  [class.active]=\"location == selectedLocation\">\n      <span mat-line> {{location.name}}</span>\n    </mat-list-item>\n  </mat-list>\n</div>\n\n<div class=\"pull-right\">\n  <button mat-raised-button class=\"dispatch-button\" (click)=\"onButtonClicked()\">Done</button>\n</div>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/geofences/geofence-editor/geofence-editor.component.html":
/*!****************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/geofences/geofence-editor/geofence-editor.component.html ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span>Add Geofence:</span>\n</mat-toolbar>\n\n<section>\n  <form (submit)=\"submit()\">\n    <mat-form-field>\n      <input matInput placeholder=\"Name\" [(ngModel)]=\"geofence.name\" name=\"name\" required>\n    </mat-form-field>\n\n    <mat-form-field>\n      <mat-select placeholder=\"Geofence Area Type\" [(ngModel)]=\"geofence.areaType\" name=\"areaType\" (selectionChange)=\"onAreaTypeChanged($event)\"\n        required>\n        <mat-option [value]=\"AreaType.Polygon\">Polygon</mat-option>\n        <mat-option [value]=\"AreaType.Circular\">Circular</mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <mat-form-field *ngIf=\"geofence.areaType === AreaType.Circular\">\n      <input matInput type=\"number\" placeholder=\"Radius In Meters\" [(ngModel)]=\"geofence.radiusInMeters\" name=\"radiusInMeters\"\n        (change)=\"onRadiusChanged($event)\" (keyup)=\"onRadiusChanged($event)\" required>\n    </mat-form-field>\n\n    <mat-form-field *ngIf=\"geofence.areaType === AreaType.Polygon\">\n      <input matInput class=\"partial-input\" placeholder=\"Fence Point Count\" [(ngModel)]=\"geofence.fencePolygon.length\" name=\"fencePolygon\"\n        disabled>\n      <a class=\"partial-button\" (click)=\"clearPoints()\">Clear Points</a>\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Cooldown in Minutes\" [(ngModel)]=\"geofence.cooldown\" name=\"cooldown\" type=\"number\" min=\"0\" required>\n    </mat-form-field>\n\n    <mat-form-field>\n      <mat-select placeholder=\"Fence Type\" [(ngModel)]=\"geofence.fenceType\" name=\"fenceType\" required>\n        <mat-option [value]=\"FenceType.Inbound\">Inbound</mat-option>\n        <mat-option [value]=\"FenceType.Outbound\">Outbound</mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Emails To Notify\" [(ngModel)]=\"joinedEmails\" name=\"email\">\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Webhooks To Notify\" [(ngModel)]=\"joinedWebhooks\" name=\"webhook\">\n    </mat-form-field>\n\n    <h3>Available Assets:</h3>\n    <mat-list>\n      <mat-list-item *ngFor=\"let asset of assets\">\n        <mat-checkbox (change)=\"onAssetCheckChanged($event)\" [checked]=\"asset.checked\" [name]=\"asset.id\">{{asset.name}}</mat-checkbox>\n      </mat-list-item>\n    </mat-list>\n\n    <div class=\"pull-right\" style=\"margin:15px 0\">\n      <a mat-raised-button [routerLink]=\"['/geofences']\">Back</a>\n      <button mat-raised-button class=\"dispatch-button \" type=\"submit\">Submit</button>\n    </div>\n  </form>\n</section>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/geofences/geofence-list/geofence-list.component.html":
/*!************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/geofences/geofence-list/geofence-list.component.html ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span>Geofences</span>\n  <span class=\"toolbar-spacer\"></span>\n  <a mat-icon-button mat-tooltip=\"Add New Geofence\" [routerLink]=\"['/geofences/new']\">\n    <mat-icon>add_circle</mat-icon>\n  </a>\n  <button mat-icon-button>\n      <mat-icon>info</mat-icon>\n    </button>\n</mat-toolbar>\n\n<mat-form-field>\n  <input matInput placeholder=\"Search ...\" [(ngModel)]=\"filter\" name=\"filter\">\n</mat-form-field>\n\n<mat-list>\n  <mat-list-item *ngFor=\"let geofence of geofences | async | filterList:filter\" [class.active]=\"geofence == selectedGeofence\" (click)=\"showGeofence(geofence)\">\n    <h3 mat-line>{{geofence.name}}</h3>\n    <span mat-line class=\"subtle\">Type: {{FenceType[geofence.fenceType]}}</span>\n    <button mat-icon-button mat-tooltip=\"Delete\" (click)=\"deleteGeofence(geofence)\">\n        <mat-icon>delete_forever</mat-icon>\n     </button>\n    <a mat-icon-button mat-tooltip=\"Edit\" [routerLink]=\"['/geofences', geofence.id]\">\n      <mat-icon>mode_edit</mat-icon>\n    </a>\n  </mat-list-item>\n</mat-list>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/locations/location-editor/location-editor.component.html":
/*!****************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/locations/location-editor/location-editor.component.html ***!
  \****************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span *ngIf=\"!isEditable\">Add New location </span>\n  <span *ngIf=\"isEditable\">Edit Location</span>\n</mat-toolbar>\n\n<section>\n  <form (submit)=\"submit()\">\n    <mat-form-field>\n      <input matInput placeholder=\"Name\" [(ngModel)]=\"location.name\" name=\"name\" required>\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Address\" [(ngModel)]=\"location.address\" (change)=\"changeAddress()\" name=\"address\">\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Location Pin\" [(ngModel)]=\"locationString\" name=\"locationPin\" disabled required>\n    </mat-form-field>\n\n    <div class=\"pull-right\">\n      <a mat-raised-button [routerLink]=\"['/locations']\">Back</a>\n      <button mat-raised-button class=\"dispatch-button \" type=\"submit\">Submit</button>\n    </div>\n  </form>\n</section>\n"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/locations/location-list/location-list.component.html":
/*!************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/locations/location-list/location-list.component.html ***!
  \************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span>Locations</span>\n  <span class=\"toolbar-spacer\"></span>\n  <a mat-icon-button mat-tooltip=\"Add New Location\" [routerLink]=\"['/locations/new']\">\n    <mat-icon>add_circle</mat-icon>\n  </a>\n  <button mat-icon-button mat-tooltip=\"Info\">\n      <mat-icon>info</mat-icon>\n    </button>\n</mat-toolbar>\n\n<mat-form-field>\n  <input matInput placeholder=\"Search ... \" [(ngModel)]=\"filter\" name=\"filter\">\n</mat-form-field>\n\n<mat-list>\n  <div *ngFor=\"let location of locations | filterList:filter | paginate: {itemsPerPage: singlePageSize, currentPage: index}\"\n    [class.active]=\"location === selectedLocation\">\n    <mat-list-item>\n      <h3 mat-line (click)=\"showLocation(location)\"> {{location.name}}</h3>\n      <span mat-line class=\"subtle\" (click)=\"showLocation(location)\">address: {{location.address}}</span>\n      <a [appRoleLimiter]=\"Roles.Administrator\" mat-icon-button mat-tooltip=\"Edit\" [routerLink]=\"['/locations', location.id]\">\n        <mat-icon>mode_edit</mat-icon>\n      </a>\n    </mat-list-item>\n    <table *ngIf=\"location === selectedLocation && showTable && assetsCount\">\n      <thead>\n        <tr>\n          <th mat-line> Asset </th>\n          <th mat-line> Location visits </th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr *ngFor=\"let count of assetsCount\">\n          <td mat-line class=\"subtle\">{{count.key}}</td>\n          <td mat-line class=\"subtle\">{{count.value}}</td>\n        </tr>\n      </tbody>\n    </table>\n  </div>\n</mat-list>\n\n<pagination-controls class=\"my-pagination\" (pageChange)=\"selectPage($event)\" maxSize=\"5\" autoHide=\"true\" previousLabel=\"\"\n  nextLabel=\"\">\n</pagination-controls>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/reports/report-chart/report-chart.component.html":
/*!********************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/reports/report-chart/report-chart.component.html ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<div class=\"report-chart\">\n  <h2>{{barChartOptions.chartTitle}}</h2>\n\n  <div>\n    <canvas baseChart\n            [datasets]=\"barChartOptions.chartData\"\n            [labels]=\"barChartOptions.chartLabels\"\n            [options]=\"barChartOptions.options\"\n            [legend]=\"barChartOptions.chartLegendToggle\"\n            [chartType]=\"barChartOptions.chartType\"\n            [colors]=\"barChartOptions.chartColors\"\n            (chartHover)=\"chartHovered($event)\"\n            (chartClick)=\"chartClicked($event)\"></canvas>\n  </div>\n</div>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/reports/report-list/report-list.component.html":
/*!******************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/reports/report-list/report-list.component.html ***!
  \******************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span>Reports</span>\n  <span class=\"toolbar-spacer\"></span>\n  <button mat-icon-button>\n    <mat-icon>info</mat-icon>\n  </button>\n</mat-toolbar>\n\n<mat-form-field>\n  <input matInput placeholder=\"Search ...\" [(ngModel)]=\"filter\" name=\"filter\">\n</mat-form-field>\n\n<mat-list>\n  <mat-list-item *ngFor=\"let metric of metrics | async | filterList:filter\" (click)=\"selectMetric(metric)\" [class.active]=\"metric == selectedMetric\">\n    <h3 mat-line>{{metric.name}}</h3>\n    <span mat-line class=\"subtle\">Aggregated by: {{metric.aggregatedBy}}</span>\n</mat-list-item>\n</mat-list>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/shared/time-filter/time-filter.component.html":
/*!*****************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/shared/time-filter/time-filter.component.html ***!
  \*****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span>Filters</span>\n  <span class=\"toolbar-spacer\"></span>\n</mat-toolbar>\n\n<ul class=\"filters\">\n  <li *ngFor=\"let range of ranges\">\n    <a (click)=\"select(range)\" [class.active]=\"range == selectedRange\">\n      {{range.label}}\n    </a>\n  </li>\n</ul>\n\n<my-date-range-picker [options]=\"myDateRangePickerOptions\" [selDateRange]=\"selectedDateRange\" (dateRangeChanged)=\"onDateRangeChanged($event)\"></my-date-range-picker>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/shared/trip-list/trip-list.component.html":
/*!*************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/shared/trip-list/trip-list.component.html ***!
  \*************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\" *ngIf=\"trips && trips.length\">\n  <span>Trips</span>\n  <span class=\"toolbar-spacer\"></span>\n  <button mat-icon-button>\n      <mat-icon>info</mat-icon>\n    </button>\n</mat-toolbar>\n\n<mat-nav-list>\n  <mat-list-item *ngFor=\"let trip of trips\" (click)=\"selectTrip(trip)\" [class.active]=\"trip == selectedTrip\">\n    <h3 mat-line>Trip {{trip.id}}: {{trip.durationInMinutes | number : '1.2-2'}} minutes</h3>\n    <p mat-line class=\"subtle\">On {{trip.startTimeUtc}}</p>\n  </mat-list-item>\n</mat-nav-list>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/users/instrumentation-approval/instrumentation-approval.component.html":
/*!******************************************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/users/instrumentation-approval/instrumentation-approval.component.html ***!
  \******************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<h2 mat-dialog-title>Approve Instrumentation</h2>\n<mat-dialog-content>\n  <section>\n    <p>Microsoft would like to gather some aggregated data and error traces from your deployment, to help improve the \"Bing\n      Maps Fleet Tracker\" product and infer usage numbers. Do you agree to allowing Microsoft to gather the aforementioned\n      information? You can always change this later from the settings tab. For more details on the data collected, refer to\n      the <a target=\"_blank\" href=\"https://github.com/Microsoft/Bing-Maps-Fleet-Tracker/blob/master/README.md\">README.md</a> file.</p>\n  </section>\n</mat-dialog-content>\n<div mat-dialog-actions class=\"pull-right\">\n  <button mat-raised-button [mat-dialog-close]=\"true\" class=\"button-primary\" tabindex=\"0\">I Agree</button>\n  <button mat-raised-button [mat-dialog-close]=\"false\" tabindex=\"1\">No Thanks</button>\n</div>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/users/login/login.component.html":
/*!****************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/users/login/login.component.html ***!
  \****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<section>\n    <span *ngIf='loggedInUser'>{{loggedInUser.name}} ({{loggedInUser.role.name}}) &middot; </span>\n    <a [attr.href]=\"link\">Sign {{loggedInUser ? 'out' : 'in'}}</a>\n</section>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/users/user-editor/user-editor.component.html":
/*!****************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/users/user-editor/user-editor.component.html ***!
  \****************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span *ngIf=\"isAddingNew\">Add New User</span>\n  <span *ngIf=\"!isAddingNew\">Edit User</span>\n</mat-toolbar>\n\n<section>\n  <form (submit)=\"submit()\">\n    <mat-form-field *ngIf=\"!isAddingNew\">\n      <input matInput placeholder=\"Id\" [(ngModel)]=\"user.id\" name=\"id\" disabled>\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Email\" [(ngModel)]=\"user.email\" name=\"email\" [disabled]=\"!isAddingNew\" [required]=\"isAddingNew\">\n    </mat-form-field>\n\n    <mat-form-field>\n      <input matInput placeholder=\"Name\" [(ngModel)]=\"user.name\" name=\"name\" [disabled]=\"!isAddingNew\" [required]=\"isAddingNew\">\n    </mat-form-field>\n\n    <mat-form-field *ngIf=\"!isAddingNew\">\n      <input matInput class=\"partial-input\" placeholder=\"User Token\" [(ngModel)]=\"userToken\" name=\"token\" disabled>\n      <a class=\"partial-button\" (click)=\"regenerateToken()\">Regenerate</a>\n    </mat-form-field>\n\n    <mat-form-field *ngIf=\"user.role.name !== 'Owner'\"> \n      <mat-select placeholder=\"Role\" [(ngModel)]=\"user.role.name\" name=\"role\" [required]=\"isAddingNew\">\n        <mat-option *ngFor=\"let role of roles\" [value]=\"role.name\">\n          {{role.name}}\n        </mat-option>\n      </mat-select>\n    </mat-form-field>\n\n    <div class=\"pull-right\">\n      <a mat-raised-button [routerLink]=\"['/users']\">Back</a>\n      <button *ngIf=\"user.role.name !== 'Owner'\" class=\"dispatch-button\" mat-raised-button type=\"submit\">Submit</button>\n    </div>\n  </form>\n</section>"

/***/ }),

/***/ "./node_modules/raw-loader/index.js!./src/app/users/user-list/user-list.component.html":
/*!************************************************************************************!*\
  !*** ./node_modules/raw-loader!./src/app/users/user-list/user-list.component.html ***!
  \************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "<!-- Copyright (c) Microsoft Corporation. All rights reserved.\n     Licensed under the MIT License. -->\n\n<mat-toolbar color=\"primary\">\n  <span>Users</span>\n  <span class=\"toolbar-spacer\"></span>\n  <button mat-icon-button mat-tooltip=\"Add New User\" [routerLink]=\"['/users/new']\">\n    <mat-icon>add_circle</mat-icon>\n  </button>\n  <button mat-icon-button>\n    <mat-icon>info</mat-icon>\n  </button>\n</mat-toolbar>\n\n<mat-form-field>\n  <input matInput placeholder=\"Search ...\" [(ngModel)]=\"filter\" name=\"filter\">\n</mat-form-field>\n\n<mat-list>\n  <mat-list-item *ngFor=\"let user of users | async | filterList:filter\">\n    <h3 mat-line>{{user.name}}</h3>\n    <span mat-line class=\"subtle\">{{user.role.name}}</span>\n      <button *ngIf=\"user.role.name !== 'Owner'\" mat-icon-button mat-tooltip=\"Delete\" (click)=\"deleteUser(user)\">\n        <mat-icon>delete_forever</mat-icon>\n     </button>\n    <a mat-icon-button mat-tooltip=\"Edit\" [routerLink]=\"['/users', user.id]\">\n      <mat-icon>mode_edit</mat-icon>\n    </a>\n</mat-list-item>\n</mat-list>"

/***/ }),

/***/ "./src/$$_lazy_route_resource lazy recursive":
/*!**********************************************************!*\
  !*** ./src/$$_lazy_route_resource lazy namespace object ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncaught exception popping up in devtools
	return Promise.resolve().then(function() {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = "./src/$$_lazy_route_resource lazy recursive";

/***/ }),

/***/ "./src/app/app.component.css":
/*!***********************************!*\
  !*** ./src/app/app.component.css ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\n:root {\n  --header-height: 40px;\n}\n\nhtml, body, material-app, mat-sidenav-container, mat-sidenav-content {\n  margin: 0 0 0 50px;\n  height: 100%;\n}\n\nheader {\n  background-color: #56A6B6;\n  color: #fff;\n  height: var(--header-height);\n  left: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 999;\n}\n\nh1 {\n  font-size: 20px;\n  font-weight: 400;\n  margin: 5px 0 10px 8px;\n  margin-left: 13px;\n  display: inline-block;\n}\n\n.sidebar {\n  background-color: #fff;\n  height: 100%;\n  left: 0;\n  position: fixed;\n  width: 50px;\n}\n\n.side-content {\n  width: 300px;\n}\n\n.login-container {\n  float: right;\n  margin: 5px 20px 10px 8px;\n  font-size: 20px;\n}\n\n.spinner {\n  vertical-align: text-bottom;\n  width: 25px;\n}\n\n.mat-raised-button{\n  margin-left: 5px!important;\n}\n\n.mat-drawer-inner-container{\n  width: 120%;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7b0NBQ29DOztBQUVwQztFQUNFLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLGtCQUFrQjtFQUNsQixZQUFZO0FBQ2Q7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsV0FBVztFQUNYLDRCQUE0QjtFQUM1QixPQUFPO0VBQ1AsZUFBZTtFQUNmLE1BQU07RUFDTixXQUFXO0VBQ1gsWUFBWTtBQUNkOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixzQkFBc0I7RUFDdEIsaUJBQWlCO0VBQ2pCLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLHNCQUFzQjtFQUN0QixZQUFZO0VBQ1osT0FBTztFQUNQLGVBQWU7RUFDZixXQUFXO0FBQ2I7O0FBRUE7RUFDRSxZQUFZO0FBQ2Q7O0FBRUE7RUFDRSxZQUFZO0VBQ1oseUJBQXlCO0VBQ3pCLGVBQWU7QUFDakI7O0FBRUE7RUFDRSwyQkFBMkI7RUFDM0IsV0FBVztBQUNiOztBQUVBO0VBQ0UsMEJBQTBCO0FBQzVCOztBQUVBO0VBQ0UsV0FBVztBQUNiIiwiZmlsZSI6InNyYy9hcHAvYXBwLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gKi9cblxuOnJvb3Qge1xuICAtLWhlYWRlci1oZWlnaHQ6IDQwcHg7XG59XG5cbmh0bWwsIGJvZHksIG1hdGVyaWFsLWFwcCwgbWF0LXNpZGVuYXYtY29udGFpbmVyLCBtYXQtc2lkZW5hdi1jb250ZW50IHtcbiAgbWFyZ2luOiAwIDAgMCA1MHB4O1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbmhlYWRlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICM1NkE2QjY7XG4gIGNvbG9yOiAjZmZmO1xuICBoZWlnaHQ6IHZhcigtLWhlYWRlci1oZWlnaHQpO1xuICBsZWZ0OiAwO1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHRvcDogMDtcbiAgd2lkdGg6IDEwMCU7XG4gIHotaW5kZXg6IDk5OTtcbn1cblxuaDEge1xuICBmb250LXNpemU6IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiA0MDA7XG4gIG1hcmdpbjogNXB4IDAgMTBweCA4cHg7XG4gIG1hcmdpbi1sZWZ0OiAxM3B4O1xuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG59XG5cbi5zaWRlYmFyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbiAgaGVpZ2h0OiAxMDAlO1xuICBsZWZ0OiAwO1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHdpZHRoOiA1MHB4O1xufVxuXG4uc2lkZS1jb250ZW50IHtcbiAgd2lkdGg6IDMwMHB4O1xufVxuXG4ubG9naW4tY29udGFpbmVyIHtcbiAgZmxvYXQ6IHJpZ2h0O1xuICBtYXJnaW46IDVweCAyMHB4IDEwcHggOHB4O1xuICBmb250LXNpemU6IDIwcHg7XG59XG5cbi5zcGlubmVyIHtcbiAgdmVydGljYWwtYWxpZ246IHRleHQtYm90dG9tO1xuICB3aWR0aDogMjVweDtcbn1cblxuLm1hdC1yYWlzZWQtYnV0dG9ue1xuICBtYXJnaW4tbGVmdDogNXB4IWltcG9ydGFudDtcbn1cblxuLm1hdC1kcmF3ZXItaW5uZXItY29udGFpbmVye1xuICB3aWR0aDogMTIwJTtcbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/app.component.ts":
/*!**********************************!*\
  !*** ./src/app/app.component.ts ***!
  \**********************************/
/*! exports provided: AppComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppComponent", function() { return AppComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
/* harmony import */ var _core_spinner_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core/spinner.service */ "./src/app/core/spinner.service.ts");
/* harmony import */ var _shared_role__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./shared/role */ "./src/app/shared/role.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





let AppComponent = class AppComponent {
    constructor(location, spinnerService) {
        this.location = location;
        this.spinnerService = spinnerService;
        this.Roles = _shared_role__WEBPACK_IMPORTED_MODULE_4__["Roles"];
        this.toasterconfig = new angular2_toaster__WEBPACK_IMPORTED_MODULE_2__["ToasterConfig"]({
            limit: 1,
            positionClass: 'toast-padded-top-right'
        });
    }
    ngOnInit() {
    }
    isReport() {
        return this.location.path() === '/reports';
    }
};
AppComponent.ctorParameters = () => [
    { type: _angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"] },
    { type: _core_spinner_service__WEBPACK_IMPORTED_MODULE_3__["SpinnerService"] }
];
AppComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-root',
        template: __webpack_require__(/*! raw-loader!./app.component.html */ "./node_modules/raw-loader/index.js!./src/app/app.component.html"),
        styles: [__webpack_require__(/*! ./app.component.css */ "./src/app/app.component.css")]
    }),
    __metadata("design:paramtypes", [_angular_common__WEBPACK_IMPORTED_MODULE_1__["Location"],
        _core_spinner_service__WEBPACK_IMPORTED_MODULE_3__["SpinnerService"]])
], AppComponent);



/***/ }),

/***/ "./src/app/app.module.ts":
/*!*******************************!*\
  !*** ./src/app/app.module.ts ***!
  \*******************************/
/*! exports provided: routing, AppModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routing", function() { return routing; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AppModule", function() { return AppModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _app_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.component */ "./src/app/app.component.ts");
/* harmony import */ var _assets_assets_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./assets/assets.module */ "./src/app/assets/assets.module.ts");
/* harmony import */ var _core_core_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core/core.module */ "./src/app/core/core.module.ts");
/* harmony import */ var _devices_devices_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./devices/devices.module */ "./src/app/devices/devices.module.ts");
/* harmony import */ var _dispatching_dispatching_module__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./dispatching/dispatching.module */ "./src/app/dispatching/dispatching.module.ts");
/* harmony import */ var _geofences_geofences_module__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./geofences/geofences.module */ "./src/app/geofences/geofences.module.ts");
/* harmony import */ var _locations_locations_module__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./locations/locations.module */ "./src/app/locations/locations.module.ts");
/* harmony import */ var _maps_maps_module__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./maps/maps.module */ "./src/app/maps/maps.module.ts");
/* harmony import */ var _reports_reports_module__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./reports/reports.module */ "./src/app/reports/reports.module.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
/* harmony import */ var _users_users_module__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./users/users.module */ "./src/app/users/users.module.ts");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_15__);
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
















const routing = _angular_router__WEBPACK_IMPORTED_MODULE_2__["RouterModule"].forRoot([
    {
        path: '',
        pathMatch: 'full',
        redirectTo: '/assets'
    }
]);
let AppModule = class AppModule {
};
AppModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        bootstrap: [_app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"]],
        declarations: [_app_component__WEBPACK_IMPORTED_MODULE_3__["AppComponent"]],
        imports: [
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
            angular2_toaster__WEBPACK_IMPORTED_MODULE_13__["ToasterModule"],
            _assets_assets_module__WEBPACK_IMPORTED_MODULE_4__["AssetsModule"],
            _core_core_module__WEBPACK_IMPORTED_MODULE_5__["CoreModule"],
            _devices_devices_module__WEBPACK_IMPORTED_MODULE_6__["DevicesModule"],
            _dispatching_dispatching_module__WEBPACK_IMPORTED_MODULE_7__["DispatchingModule"],
            _locations_locations_module__WEBPACK_IMPORTED_MODULE_9__["LocationsModule"],
            _maps_maps_module__WEBPACK_IMPORTED_MODULE_10__["MapsModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_12__["SharedModule"],
            _reports_reports_module__WEBPACK_IMPORTED_MODULE_11__["ReportsModule"],
            _users_users_module__WEBPACK_IMPORTED_MODULE_14__["UsersModule"],
            _geofences_geofences_module__WEBPACK_IMPORTED_MODULE_8__["GeofencesModule"],
            routing
        ]
    })
], AppModule);



/***/ }),

/***/ "./src/app/assets/asset-editor/asset-editor.component.css":
/*!****************************************************************!*\
  !*** ./src/app/assets/asset-editor/asset-editor.component.css ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nsection {\n  padding: 10px;\n}\n\nform {\n  width: 100%;\n}\n\n.truck-container {\n  margin: 0 0 20px 0;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXNzZXRzL2Fzc2V0LWVkaXRvci9hc3NldC1lZGl0b3IuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtvQ0FDb0M7O0FBRXBDO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0Usa0JBQWtCO0FBQ3BCIiwiZmlsZSI6InNyYy9hcHAvYXNzZXRzL2Fzc2V0LWVkaXRvci9hc3NldC1lZGl0b3IuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiAqL1xuXG5zZWN0aW9uIHtcbiAgcGFkZGluZzogMTBweDtcbn1cblxuZm9ybSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4udHJ1Y2stY29udGFpbmVyIHtcbiAgbWFyZ2luOiAwIDAgMjBweCAwO1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/assets/asset-editor/asset-editor.component.ts":
/*!***************************************************************!*\
  !*** ./src/app/assets/asset-editor/asset-editor.component.ts ***!
  \***************************************************************/
/*! exports provided: AssetEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetEditorComponent", function() { return AssetEditorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
/* harmony import */ var _asset__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../asset */ "./src/app/assets/asset.ts");
/* harmony import */ var _shared_role__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared/role */ "./src/app/shared/role.ts");
/* harmony import */ var _shared_asset_properties__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/asset-properties */ "./src/app/shared/asset-properties.ts");
/* harmony import */ var _asset_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../asset.service */ "./src/app/assets/asset.service.ts");
/* harmony import */ var _devices_device_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../devices/device.service */ "./src/app/devices/device.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









let AssetEditorComponent = class AssetEditorComponent {
    constructor(route, router, assetService, deviceService, toasterService) {
        this.route = route;
        this.router = router;
        this.assetService = assetService;
        this.deviceService = deviceService;
        this.toasterService = toasterService;
        this.AssetType = _asset__WEBPACK_IMPORTED_MODULE_3__["AssetType"];
        this.Roles = _shared_role__WEBPACK_IMPORTED_MODULE_4__["Roles"];
        this.asset = new _asset__WEBPACK_IMPORTED_MODULE_3__["Asset"]();
        this.asset.assetType = _asset__WEBPACK_IMPORTED_MODULE_3__["AssetType"].Car;
        this.assetProperties = new _shared_asset_properties__WEBPACK_IMPORTED_MODULE_5__["AssetProperties"]();
    }
    ngOnInit() {
        this.isAlive = true;
        this.route.params.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["takeWhile"])(() => this.isAlive))
            .subscribe(params => {
            const id = params['id'];
            if (id) {
                this.isEditable = true;
                this.assetService.getAsset(id).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["takeWhile"])(() => this.isAlive))
                    .subscribe(asset => {
                    this.asset = asset;
                    this.assetProperties = this.asset.assetProperties;
                });
            }
        });
        this.deviceService.getDevices().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["takeWhile"])(() => this.isAlive))
            .subscribe(devices => this.devices = devices);
    }
    ngOnDestroy() {
        this.isAlive = false;
    }
    submit() {
        if (this.asset.assetType === _asset__WEBPACK_IMPORTED_MODULE_3__["AssetType"].Truck) {
            this.asset.assetProperties = this.assetProperties;
        }
        if (this.isEditable) {
            this.assetService.updateAsset(this.asset)
                .subscribe(() => this.router.navigate(['/assets']));
        }
        else {
            this.assetService.addAsset(this.asset)
                .subscribe(() => this.router.navigate(['/assets']), error => {
                this.toasterService.pop('error', 'Invalid Input', 'Asset ID already exists');
            });
        }
    }
    deleteAsset() {
        this.assetService.deleteAsset(this.asset)
            .subscribe(() => this.router.navigate(['/assets']));
    }
};
AssetEditorComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
    { type: _asset_service__WEBPACK_IMPORTED_MODULE_6__["AssetService"] },
    { type: _devices_device_service__WEBPACK_IMPORTED_MODULE_7__["DeviceService"] },
    { type: angular2_toaster__WEBPACK_IMPORTED_MODULE_2__["ToasterService"] }
];
AssetEditorComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-asset-editor-dialog',
        template: __webpack_require__(/*! raw-loader!./asset-editor.component.html */ "./node_modules/raw-loader/index.js!./src/app/assets/asset-editor/asset-editor.component.html"),
        styles: [__webpack_require__(/*! ./asset-editor.component.css */ "./src/app/assets/asset-editor/asset-editor.component.css")]
    }),
    __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
        _asset_service__WEBPACK_IMPORTED_MODULE_6__["AssetService"],
        _devices_device_service__WEBPACK_IMPORTED_MODULE_7__["DeviceService"],
        angular2_toaster__WEBPACK_IMPORTED_MODULE_2__["ToasterService"]])
], AssetEditorComponent);



/***/ }),

/***/ "./src/app/assets/asset-list/asset-list.component.css":
/*!************************************************************!*\
  !*** ./src/app/assets/asset-list/asset-list.component.css ***!
  \************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nmat-form-field {\n    font-size: 0.95em;\n    margin: 10px 0 0 10px;\n}\n\n.active {\n    color: #ffffff;\n    background-color: #56A6B6;\n}\n\n.active .subtle {\n    color: #ffffff;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXNzZXRzL2Fzc2V0LWxpc3QvYXNzZXQtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29DQUNvQzs7QUFFcEM7SUFDSSxpQkFBaUI7SUFDakIscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksY0FBYztJQUNkLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGNBQWM7QUFDbEIiLCJmaWxlIjoic3JjL2FwcC9hc3NldHMvYXNzZXQtbGlzdC9hc3NldC1saXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gKi9cblxubWF0LWZvcm0tZmllbGQge1xuICAgIGZvbnQtc2l6ZTogMC45NWVtO1xuICAgIG1hcmdpbjogMTBweCAwIDAgMTBweDtcbn1cblxuLmFjdGl2ZSB7XG4gICAgY29sb3I6ICNmZmZmZmY7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU2QTZCNjtcbn1cblxuLmFjdGl2ZSAuc3VidGxlIHtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/assets/asset-list/asset-list.component.ts":
/*!***********************************************************!*\
  !*** ./src/app/assets/asset-list/asset-list.component.ts ***!
  \***********************************************************/
/*! exports provided: AssetListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetListComponent", function() { return AssetListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
/* harmony import */ var _asset_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../asset.service */ "./src/app/assets/asset.service.ts");
/* harmony import */ var _maps_maps_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../maps/maps.service */ "./src/app/maps/maps.service.ts");
/* harmony import */ var _locations_location_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../locations/location.service */ "./src/app/locations/location.service.ts");
/* harmony import */ var _shared_role__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../shared/role */ "./src/app/shared/role.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var SelectedAssetState;
(function (SelectedAssetState) {
    SelectedAssetState[SelectedAssetState["ListSelected"] = 0] = "ListSelected";
    SelectedAssetState[SelectedAssetState["PointsSelected"] = 1] = "PointsSelected";
    SelectedAssetState[SelectedAssetState["TripsSelected"] = 2] = "TripsSelected";
    SelectedAssetState[SelectedAssetState["NoneSelected"] = 3] = "NoneSelected";
})(SelectedAssetState || (SelectedAssetState = {}));
let AssetListComponent = class AssetListComponent {
    constructor(assetService, locationService, mapsService, toasterService) {
        this.assetService = assetService;
        this.locationService = locationService;
        this.mapsService = mapsService;
        this.toasterService = toasterService;
        this.Roles = _shared_role__WEBPACK_IMPORTED_MODULE_5__["Roles"];
        this.isDrawing = false;
        this.isAlive = true;
    }
    ngOnInit() {
        this.assetService.getAssets().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeWhile"])(() => this.isAlive), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["skipWhile"])(assets => assets.length === 0))
            .subscribe(assets => {
            this.assetsList = assets.sort((a, b) => {
                if (a.name < b.name) {
                    return -1;
                }
                if (a.name > b.name) {
                    return 1;
                }
                return 0;
            });
            this.showAllAssets();
        });
    }
    ngOnDestroy() {
        this.isAlive = false;
        this.unsubscribe();
    }
    showPoints(asset, filterSelected = false) {
        this.lastCalledFunction = this.showPoints;
        if (asset === this.selectedAsset && this.isAssetPointsSelected() && !filterSelected) {
            this.selectedAsset = null;
            this.selectedAssetState = SelectedAssetState.NoneSelected;
            this.showAllAssets();
        }
        else {
            this.selectedAsset = asset;
            this.selectedAssetState = SelectedAssetState.PointsSelected;
            this.toasterService.pop('info', '', 'Showing latest points of \" ' + this.selectedAsset.name + ' \"');
            this.unsubscribe();
            this.subscription = this.assetService.getPoints(asset.id, this.selectedDateRange)
                .subscribe(points => {
                this.mapsService.showPoints(points);
            });
        }
    }
    showAsset(asset) {
        this.lastCalledFunction = null;
        if (asset === this.selectedAsset && this.isAssetListSeleceted()) {
            this.selectedAsset = null;
        }
        else {
            this.selectedAsset = asset;
            this.selectedAssetState = SelectedAssetState.ListSelected;
            this.showAllAssets();
            this.toasterService.pop('info', '', 'Following asset ' + this.selectedAsset.name);
        }
    }
    showAllAssets() {
        this.unsubscribe();
        this.subscription = this.assetService.getLatestPoints()
            .subscribe(points => {
            this.mapsService.showAssetsPositions(points);
            if (this.selectedAsset && !points[this.selectedAsset.name]) {
                this.toasterService.pop('error', '', 'Can\'t find position of ' + this.selectedAsset.name);
            }
            else if (this.selectedAsset) {
                this.mapsService.showAsset([this.selectedAsset, points[this.selectedAsset.name]]);
            }
        });
    }
    showTrips(asset, filterSelected = false) {
        this.lastCalledFunction = this.showTrips;
        if (asset === this.selectedAsset && this.isAssetTripsSelected() && !filterSelected) {
            this.selectedAssetState = SelectedAssetState.NoneSelected;
            this.selectedAsset = null;
            this.showAllAssets();
        }
        else {
            this.selectedAsset = asset;
            this.selectedAssetState = SelectedAssetState.TripsSelected;
            this.toasterService.pop('info', '', 'Showing latest trips of ' + this.selectedAsset.name);
            this.unsubscribe();
            this.subscription = this.assetService.getTrips(asset.id, this.selectedDateRange)
                .subscribe(trips => {
                this.trips = trips;
                this.mapsService.showTrips(trips);
            });
        }
    }
    selectTrip(trip) {
        this.mapsService.showTrip(trip);
        this.isDrawing = true;
    }
    timeFilterChange(range) {
        if (this.lastCalledFunction) {
            this.selectedDateRange = range;
            this.lastCalledFunction(this.selectedAsset, true);
        }
    }
    unsubscribe() {
        if (this.subscription && !this.subscription.closed) {
            this.subscription.unsubscribe();
        }
        if (this.isDrawing) {
            this.mapsService.endCurrentDraw();
            this.isDrawing = false;
        }
    }
    isAssetListSeleceted() {
        return this.selectedAssetState === SelectedAssetState.ListSelected;
    }
    isAssetTripsSelected() {
        return this.selectedAssetState === SelectedAssetState.TripsSelected;
    }
    isAssetPointsSelected() {
        return this.selectedAssetState === SelectedAssetState.PointsSelected;
    }
};
AssetListComponent.ctorParameters = () => [
    { type: _asset_service__WEBPACK_IMPORTED_MODULE_2__["AssetService"] },
    { type: _locations_location_service__WEBPACK_IMPORTED_MODULE_4__["LocationService"] },
    { type: _maps_maps_service__WEBPACK_IMPORTED_MODULE_3__["MapsService"] },
    { type: angular2_toaster__WEBPACK_IMPORTED_MODULE_1__["ToasterService"] }
];
AssetListComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-asset-list',
        template: __webpack_require__(/*! raw-loader!./asset-list.component.html */ "./node_modules/raw-loader/index.js!./src/app/assets/asset-list/asset-list.component.html"),
        styles: [__webpack_require__(/*! ./asset-list.component.css */ "./src/app/assets/asset-list/asset-list.component.css")]
    }),
    __metadata("design:paramtypes", [_asset_service__WEBPACK_IMPORTED_MODULE_2__["AssetService"],
        _locations_location_service__WEBPACK_IMPORTED_MODULE_4__["LocationService"],
        _maps_maps_service__WEBPACK_IMPORTED_MODULE_3__["MapsService"],
        angular2_toaster__WEBPACK_IMPORTED_MODULE_1__["ToasterService"]])
], AssetListComponent);



/***/ }),

/***/ "./src/app/assets/asset.service.ts":
/*!*****************************************!*\
  !*** ./src/app/assets/asset.service.ts ***!
  \*****************************************/
/*! exports provided: AssetService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetService", function() { return AssetService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _core_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/data.service */ "./src/app/core/data.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





let AssetService = class AssetService {
    constructor(dataService) {
        this.dataService = dataService;
    }
    addAsset(asset) {
        return this.dataService.post('assets', asset);
    }
    updateAsset(asset) {
        return this.dataService.put('assets', asset.id, asset, true);
    }
    deleteAsset(asset) {
        return this.dataService.delete('assets', asset.id);
    }
    getAssets() {
        return this.dataService.get('assets');
    }
    getAsset(id) {
        return this.dataService.getSingle('assets', id);
    }
    getPoints(id, dateRange) {
        return this.dataService.get(`assets/${id}/points`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(points => {
            if (!dateRange) {
                return points;
            }
            return points.filter(p => p.time >= +dateRange.from && p.time <= +dateRange.to);
        }));
    }
    getLatestPoints() {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_3__["interval"])(3 * 1000).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["startWith"])(0), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["flatMap"])(() => {
            return this.dataService.getSingleNoCache(`assets/all/positions`);
        }));
    }
    getTrips(id, dateRange) {
        return this.dataService.get(`assets/${id}/trips`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_1__["map"])(trips => {
            if (!dateRange) {
                return trips;
            }
            return trips.filter(t => {
                return Date.parse(t.startTimeUtc) >= +dateRange.from && Date.parse(t.startTimeUtc) <= +dateRange.to;
            });
        }));
    }
};
AssetService.ctorParameters = () => [
    { type: _core_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"] }
];
AssetService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [_core_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"]])
], AssetService);



/***/ }),

/***/ "./src/app/assets/asset.ts":
/*!*********************************!*\
  !*** ./src/app/assets/asset.ts ***!
  \*********************************/
/*! exports provided: Asset, AssetType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Asset", function() { return Asset; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetType", function() { return AssetType; });
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
class Asset {
}
var AssetType;
(function (AssetType) {
    AssetType[AssetType["Car"] = 'Car'] = "Car";
    AssetType[AssetType["Truck"] = 'Truck'] = "Truck";
})(AssetType || (AssetType = {}));


/***/ }),

/***/ "./src/app/assets/assets-routing.module.ts":
/*!*************************************************!*\
  !*** ./src/app/assets/assets-routing.module.ts ***!
  \*************************************************/
/*! exports provided: AssetsRoutingModule, assetsRoutedComponents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetsRoutingModule", function() { return AssetsRoutingModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "assetsRoutedComponents", function() { return assetsRoutedComponents; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./asset-list/asset-list.component */ "./src/app/assets/asset-list/asset-list.component.ts");
/* harmony import */ var _asset_editor_asset_editor_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./asset-editor/asset-editor.component */ "./src/app/assets/asset-editor/asset-editor.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




const routes = [
    {
        path: 'assets/new', component: _asset_editor_asset_editor_component__WEBPACK_IMPORTED_MODULE_3__["AssetEditorComponent"]
    },
    {
        path: 'assets/:id', component: _asset_editor_asset_editor_component__WEBPACK_IMPORTED_MODULE_3__["AssetEditorComponent"]
    },
    {
        path: 'assets', component: _asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_2__["AssetListComponent"]
    }
];
let AssetsRoutingModule = class AssetsRoutingModule {
};
AssetsRoutingModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
    })
], AssetsRoutingModule);

const assetsRoutedComponents = [
    _asset_list_asset_list_component__WEBPACK_IMPORTED_MODULE_2__["AssetListComponent"],
    _asset_editor_asset_editor_component__WEBPACK_IMPORTED_MODULE_3__["AssetEditorComponent"]
];


/***/ }),

/***/ "./src/app/assets/assets.module.ts":
/*!*****************************************!*\
  !*** ./src/app/assets/assets.module.ts ***!
  \*****************************************/
/*! exports provided: AssetsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetsModule", function() { return AssetsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var _assets_routing_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./assets-routing.module */ "./src/app/assets/assets-routing.module.ts");
/* harmony import */ var _asset_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./asset.service */ "./src/app/assets/asset.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




let AssetsModule = class AssetsModule {
};
AssetsModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        declarations: [
            _assets_routing_module__WEBPACK_IMPORTED_MODULE_2__["assetsRoutedComponents"]
        ],
        imports: [
            _assets_routing_module__WEBPACK_IMPORTED_MODULE_2__["AssetsRoutingModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ],
        providers: [
            _asset_service__WEBPACK_IMPORTED_MODULE_3__["AssetService"]
        ]
    })
], AssetsModule);



/***/ }),

/***/ "./src/app/core/authorized-http.service.ts":
/*!*************************************************!*\
  !*** ./src/app/core/authorized-http.service.ts ***!
  \*************************************************/
/*! exports provided: AuthorizedHttpService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthorizedHttpService", function() { return AuthorizedHttpService; });
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




let AuthorizedHttpService = class AuthorizedHttpService {
    constructor(http, toasterService) {
        this.http = http;
        this.toasterService = toasterService;
    }
    get(path) {
        const subject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.http.get(path, { withCredentials: true })
            .subscribe(data => subject.next(data), error => {
            this.authErrorHandler(error);
            subject.error(error);
        });
        return subject.asObservable();
    }
    put(path, dataToUse) {
        const subject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.http.put(path, dataToUse, { withCredentials: true })
            .subscribe(data => subject.next(data), error => {
            this.authErrorHandler(error);
            subject.error(error);
        });
        return subject.asObservable();
    }
    post(path, dataToUse) {
        const subject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.http.post(path, dataToUse, { withCredentials: true })
            .subscribe(data => subject.next(data), error => {
            this.authErrorHandler(error);
            subject.error(error);
        });
        return subject.asObservable();
    }
    delete(path) {
        const subject = new rxjs__WEBPACK_IMPORTED_MODULE_2__["Subject"]();
        this.http.delete(path, { withCredentials: true })
            .subscribe(data => subject.next(data), error => {
            this.authErrorHandler(error);
            subject.error(error);
        });
        return subject.asObservable();
    }
    authErrorHandler(error) {
        if (error.status === 401) {
            this.toasterService.pop('info', 'Not logged in', 'Please login to be able to access the service');
        }
        else if (error.status === 403) {
            this.toasterService.pop('error', 'Insufficient permissions', 'You are not allowed to perform this action');
        }
        else {
            this.toasterService.pop('error', 'Error Occured', 'An error occured while contacting the server');
        }
    }
};
AuthorizedHttpService.ctorParameters = () => [
    { type: _angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"] },
    { type: angular2_toaster__WEBPACK_IMPORTED_MODULE_3__["ToasterService"] }
];
AuthorizedHttpService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    __metadata("design:paramtypes", [_angular_common_http__WEBPACK_IMPORTED_MODULE_0__["HttpClient"],
        angular2_toaster__WEBPACK_IMPORTED_MODULE_3__["ToasterService"]])
], AuthorizedHttpService);



/***/ }),

/***/ "./src/app/core/cache.ts":
/*!*******************************!*\
  !*** ./src/app/core/cache.ts ***!
  \*******************************/
/*! exports provided: Cache */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Cache", function() { return Cache; });
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

class Cache {
    constructor() {
        this.items = [];
        this.subject = new rxjs__WEBPACK_IMPORTED_MODULE_0__["BehaviorSubject"]([]);
    }
    getItems() {
        return this.subject.asObservable();
    }
    set(data) {
        this.items = data;
        this.notify();
    }
    add(item) {
        this.items.push(item);
        this.notify();
    }
    get(id) {
        for (const item of this.items) {
            if (item['id'] === id) {
                return item;
            }
        }
        return null;
    }
    update(item) {
        for (let i = 0; i < this.items.length; i++) {
            if (this.items[i]['id'] === item['id']) {
                this.items[i] = item;
                this.notify();
                return;
            }
        }
    }
    notify() {
        this.subject.next(Object.assign([], this.items));
    }
}


/***/ }),

/***/ "./src/app/core/core-routing.module.ts":
/*!*********************************************!*\
  !*** ./src/app/core/core-routing.module.ts ***!
  \*********************************************/
/*! exports provided: CoreRoutingModule, routedComponents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreRoutingModule", function() { return CoreRoutingModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routedComponents", function() { return routedComponents; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _settings_settings_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./settings/settings.component */ "./src/app/core/settings/settings.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



const routes = [
    {
        path: 'settings',
        component: _settings_settings_component__WEBPACK_IMPORTED_MODULE_2__["SettingsComponent"]
    }
];
let CoreRoutingModule = class CoreRoutingModule {
};
CoreRoutingModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
    })
], CoreRoutingModule);

const routedComponents = [
    _settings_settings_component__WEBPACK_IMPORTED_MODULE_2__["SettingsComponent"]
];


/***/ }),

/***/ "./src/app/core/core.module.ts":
/*!*************************************!*\
  !*** ./src/app/core/core.module.ts ***!
  \*************************************/
/*! exports provided: CoreModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "CoreModule", function() { return CoreModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_common_http__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/common/http */ "./node_modules/@angular/common/fesm2015/http.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var _core_routing_module__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./core-routing.module */ "./src/app/core/core-routing.module.ts");
/* harmony import */ var _nav_nav_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./nav/nav.component */ "./src/app/core/nav/nav.component.ts");
/* harmony import */ var _settings_settings_component__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./settings/settings.component */ "./src/app/core/settings/settings.component.ts");
/* harmony import */ var _module_import_guard__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./module-import-guard */ "./src/app/core/module-import-guard.ts");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./data.service */ "./src/app/core/data.service.ts");
/* harmony import */ var _trip_service__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./trip.service */ "./src/app/core/trip.service.ts");
/* harmony import */ var _settings_service__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./settings.service */ "./src/app/core/settings.service.ts");
/* harmony import */ var _environment_settings_service__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./environment-settings.service */ "./src/app/core/environment-settings.service.ts");
/* harmony import */ var _spinner_service__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./spinner.service */ "./src/app/core/spinner.service.ts");
/* harmony import */ var _authorized_http_service__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./authorized-http.service */ "./src/app/core/authorized-http.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};
















let CoreModule = class CoreModule {
    constructor(parentModule) {
        Object(_module_import_guard__WEBPACK_IMPORTED_MODULE_9__["throwIfAlreadyLoaded"])(parentModule, 'CoreModule');
    }
};
CoreModule.ctorParameters = () => [
    { type: CoreModule, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"] }, { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"] }] }
];
CoreModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
            _angular_common_http__WEBPACK_IMPORTED_MODULE_3__["HttpClientModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_4__["RouterModule"],
            _core_routing_module__WEBPACK_IMPORTED_MODULE_6__["CoreRoutingModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_5__["SharedModule"]
        ],
        declarations: [
            _nav_nav_component__WEBPACK_IMPORTED_MODULE_7__["NavComponent"],
            _core_routing_module__WEBPACK_IMPORTED_MODULE_6__["routedComponents"]
        ],
        exports: [
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
            _nav_nav_component__WEBPACK_IMPORTED_MODULE_7__["NavComponent"],
            _settings_settings_component__WEBPACK_IMPORTED_MODULE_8__["SettingsComponent"]
        ],
        providers: [
            _environment_settings_service__WEBPACK_IMPORTED_MODULE_13__["EnvironmentSettingsService"],
            _authorized_http_service__WEBPACK_IMPORTED_MODULE_15__["AuthorizedHttpService"],
            _settings_service__WEBPACK_IMPORTED_MODULE_12__["SettingsService"],
            _spinner_service__WEBPACK_IMPORTED_MODULE_14__["SpinnerService"],
            _data_service__WEBPACK_IMPORTED_MODULE_10__["DataService"],
            _trip_service__WEBPACK_IMPORTED_MODULE_11__["TripService"]
        ]
    }),
    __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Optional"])()), __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["SkipSelf"])()),
    __metadata("design:paramtypes", [CoreModule])
], CoreModule);



/***/ }),

/***/ "./src/app/core/data.service.ts":
/*!**************************************!*\
  !*** ./src/app/core/data.service.ts ***!
  \**************************************/
/*! exports provided: DataService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DataService", function() { return DataService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _cache__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./cache */ "./src/app/core/cache.ts");
/* harmony import */ var _authorized_http_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./authorized-http.service */ "./src/app/core/authorized-http.service.ts");
/* harmony import */ var _spinner_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./spinner.service */ "./src/app/core/spinner.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _environment_settings_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./environment-settings.service */ "./src/app/core/environment-settings.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







let DataService = class DataService {
    constructor(environmentSettingsService, authHttpService, spinnerService) {
        this.environmentSettingsService = environmentSettingsService;
        this.authHttpService = authHttpService;
        this.spinnerService = spinnerService;
        this.cacheMap = new Map();
    }
    get(path) {
        this.spinnerService.start();
        const cache = this.getCache(path);
        const url = this.getUrl(path);
        this.authHttpService.get(url).subscribe(data => {
            cache.set(data);
            this.spinnerService.stop();
        }, error => this.spinnerService.stop());
        return cache.getItems();
    }
    getNoCache(path) {
        const url = this.getUrl(path);
        const observable = this.authHttpService.get(url);
        return observable;
    }
    getSingleNoCache(path) {
        const url = this.getUrl(path);
        const observable = this.authHttpService.get(url);
        return observable;
    }
    getSingle(path, id) {
        const cache = this.getCache(path);
        const url = this.getUrl(path, id);
        const subject = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](cache.get(id));
        this.authHttpService.get(url)
            .subscribe(data => { cache.update(data); subject.next(data); }, error => subject.error(error));
        return subject.asObservable();
    }
    post(path, data, queryParameters = null) {
        const cache = this.getCache(path);
        let url = this.getUrl(path);
        if (queryParameters != null) {
            queryParameters.forEach((value, key) => {
                if (key === queryParameters.keys().next().value) {
                    url = url.concat('?' + key + '=' + value);
                }
                else {
                    url = url.concat('&' + key + '=' + value);
                }
            });
        }
        const observable = this.authHttpService.post(url, data).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(response => typeof response != undefined ? response : null));
        observable
            .subscribe(d => cache.add(d), error => { });
        return observable;
    }
    put(path, id, data, updateAll) {
        const cache = this.getCache(path);
        const url = this.getUrl(path, id);
        const observable = this.authHttpService.put(url, data).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["map"])(response => typeof response != undefined ? response : null));
        observable
            .subscribe(d => {
            if (updateAll) {
                this.get(path);
            }
            else {
                cache.update(d);
            }
        });
        return observable;
    }
    delete(path, id) {
        const cache = this.getCache(path);
        const url = this.getUrl(path, id);
        const observable = this.authHttpService.delete(url);
        observable
            .subscribe(d => this.get(path));
        return observable;
    }
    getUrl(path, id) {
        const url = `${this.environmentSettingsService.getEnvironmentVariable(_environment_settings_service__WEBPACK_IMPORTED_MODULE_6__["EnvironmentSettings"].backendUrl)}/${path}`;
        return id ? `${url}/${id}` : url;
    }
    getCache(path) {
        if (!this.cacheMap.has(path)) {
            this.cacheMap.set(path, new _cache__WEBPACK_IMPORTED_MODULE_2__["Cache"]());
        }
        return this.cacheMap.get(path);
    }
};
DataService.ctorParameters = () => [
    { type: _environment_settings_service__WEBPACK_IMPORTED_MODULE_6__["EnvironmentSettingsService"] },
    { type: _authorized_http_service__WEBPACK_IMPORTED_MODULE_3__["AuthorizedHttpService"] },
    { type: _spinner_service__WEBPACK_IMPORTED_MODULE_4__["SpinnerService"] }
];
DataService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [_environment_settings_service__WEBPACK_IMPORTED_MODULE_6__["EnvironmentSettingsService"],
        _authorized_http_service__WEBPACK_IMPORTED_MODULE_3__["AuthorizedHttpService"],
        _spinner_service__WEBPACK_IMPORTED_MODULE_4__["SpinnerService"]])
], DataService);



/***/ }),

/***/ "./src/app/core/environment-settings.service.ts":
/*!******************************************************!*\
  !*** ./src/app/core/environment-settings.service.ts ***!
  \******************************************************/
/*! exports provided: EnvironmentSettings, EnvironmentSettingsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EnvironmentSettings", function() { return EnvironmentSettings; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "EnvironmentSettingsService", function() { return EnvironmentSettingsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../environments/environment */ "./src/environments/environment.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var EnvironmentSettings;
(function (EnvironmentSettings) {
    EnvironmentSettings[EnvironmentSettings["backendUrl"] = 0] = "backendUrl";
    EnvironmentSettings[EnvironmentSettings["frontendUrl"] = 1] = "frontendUrl";
})(EnvironmentSettings || (EnvironmentSettings = {}));
let EnvironmentSettingsService = class EnvironmentSettingsService {
    getEnvironmentVariable(key) {
        return _environments_environment__WEBPACK_IMPORTED_MODULE_1__["environment"][EnvironmentSettings[key]];
    }
};
EnvironmentSettingsService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])()
], EnvironmentSettingsService);



/***/ }),

/***/ "./src/app/core/module-import-guard.ts":
/*!*********************************************!*\
  !*** ./src/app/core/module-import-guard.ts ***!
  \*********************************************/
/*! exports provided: throwIfAlreadyLoaded */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "throwIfAlreadyLoaded", function() { return throwIfAlreadyLoaded; });
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
function throwIfAlreadyLoaded(parentModule, moduleName) {
    if (parentModule) {
        throw new Error(`${moduleName} has already been loaded. Import Core modules in the AppModule only.`);
    }
}


/***/ }),

/***/ "./src/app/core/nav/nav.component.css":
/*!********************************************!*\
  !*** ./src/app/core/nav/nav.component.css ***!
  \********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nul {\n    list-style: none;\n    padding: 0;\n    text-align: center;\n}\n\nul li {\n    margin: 0 5px 20px;\n}\n\nmat-icon {\n    font-size: 2em;\n    width: 100%;\n}\n\na {\n    color: #000;\n}\n\na.active, a.toggle:hover {\n    color: #56A6B6;\n}\n\na.toggle {\n    font-size: 1.8em;\n    cursor: pointer;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29yZS9uYXYvbmF2LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7b0NBQ29DOztBQUVwQztJQUNJLGdCQUFnQjtJQUNoQixVQUFVO0lBQ1Ysa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksY0FBYztJQUNkLFdBQVc7QUFDZjs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsZUFBZTtBQUNuQiIsImZpbGUiOiJzcmMvYXBwL2NvcmUvbmF2L25hdi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuICovXG5cbnVsIHtcbiAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIHBhZGRpbmc6IDA7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG51bCBsaSB7XG4gICAgbWFyZ2luOiAwIDVweCAyMHB4O1xufVxuXG5tYXQtaWNvbiB7XG4gICAgZm9udC1zaXplOiAyZW07XG4gICAgd2lkdGg6IDEwMCU7XG59XG5cbmEge1xuICAgIGNvbG9yOiAjMDAwO1xufVxuXG5hLmFjdGl2ZSwgYS50b2dnbGU6aG92ZXIge1xuICAgIGNvbG9yOiAjNTZBNkI2O1xufVxuXG5hLnRvZ2dsZSB7XG4gICAgZm9udC1zaXplOiAxLjhlbTtcbiAgICBjdXJzb3I6IHBvaW50ZXI7XG59Il19 */"

/***/ }),

/***/ "./src/app/core/nav/nav.component.ts":
/*!*******************************************!*\
  !*** ./src/app/core/nav/nav.component.ts ***!
  \*******************************************/
/*! exports provided: NavComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "NavComponent", function() { return NavComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _shared_role__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/role */ "./src/app/shared/role.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


let NavComponent = class NavComponent {
    constructor() {
        this.opened = true;
        this.Roles = _shared_role__WEBPACK_IMPORTED_MODULE_1__["Roles"];
        this.toggle = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    onToggle() {
        this.opened = !this.opened;
        this.toggle.emit();
    }
};
__decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
    __metadata("design:type", Object)
], NavComponent.prototype, "toggle", void 0);
NavComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-nav',
        template: __webpack_require__(/*! raw-loader!./nav.component.html */ "./node_modules/raw-loader/index.js!./src/app/core/nav/nav.component.html"),
        styles: [__webpack_require__(/*! ./nav.component.css */ "./src/app/core/nav/nav.component.css")]
    }),
    __metadata("design:paramtypes", [])
], NavComponent);



/***/ }),

/***/ "./src/app/core/settings.service.ts":
/*!******************************************!*\
  !*** ./src/app/core/settings.service.ts ***!
  \******************************************/
/*! exports provided: SubscriptionKeys, SettingsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SubscriptionKeys", function() { return SubscriptionKeys; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingsService", function() { return SettingsService; });
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./data.service */ "./src/app/core/data.service.ts");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.


var SubscriptionKeys;
(function (SubscriptionKeys) {
    SubscriptionKeys[SubscriptionKeys["BingMaps"] = 0] = "BingMaps";
    SubscriptionKeys[SubscriptionKeys["Johannesburg"] = 1] = "Johannesburg";
})(SubscriptionKeys || (SubscriptionKeys = {}));
let SettingsService = class SettingsService {
    constructor(dataService) {
        this.dataService = dataService;
    }
    getSubscriptionKeys() {
        return this.dataService.get('settings/subscriptionkeys');
    }
    getSubscriptionKey(key) {
        return this.dataService
            .getNoCache('settings/subscriptionkeys').pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(results => results[key.toString()]));
    }
    getVersionInfo() {
        return this.dataService.getSingleNoCache(`settings/version`);
    }
    getInstrumentationApproval() {
        return this.dataService.getSingleNoCache(`settings/instrumentation`);
    }
    setInstrumentationApproval(approval) {
        return this.dataService.post(`settings/instrumentation?approval=${approval}`, '');
    }
};
SettingsService.ctorParameters = () => [
    { type: _data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"] }
];
SettingsService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    __metadata("design:paramtypes", [_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"]])
], SettingsService);



/***/ }),

/***/ "./src/app/core/settings/settings.component.css":
/*!******************************************************!*\
  !*** ./src/app/core/settings/settings.component.css ***!
  \******************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\n.section-header {\n    margin-bottom: 0;\n}\n\nsection {\n    margin-left: 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvY29yZS9zZXR0aW5ncy9zZXR0aW5ncy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29DQUNvQzs7QUFFcEM7SUFDSSxnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxpQkFBaUI7QUFDckIiLCJmaWxlIjoic3JjL2FwcC9jb3JlL3NldHRpbmdzL3NldHRpbmdzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gKi9cblxuLnNlY3Rpb24taGVhZGVyIHtcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xufVxuXG5zZWN0aW9uIHtcbiAgICBtYXJnaW4tbGVmdDogMTBweDtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/core/settings/settings.component.ts":
/*!*****************************************************!*\
  !*** ./src/app/core/settings/settings.component.ts ***!
  \*****************************************************/
/*! exports provided: SettingsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SettingsComponent", function() { return SettingsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm2015/dialog.js");
/* harmony import */ var _version_info__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../version-info */ "./src/app/core/version-info.ts");
/* harmony import */ var _settings_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../settings.service */ "./src/app/core/settings.service.ts");
/* harmony import */ var _users_instrumentation_approval_instrumentation_approval_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../users/instrumentation-approval/instrumentation-approval.component */ "./src/app/users/instrumentation-approval/instrumentation-approval.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





let SettingsComponent = class SettingsComponent {
    constructor(settingsService, dialog) {
        this.settingsService = settingsService;
        this.dialog = dialog;
        this.instrumentationState = null;
        this.versionInfo = new _version_info__WEBPACK_IMPORTED_MODULE_2__["VersionInfo"]();
    }
    ngOnInit() {
        this.subkeys = this.settingsService.getSubscriptionKeys();
        this.settingsService.getVersionInfo().subscribe(v => this.versionInfo = v);
        this.settingsService.getInstrumentationApproval().subscribe(a => this.instrumentationState = a);
    }
    toggleInstrumentation() {
        if (!this.instrumentationState) {
            this.dialog.open(_users_instrumentation_approval_instrumentation_approval_component__WEBPACK_IMPORTED_MODULE_4__["InstrumentationApprovalComponent"], {
                width: '70%',
            }).afterClosed()
                .subscribe(res => {
                if (res != null) {
                    this.settingsService.setInstrumentationApproval(res);
                    this.instrumentationState = res;
                }
            });
        }
        else {
            this.settingsService.setInstrumentationApproval(false)
                .subscribe(() => this.instrumentationState = false);
        }
    }
};
SettingsComponent.ctorParameters = () => [
    { type: _settings_service__WEBPACK_IMPORTED_MODULE_3__["SettingsService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"] }
];
SettingsComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-settings',
        template: __webpack_require__(/*! raw-loader!./settings.component.html */ "./node_modules/raw-loader/index.js!./src/app/core/settings/settings.component.html"),
        styles: [__webpack_require__(/*! ./settings.component.css */ "./src/app/core/settings/settings.component.css")]
    }),
    __metadata("design:paramtypes", [_settings_service__WEBPACK_IMPORTED_MODULE_3__["SettingsService"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"]])
], SettingsComponent);



/***/ }),

/***/ "./src/app/core/spinner.service.ts":
/*!*****************************************!*\
  !*** ./src/app/core/spinner.service.ts ***!
  \*****************************************/
/*! exports provided: SpinnerService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SpinnerService", function() { return SpinnerService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

let SpinnerService = class SpinnerService {
    constructor() {
        this.spinning = false;
    }
    start() {
        this.spinning = true;
    }
    stop() {
        this.spinning = false;
    }
};
SpinnerService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [])
], SpinnerService);



/***/ }),

/***/ "./src/app/core/trip.service.ts":
/*!**************************************!*\
  !*** ./src/app/core/trip.service.ts ***!
  \**************************************/
/*! exports provided: TripService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TripService", function() { return TripService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./data.service */ "./src/app/core/data.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


let TripService = class TripService {
    constructor(dataService) {
        this.dataService = dataService;
    }
    getPoints(tripId, latitude, longitude) {
        return this.dataService.get(`trip/${tripId}/points?lat=${latitude}&lon=${longitude}`);
    }
};
TripService.ctorParameters = () => [
    { type: _data_service__WEBPACK_IMPORTED_MODULE_1__["DataService"] }
];
TripService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [_data_service__WEBPACK_IMPORTED_MODULE_1__["DataService"]])
], TripService);



/***/ }),

/***/ "./src/app/core/version-info.ts":
/*!**************************************!*\
  !*** ./src/app/core/version-info.ts ***!
  \**************************************/
/*! exports provided: VersionInfo */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "VersionInfo", function() { return VersionInfo; });
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
class VersionInfo {
}


/***/ }),

/***/ "./src/app/devices/device-editor/device-editor.component.css":
/*!*******************************************************************!*\
  !*** ./src/app/devices/device-editor/device-editor.component.css ***!
  \*******************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nsection {\n  padding: 10px;\n}\n\nform {\n  width: 100%;\n}\n\n.qrcode {\n  margin: 10px 0 0;\n  padding-bottom: 0;\n  text-align: center;\n}\n\nh4 {\n  text-align: center;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGV2aWNlcy9kZXZpY2UtZWRpdG9yL2RldmljZS1lZGl0b3IuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtvQ0FDb0M7O0FBRXBDO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixrQkFBa0I7QUFDcEI7O0FBRUE7RUFDRSxrQkFBa0I7QUFDcEIiLCJmaWxlIjoic3JjL2FwcC9kZXZpY2VzL2RldmljZS1lZGl0b3IvZGV2aWNlLWVkaXRvci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuICovXG5cbnNlY3Rpb24ge1xuICBwYWRkaW5nOiAxMHB4O1xufVxuXG5mb3JtIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5xcmNvZGUge1xuICBtYXJnaW46IDEwcHggMCAwO1xuICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG5oNCB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiJdfQ== */"

/***/ }),

/***/ "./src/app/devices/device-editor/device-editor.component.ts":
/*!******************************************************************!*\
  !*** ./src/app/devices/device-editor/device-editor.component.ts ***!
  \******************************************************************/
/*! exports provided: DeviceEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceEditorComponent", function() { return DeviceEditorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm2015/dialog.js");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
/* harmony import */ var _aspnet_signalr__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @aspnet/signalr */ "./node_modules/@aspnet/signalr/dist/esm/index.js");
/* harmony import */ var angular2_uuid__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! angular2-uuid */ "./node_modules/angular2-uuid/index.js");
/* harmony import */ var angular2_uuid__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(angular2_uuid__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _shared_role__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../shared/role */ "./src/app/shared/role.ts");
/* harmony import */ var _assets_asset_service__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../assets/asset.service */ "./src/app/assets/asset.service.ts");
/* harmony import */ var _device__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../device */ "./src/app/devices/device.ts");
/* harmony import */ var _device_service__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../device.service */ "./src/app/devices/device.service.ts");
/* harmony import */ var _device_register_device_register_component__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../device-register/device-register.component */ "./src/app/devices/device-register/device-register.component.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












let DeviceEditorComponent = class DeviceEditorComponent {
    constructor(route, router, assetService, deviceService, toasterService, dialog) {
        this.route = route;
        this.router = router;
        this.assetService = assetService;
        this.deviceService = deviceService;
        this.toasterService = toasterService;
        this.dialog = dialog;
        this.deviceToken = '';
        this.Roles = _shared_role__WEBPACK_IMPORTED_MODULE_6__["Roles"];
        this.device = new _device__WEBPACK_IMPORTED_MODULE_8__["Device"]();
        this.nonce = angular2_uuid__WEBPACK_IMPORTED_MODULE_5__["UUID"].UUID();
    }
    ngOnInit() {
        this.routerSubscription = this.route.params.subscribe(params => {
            const id = params['id'];
            if (id) {
                this.isEditing = true;
                this.deviceSubscription = this.deviceService.getDevice(id).subscribe(device => this.device = device);
                this.deviceService.getToken(id).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_11__["take"])(1)).subscribe(t => this.deviceToken = t);
            }
            else {
                // Work around for the fact that angular doesnt see this in change detection
                setTimeout(() => this.openDialog(), 0);
            }
        });
        this.assetsSubscription = this.assetService.getAssets()
            .subscribe(assets => {
            // Due to a bug in mat-select when bound to async Observable
            // we have to set the value of assets only once or else it will
            // throw an exception when the user clicks on the drop down control.
            if (!this.assets && assets.length) {
                this.assets = assets;
                // this.selectedAssetId = this.device && this.device.assetId;
            }
        });
        this.hubConnection = new _aspnet_signalr__WEBPACK_IMPORTED_MODULE_4__["HubConnectionBuilder"]()
            .withUrl(this.deviceService.getDeviceAdditionNotificationUrl())
            .build();
        this.hubConnection.on('DeviceAdded', (data) => {
            if (data === this.nonce) {
                this.dialogRef.close();
                this.router.navigate(['/devices']);
            }
        });
        this.hubConnection.start();
    }
    ngOnDestroy() {
        this.routerSubscription.unsubscribe();
        this.assetsSubscription.unsubscribe();
        if (this.deviceSubscription && !this.deviceSubscription.closed) {
            this.deviceSubscription.unsubscribe();
        }
        this.hubConnection.stop();
    }
    submit() {
        if (this.isEditing) {
            this.deviceService.updateDevice(this.device)
                .subscribe(() => this.router.navigate(['/devices']));
        }
        else {
            this.deviceService.addDevice(this.device)
                .subscribe(() => this.router.navigate(['/devices']), error => {
                this.toasterService.pop('error', 'Invalid Input', error._body);
            });
        }
    }
    openDialog() {
        this.dialogRef = this.dialog.open(_device_register_device_register_component__WEBPACK_IMPORTED_MODULE_10__["DeviceRegisterComponent"], {
            height: '70%',
            width: '70%',
            data: this.deviceService.getProvisioningQrCodeUrl(this.nonce)
        });
    }
    deleteDevice() {
        this.deviceService.deleteDevice(this.device)
            .subscribe(() => this.router.navigate(['/devices']));
    }
};
DeviceEditorComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
    { type: _assets_asset_service__WEBPACK_IMPORTED_MODULE_7__["AssetService"] },
    { type: _device_service__WEBPACK_IMPORTED_MODULE_9__["DeviceService"] },
    { type: angular2_toaster__WEBPACK_IMPORTED_MODULE_3__["ToasterService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialog"] }
];
DeviceEditorComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-device-editor-dialog',
        template: __webpack_require__(/*! raw-loader!./device-editor.component.html */ "./node_modules/raw-loader/index.js!./src/app/devices/device-editor/device-editor.component.html"),
        styles: [__webpack_require__(/*! ./device-editor.component.css */ "./src/app/devices/device-editor/device-editor.component.css")]
    }),
    __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
        _assets_asset_service__WEBPACK_IMPORTED_MODULE_7__["AssetService"],
        _device_service__WEBPACK_IMPORTED_MODULE_9__["DeviceService"],
        angular2_toaster__WEBPACK_IMPORTED_MODULE_3__["ToasterService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialog"]])
], DeviceEditorComponent);



/***/ }),

/***/ "./src/app/devices/device-list/device-list.component.css":
/*!***************************************************************!*\
  !*** ./src/app/devices/device-list/device-list.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nmat-form-field {\n    font-size: 0.95em;\n    margin: 10px 0 0 10px;\n}\n\n.active {\n    color: #ffffff;\n    background-color: #56A6B6;\n}\n\n.active .subtle {\n    color: #ffffff;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGV2aWNlcy9kZXZpY2UtbGlzdC9kZXZpY2UtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29DQUNvQzs7QUFFcEM7SUFDSSxpQkFBaUI7SUFDakIscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksY0FBYztJQUNkLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGNBQWM7QUFDbEIiLCJmaWxlIjoic3JjL2FwcC9kZXZpY2VzL2RldmljZS1saXN0L2RldmljZS1saXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gKi9cblxubWF0LWZvcm0tZmllbGQge1xuICAgIGZvbnQtc2l6ZTogMC45NWVtO1xuICAgIG1hcmdpbjogMTBweCAwIDAgMTBweDtcbn1cblxuLmFjdGl2ZSB7XG4gICAgY29sb3I6ICNmZmZmZmY7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU2QTZCNjtcbn1cblxuLmFjdGl2ZSAuc3VidGxlIHtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/devices/device-list/device-list.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/devices/device-list/device-list.component.ts ***!
  \**************************************************************/
/*! exports provided: DeviceListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceListComponent", function() { return DeviceListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
/* harmony import */ var _device_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../device.service */ "./src/app/devices/device.service.ts");
/* harmony import */ var _maps_maps_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../maps/maps.service */ "./src/app/maps/maps.service.ts");
/* harmony import */ var _shared_role__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared/role */ "./src/app/shared/role.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var SelectedDeviceState;
(function (SelectedDeviceState) {
    SelectedDeviceState[SelectedDeviceState["ListSelected"] = 0] = "ListSelected";
    SelectedDeviceState[SelectedDeviceState["PointsSelected"] = 1] = "PointsSelected";
    SelectedDeviceState[SelectedDeviceState["NoneSelcted"] = 2] = "NoneSelcted";
})(SelectedDeviceState || (SelectedDeviceState = {}));
let DeviceListComponent = class DeviceListComponent {
    constructor(deviceService, mapsService, toasterService) {
        this.deviceService = deviceService;
        this.mapsService = mapsService;
        this.toasterService = toasterService;
        this.Roles = _shared_role__WEBPACK_IMPORTED_MODULE_4__["Roles"];
    }
    ngOnInit() {
        this.devices = this.deviceService.getDevices();
        this.showAllDevices();
    }
    ngOnDestroy() {
        this.unsubscribe();
    }
    showAllDevices() {
        this.subscription = this.deviceService.getLatestPoints()
            .subscribe(points => {
            const map = new Map();
            for (const key of Object.keys(points)) {
                map.set(key, points[key]);
            }
            this.mapsService.showDevicesPositions(map);
            if (this.selectedDevice && !points[this.selectedDevice.name]) {
                this.toasterService.pop('error', '', 'Can\'t find position of ' + this.selectedDevice.name);
            }
            else if (this.selectedDevice) {
                this.mapsService.showDevice([this.selectedDevice.name, points[this.selectedDevice.name]]);
            }
        });
    }
    showDevice(device) {
        if (device === this.selectedDevice && this.isDeviceListSelected()) {
            this.selectedDevice = null;
        }
        else {
            this.selectedDevice = device;
            this.selctedDeviceState = SelectedDeviceState.ListSelected;
            this.unsubscribe();
            this.showAllDevices();
            this.toasterService.pop('info', '', 'Now following device ' + this.selectedDevice.name);
        }
    }
    showPoints(device, filterSelcted = false) {
        if (device === this.selectedDevice && this.isDevicePointSelected() && !filterSelcted) {
            this.selectedDevice = null;
            this.selctedDeviceState = SelectedDeviceState.NoneSelcted;
            this.unsubscribe();
            this.showAllDevices();
        }
        else {
            this.selectedDevice = device;
            this.selctedDeviceState = SelectedDeviceState.PointsSelected;
            this.toasterService.pop('info', '', 'Now showing latest points of ' + this.selectedDevice.name);
            this.unsubscribe();
            this.subscription = this.deviceService.getPoints(device.id, this.selectedDateRange)
                .subscribe(points => this.mapsService.showPoints(points));
        }
    }
    timeFilterChange(range) {
        this.selectedDateRange = range;
        this.showPoints(this.selectedDevice, true);
    }
    unsubscribe() {
        if (this.subscription && !this.subscription.closed) {
            this.subscription.unsubscribe();
        }
    }
    isDeviceListSelected() {
        return this.selctedDeviceState === SelectedDeviceState.ListSelected;
    }
    isDevicePointSelected() {
        return this.selctedDeviceState === SelectedDeviceState.PointsSelected;
    }
};
DeviceListComponent.ctorParameters = () => [
    { type: _device_service__WEBPACK_IMPORTED_MODULE_2__["DeviceService"] },
    { type: _maps_maps_service__WEBPACK_IMPORTED_MODULE_3__["MapsService"] },
    { type: angular2_toaster__WEBPACK_IMPORTED_MODULE_1__["ToasterService"] }
];
DeviceListComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-device-list',
        template: __webpack_require__(/*! raw-loader!./device-list.component.html */ "./node_modules/raw-loader/index.js!./src/app/devices/device-list/device-list.component.html"),
        styles: [__webpack_require__(/*! ./device-list.component.css */ "./src/app/devices/device-list/device-list.component.css")]
    }),
    __metadata("design:paramtypes", [_device_service__WEBPACK_IMPORTED_MODULE_2__["DeviceService"],
        _maps_maps_service__WEBPACK_IMPORTED_MODULE_3__["MapsService"],
        angular2_toaster__WEBPACK_IMPORTED_MODULE_1__["ToasterService"]])
], DeviceListComponent);



/***/ }),

/***/ "./src/app/devices/device-register/device-register.component.css":
/*!***********************************************************************!*\
  !*** ./src/app/devices/device-register/device-register.component.css ***!
  \***********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\n.qrcode {\n  margin: 0;\n  padding: 10px;\n  padding-bottom: 40px;\n  text-align: center;\n}\n\np, h2, h3, h4 {\n  margin: 0;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGV2aWNlcy9kZXZpY2UtcmVnaXN0ZXIvZGV2aWNlLXJlZ2lzdGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7b0NBQ29DOztBQUVwQztFQUNFLFNBQVM7RUFDVCxhQUFhO0VBQ2Isb0JBQW9CO0VBQ3BCLGtCQUFrQjtBQUNwQjs7QUFFQTtFQUNFLFNBQVM7QUFDWCIsImZpbGUiOiJzcmMvYXBwL2RldmljZXMvZGV2aWNlLXJlZ2lzdGVyL2RldmljZS1yZWdpc3Rlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuICovXG5cbi5xcmNvZGUge1xuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIHBhZGRpbmctYm90dG9tOiA0MHB4O1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbnAsIGgyLCBoMywgaDQge1xuICBtYXJnaW46IDA7XG59Il19 */"

/***/ }),

/***/ "./src/app/devices/device-register/device-register.component.ts":
/*!**********************************************************************!*\
  !*** ./src/app/devices/device-register/device-register.component.ts ***!
  \**********************************************************************/
/*! exports provided: DeviceRegisterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceRegisterComponent", function() { return DeviceRegisterComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm2015/dialog.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
var __param = (undefined && undefined.__param) || function (paramIndex, decorator) {
    return function (target, key) { decorator(target, key, paramIndex); }
};


let DeviceRegisterComponent = class DeviceRegisterComponent {
    constructor(data) {
        this.data = data;
        this.qrCodeEndpoint = '';
        this.qrCodeEndpoint = data;
    }
};
DeviceRegisterComponent.ctorParameters = () => [
    { type: undefined, decorators: [{ type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"], args: [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"],] }] }
];
DeviceRegisterComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        template: __webpack_require__(/*! raw-loader!./device-register.component.html */ "./node_modules/raw-loader/index.js!./src/app/devices/device-register/device-register.component.html"),
        styles: [__webpack_require__(/*! ./device-register.component.css */ "./src/app/devices/device-register/device-register.component.css")]
    }),
    __param(0, Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Inject"])(_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MAT_DIALOG_DATA"])),
    __metadata("design:paramtypes", [Object])
], DeviceRegisterComponent);



/***/ }),

/***/ "./src/app/devices/device.service.ts":
/*!*******************************************!*\
  !*** ./src/app/devices/device.service.ts ***!
  \*******************************************/
/*! exports provided: DeviceService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DeviceService", function() { return DeviceService; });
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/data.service */ "./src/app/core/data.service.ts");
/* harmony import */ var _core_environment_settings_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/environment-settings.service */ "./src/app/core/environment-settings.service.ts");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.





let DeviceService = class DeviceService {
    constructor(dataService, envSettingsService) {
        this.dataService = dataService;
        this.envSettingsService = envSettingsService;
    }
    addDevice(device) {
        const update = new Map().set('update', 'false');
        return this.dataService.post('devices', device, update);
    }
    getDevices() {
        return this.dataService.get('devices');
    }
    getDevice(id) {
        return this.dataService.getSingle('devices', id);
    }
    getToken(id) {
        return this.dataService.post(`devices/${id}/token`, '');
    }
    getPoints(id, dateRange) {
        return this.dataService.get(`devices/${id}/points`).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["map"])(points => {
            if (!dateRange) {
                return points;
            }
            return points.filter(p => p.time >= +dateRange.from && p.time <= +dateRange.to);
        }));
    }
    getLatestPoints() {
        return Object(rxjs__WEBPACK_IMPORTED_MODULE_4__["interval"])(3 * 1000).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["startWith"])(0), Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_0__["flatMap"])(() => {
            return this.dataService.getSingleNoCache(`devices/all/positions`);
        }));
    }
    updateDevice(device) {
        return this.dataService.put('devices', device.id, device, true);
    }
    deleteDevice(device) {
        return this.dataService.delete('devices', device.id);
    }
    getProvisioningQrCodeUrl(nonce) {
        return `${this.envSettingsService.getEnvironmentVariable(_core_environment_settings_service__WEBPACK_IMPORTED_MODULE_3__["EnvironmentSettings"].backendUrl)}/devices/qrcode?nonce=${nonce}`;
    }
    getDeviceAdditionNotificationUrl() {
        return `${this.envSettingsService.getEnvironmentVariable(_core_environment_settings_service__WEBPACK_IMPORTED_MODULE_3__["EnvironmentSettings"].backendUrl).replace('api', '')}deviceAddition`;
    }
};
DeviceService.ctorParameters = () => [
    { type: _core_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"] },
    { type: _core_environment_settings_service__WEBPACK_IMPORTED_MODULE_3__["EnvironmentSettingsService"] }
];
DeviceService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["Injectable"])(),
    __metadata("design:paramtypes", [_core_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"],
        _core_environment_settings_service__WEBPACK_IMPORTED_MODULE_3__["EnvironmentSettingsService"]])
], DeviceService);



/***/ }),

/***/ "./src/app/devices/device.ts":
/*!***********************************!*\
  !*** ./src/app/devices/device.ts ***!
  \***********************************/
/*! exports provided: Device */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Device", function() { return Device; });
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
class Device {
}


/***/ }),

/***/ "./src/app/devices/devices-routing.module.ts":
/*!***************************************************!*\
  !*** ./src/app/devices/devices-routing.module.ts ***!
  \***************************************************/
/*! exports provided: DevicesRoutingModule, routedComponents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DevicesRoutingModule", function() { return DevicesRoutingModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routedComponents", function() { return routedComponents; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _device_list_device_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./device-list/device-list.component */ "./src/app/devices/device-list/device-list.component.ts");
/* harmony import */ var _device_editor_device_editor_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./device-editor/device-editor.component */ "./src/app/devices/device-editor/device-editor.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




const routes = [
    {
        path: 'devices/new',
        component: _device_editor_device_editor_component__WEBPACK_IMPORTED_MODULE_3__["DeviceEditorComponent"]
    },
    {
        path: 'devices',
        component: _device_list_device_list_component__WEBPACK_IMPORTED_MODULE_2__["DeviceListComponent"]
    },
    {
        path: 'devices/:id',
        component: _device_editor_device_editor_component__WEBPACK_IMPORTED_MODULE_3__["DeviceEditorComponent"]
    }
];
let DevicesRoutingModule = class DevicesRoutingModule {
};
DevicesRoutingModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
    })
], DevicesRoutingModule);

const routedComponents = [
    _device_list_device_list_component__WEBPACK_IMPORTED_MODULE_2__["DeviceListComponent"],
    _device_editor_device_editor_component__WEBPACK_IMPORTED_MODULE_3__["DeviceEditorComponent"],
];


/***/ }),

/***/ "./src/app/devices/devices.module.ts":
/*!*******************************************!*\
  !*** ./src/app/devices/devices.module.ts ***!
  \*******************************************/
/*! exports provided: DevicesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DevicesModule", function() { return DevicesModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var _devices_routing_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./devices-routing.module */ "./src/app/devices/devices-routing.module.ts");
/* harmony import */ var _device_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./device.service */ "./src/app/devices/device.service.ts");
/* harmony import */ var _device_register_device_register_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./device-register/device-register.component */ "./src/app/devices/device-register/device-register.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





let DevicesModule = class DevicesModule {
};
DevicesModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        declarations: [
            _devices_routing_module__WEBPACK_IMPORTED_MODULE_2__["routedComponents"],
            _device_register_device_register_component__WEBPACK_IMPORTED_MODULE_4__["DeviceRegisterComponent"]
        ],
        entryComponents: [
            _device_register_device_register_component__WEBPACK_IMPORTED_MODULE_4__["DeviceRegisterComponent"]
        ],
        imports: [
            _devices_routing_module__WEBPACK_IMPORTED_MODULE_2__["DevicesRoutingModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ],
        providers: [
            _device_service__WEBPACK_IMPORTED_MODULE_3__["DeviceService"]
        ]
    })
], DevicesModule);



/***/ }),

/***/ "./src/app/dispatching/dialog.service.ts":
/*!***********************************************!*\
  !*** ./src/app/dispatching/dialog.service.ts ***!
  \***********************************************/
/*! exports provided: DialogService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DialogService", function() { return DialogService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm2015/dialog.js");
/* harmony import */ var _location_dialog_location_dialog_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./location-dialog/location-dialog.component */ "./src/app/dispatching/location-dialog/location-dialog.component.ts");
/* harmony import */ var _locations_location_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../locations/location.service */ "./src/app/locations/location.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




let DialogService = class DialogService {
    constructor(dialog, locationService) {
        this.dialog = dialog;
        this.locationService = locationService;
    }
    showLocationsDialog() {
        let dialogRef;
        dialogRef = this.dialog.open(_location_dialog_location_dialog_component__WEBPACK_IMPORTED_MODULE_2__["LocationDialogComponent"]);
        dialogRef.componentInstance.locationSubscription = this.locationService.getLocations()
            .subscribe(locations => {
            dialogRef.componentInstance.locations = locations;
        });
        return dialogRef.afterClosed();
    }
};
DialogService.ctorParameters = () => [
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"] },
    { type: _locations_location_service__WEBPACK_IMPORTED_MODULE_3__["LocationService"] }
];
DialogService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialog"],
        _locations_location_service__WEBPACK_IMPORTED_MODULE_3__["LocationService"]])
], DialogService);



/***/ }),

/***/ "./src/app/dispatching/dispatching-editor-options.ts":
/*!***********************************************************!*\
  !*** ./src/app/dispatching/dispatching-editor-options.ts ***!
  \***********************************************************/
/*! exports provided: AvoidOptions, MinimizeOptions, OptimizeOptions, HazardousMaterialOptions, HazardousPermitOptions */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvoidOptions", function() { return AvoidOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MinimizeOptions", function() { return MinimizeOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OptimizeOptions", function() { return OptimizeOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HazardousMaterialOptions", function() { return HazardousMaterialOptions; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HazardousPermitOptions", function() { return HazardousPermitOptions; });
/* harmony import */ var _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dispatching-parameters */ "./src/app/dispatching/dispatching-parameters.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

const AvoidOptions = [
    { name: 'Highways', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["AvoidTypes"].Highways, isChecked: false, disabled: true },
    { name: 'Tolls', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["AvoidTypes"].Tolls, isChecked: false, disabled: true }
];
const MinimizeOptions = [
    { name: 'Highways', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["AvoidTypes"].MinimizeHighways, isChecked: false, disabled: true },
    { name: 'Tolls', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["AvoidTypes"].MinimizeTolls, isChecked: false, disabled: true }
];
const OptimizeOptions = [
    { name: 'Time', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["OptimizeValue"].Time },
    { name: 'Time considering traffic', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["OptimizeValue"].TimeWithTraffic },
];
const HazardousMaterialOptions = [
    { name: 'Explosive', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Explosive, isChecked: false },
    { name: 'Gas', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Gas, isChecked: false },
    { name: 'Flammable', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Flammable, isChecked: false },
    { name: 'Combustable', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Combustable, isChecked: false },
    { name: 'Flammable Solid', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].FlammableSolid, isChecked: false },
    { name: 'Organic', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Organic, isChecked: false },
    { name: 'Poison', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Poison, isChecked: false },
    { name: 'Radioactive', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].RadioActive, isChecked: false },
    { name: 'Corrosive', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Corrosive, isChecked: false },
    { name: 'Poisonous Inhalation', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].PoisonousInhalation, isChecked: false },
    { name: 'Goods Harmful to Water', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].GoodsHarmfulToWater, isChecked: false },
    { name: 'Other', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Other, isChecked: false }
];
const HazardousPermitOptions = [
    { name: 'Explosive', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Explosive, isChecked: false },
    { name: 'Gas', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Gas, isChecked: false },
    { name: 'Flammable', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Flammable, isChecked: false },
    { name: 'Combustable', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Combustable, isChecked: false },
    { name: 'Flammable Solid', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].FlammableSolid, isChecked: false },
    { name: 'Organic', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Organic, isChecked: false },
    { name: 'Poison', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Poison, isChecked: false },
    { name: 'Radioactive', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].RadioActive, isChecked: false },
    { name: 'Corrosive', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].Corrosive, isChecked: false },
    { name: 'Poisonous Inhalation', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].PoisonousInhalation, isChecked: false },
    { name: 'All Appropriate For Load', value: _dispatching_parameters__WEBPACK_IMPORTED_MODULE_0__["HazardousMaterial"].AllApproppriateForLoad, isChecked: false }
];


/***/ }),

/***/ "./src/app/dispatching/dispatching-editor/dispatching-editor.component.css":
/*!*********************************************************************************!*\
  !*** ./src/app/dispatching/dispatching-editor/dispatching-editor.component.css ***!
  \*********************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nsection {\n  padding: 10px;\n}\n\nform {\n  width: 100%;\n}\n\n.partial-input {\n  float:left;\n  width:65%;\n}\n\n.sub-list {\n  padding: 0 10px;\n  display: block;\n}\n\nmat-form-field {\n  margin: 0;\n}\n\nh1 {\n  font-size: 0.9em;\n  color: #56A6B6;\n}\n\n.additional-options {\n  padding: 0 0 20px 0;\n}\n\n.active {\n  color: #56A6B6;\n  background-color: #ffffff;\n}\n\n.select-with-padding {\n  padding: 20px 0 0 0;\n}\n\n.mat-radio-button {\n  width: 100%;\n  height: 28px;\n  padding: 10px 16px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGlzcGF0Y2hpbmcvZGlzcGF0Y2hpbmctZWRpdG9yL2Rpc3BhdGNoaW5nLWVkaXRvci5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29DQUNvQzs7QUFFcEM7RUFDRSxhQUFhO0FBQ2Y7O0FBRUE7RUFDRSxXQUFXO0FBQ2I7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsU0FBUztBQUNYOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxTQUFTO0FBQ1g7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIsY0FBYztBQUNoQjs7QUFFQTtFQUNFLG1CQUFtQjtBQUNyQjs7QUFFQTtFQUNFLGNBQWM7RUFDZCx5QkFBeUI7QUFDM0I7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsWUFBWTtFQUNaLGtCQUFrQjtBQUNwQiIsImZpbGUiOiJzcmMvYXBwL2Rpc3BhdGNoaW5nL2Rpc3BhdGNoaW5nLWVkaXRvci9kaXNwYXRjaGluZy1lZGl0b3IuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiAqL1xuXG5zZWN0aW9uIHtcbiAgcGFkZGluZzogMTBweDtcbn1cblxuZm9ybSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuXG4ucGFydGlhbC1pbnB1dCB7XG4gIGZsb2F0OmxlZnQ7XG4gIHdpZHRoOjY1JTtcbn1cblxuLnN1Yi1saXN0IHtcbiAgcGFkZGluZzogMCAxMHB4O1xuICBkaXNwbGF5OiBibG9jaztcbn1cblxubWF0LWZvcm0tZmllbGQge1xuICBtYXJnaW46IDA7XG59XG5cbmgxIHtcbiAgZm9udC1zaXplOiAwLjllbTtcbiAgY29sb3I6ICM1NkE2QjY7XG59XG5cbi5hZGRpdGlvbmFsLW9wdGlvbnMge1xuICBwYWRkaW5nOiAwIDAgMjBweCAwO1xufVxuXG4uYWN0aXZlIHtcbiAgY29sb3I6ICM1NkE2QjY7XG4gIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG59XG5cbi5zZWxlY3Qtd2l0aC1wYWRkaW5nIHtcbiAgcGFkZGluZzogMjBweCAwIDAgMDtcbn1cblxuLm1hdC1yYWRpby1idXR0b24ge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAyOHB4O1xuICBwYWRkaW5nOiAxMHB4IDE2cHg7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/dispatching/dispatching-editor/dispatching-editor.component.ts":
/*!********************************************************************************!*\
  !*** ./src/app/dispatching/dispatching-editor/dispatching-editor.component.ts ***!
  \********************************************************************************/
/*! exports provided: DispatchingEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DispatchingEditorComponent", function() { return DispatchingEditorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _assets_asset_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../assets/asset.service */ "./src/app/assets/asset.service.ts");
/* harmony import */ var _dialog_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../dialog.service */ "./src/app/dispatching/dialog.service.ts");
/* harmony import */ var _dispatching_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../dispatching.service */ "./src/app/dispatching/dispatching.service.ts");
/* harmony import */ var _locations_location_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../locations/location.service */ "./src/app/locations/location.service.ts");
/* harmony import */ var _maps_maps_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../maps/maps.service */ "./src/app/maps/maps.service.ts");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
/* harmony import */ var _assets_asset__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../assets/asset */ "./src/app/assets/asset.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
/* harmony import */ var _dispatching_parameters__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../dispatching-parameters */ "./src/app/dispatching/dispatching-parameters.ts");
/* harmony import */ var _dispatching_editor_options__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../dispatching-editor-options */ "./src/app/dispatching/dispatching-editor-options.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











let DispatchingEditorComponent = class DispatchingEditorComponent {
    constructor(assetService, dialogService, dispatchingService, locationService, mapsService, toasterService) {
        this.assetService = assetService;
        this.dialogService = dialogService;
        this.dispatchingService = dispatchingService;
        this.locationService = locationService;
        this.mapsService = mapsService;
        this.toasterService = toasterService;
        this.routeColors = ['Blue', 'Red', 'Green', 'Cyan'];
        this.AssetType = _assets_asset__WEBPACK_IMPORTED_MODULE_7__["AssetType"];
        this.DistanceUnit = _dispatching_parameters__WEBPACK_IMPORTED_MODULE_9__["DistanceUnit"];
        this.WeightUnit = _dispatching_parameters__WEBPACK_IMPORTED_MODULE_9__["WeightUnit"];
        this.DimensionUnit = _dispatching_parameters__WEBPACK_IMPORTED_MODULE_9__["DimensionUnit"];
        this.AvoidOptions = _dispatching_editor_options__WEBPACK_IMPORTED_MODULE_10__["AvoidOptions"];
        this.MinimizeOptions = _dispatching_editor_options__WEBPACK_IMPORTED_MODULE_10__["MinimizeOptions"];
        this.OptimizeOptions = _dispatching_editor_options__WEBPACK_IMPORTED_MODULE_10__["OptimizeOptions"];
        this.HazardMaterialOptions = _dispatching_editor_options__WEBPACK_IMPORTED_MODULE_10__["HazardousMaterialOptions"];
        this.HazardousPermitOptions = _dispatching_editor_options__WEBPACK_IMPORTED_MODULE_10__["HazardousPermitOptions"];
        this.resetAllData();
    }
    ngOnInit() {
        this.isAlive = true;
        this.mapsService.getDispatchingPinsResult().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["takeWhile"])(() => this.isAlive))
            .subscribe(result => {
            if (result.length) {
                this.pinsAdded = result;
            }
        });
        this.assetService.getAssets().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["takeWhile"])(() => this.isAlive))
            .subscribe(assets => {
            if (!this.assets && assets.length) {
                this.assets = assets;
            }
        });
        this.assetService.getLatestPoints().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["takeWhile"])(() => this.isAlive))
            .subscribe(points => {
            this.mapsService.showAssetsPositions(points, true);
        });
    }
    ngOnDestroy() {
        this.mapsService.endCurrentDraw();
        this.isAlive = false;
    }
    openDialog() {
        this.dialogService.showLocationsDialog()
            .subscribe(location => {
            if (location) {
                location.name = location.name + `(${this.pinsAdded.length + 1})`;
                this.pinsAdded.push(location);
                this.mapsService.resetDispatchingDraw(this.pinsAdded);
            }
        });
    }
    checkSelected(asset) {
        this.showTruckOptions = asset.assetType === _assets_asset__WEBPACK_IMPORTED_MODULE_7__["AssetType"].Truck;
    }
    clearPoints() {
        this.pinsAdded = new Array();
        this.mapsService.resetDispatchingDraw();
    }
    showRoute() {
        if (this.pinsAdded.length < 2 || this.pinsAdded.length > 20) {
            this.toasterService.pop('error', 'Invalid Input', 'Number of Points per route has to be between 2 and 20');
            return;
        }
        if (!this.selectedAsset) {
            this.toasterService.pop('error', 'Invalid Input', 'Please select an asset');
            return;
        }
        this.setAllDispatchingParameters();
        this.dispatchingService.callDisaptchingAPI(this.dispatchingParameters);
    }
    onCheckChanged(event, Options) {
        Options.forEach(option => {
            if (option.name === event.source.name) {
                option.disabled = !option.disabled;
            }
        });
    }
    resetAllData() {
        this.dispatchingParameters = new _dispatching_parameters__WEBPACK_IMPORTED_MODULE_9__["DispatchingParameters"]();
        this.dispatchingParameters.routeAttributes = [];
        this.dispatchingParameters.optimize = _dispatching_parameters__WEBPACK_IMPORTED_MODULE_9__["OptimizeValue"].Time;
        this.dispatchingParameters.distanceUnit = _dispatching_parameters__WEBPACK_IMPORTED_MODULE_9__["DistanceUnit"].Kilometer;
        this.dispatchingParameters.weightUnit = _dispatching_parameters__WEBPACK_IMPORTED_MODULE_9__["WeightUnit"].Kilogram;
        this.dispatchingParameters.dimensionUnit = _dispatching_parameters__WEBPACK_IMPORTED_MODULE_9__["DimensionUnit"].Meter;
        this.dispatchingParameters.timeType = _dispatching_parameters__WEBPACK_IMPORTED_MODULE_9__["TimeType"].Departure;
        this.dispatchingParameters.getAlternativeCarRoute = false;
        this.selectedAsset = null;
        this.colorSelected = 0;
        this.showDirections = false;
        this.pinsAdded = [];
        this.AvoidOptions.forEach(option => option.isChecked = false);
        this.MinimizeOptions.forEach(option => option.isChecked = false);
        this.HazardMaterialOptions.forEach(option => option.isChecked = false);
        this.HazardousPermitOptions.forEach(option => option.isChecked = false);
        this.clearPoints();
    }
    setAllDispatchingParameters() {
        this.dispatchingParameters.avoid = this.AvoidOptions
            .filter(option => option.isChecked).map(option => option.value);
        this.dispatchingParameters.hazardousMaterials = this.HazardMaterialOptions
            .filter(option => option.isChecked).map(option => option.value);
        this.dispatchingParameters.hazardousPermits = this.HazardousPermitOptions
            .filter(option => option.isChecked).map(option => option.value);
        this.dispatchingParameters.assetId = this.selectedAsset.id;
        if (this.showDirections) {
            this.dispatchingParameters.routeAttributes.push(_dispatching_parameters__WEBPACK_IMPORTED_MODULE_9__["RouteAttributes"].ExcludeItinerary);
        }
        this.dispatchingParameters.wayPoints = this.pinsAdded;
        this.dispatchingService.savePinsAdded(this.pinsAdded);
        this.mapsService.setRouteColor(this.colorSelected);
    }
};
DispatchingEditorComponent.ctorParameters = () => [
    { type: _assets_asset_service__WEBPACK_IMPORTED_MODULE_1__["AssetService"] },
    { type: _dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"] },
    { type: _dispatching_service__WEBPACK_IMPORTED_MODULE_3__["DispatchingService"] },
    { type: _locations_location_service__WEBPACK_IMPORTED_MODULE_4__["LocationService"] },
    { type: _maps_maps_service__WEBPACK_IMPORTED_MODULE_5__["MapsService"] },
    { type: angular2_toaster__WEBPACK_IMPORTED_MODULE_6__["ToasterService"] }
];
DispatchingEditorComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-dispatching-editor',
        template: __webpack_require__(/*! raw-loader!./dispatching-editor.component.html */ "./node_modules/raw-loader/index.js!./src/app/dispatching/dispatching-editor/dispatching-editor.component.html"),
        styles: [__webpack_require__(/*! ./dispatching-editor.component.css */ "./src/app/dispatching/dispatching-editor/dispatching-editor.component.css")]
    }),
    __metadata("design:paramtypes", [_assets_asset_service__WEBPACK_IMPORTED_MODULE_1__["AssetService"],
        _dialog_service__WEBPACK_IMPORTED_MODULE_2__["DialogService"],
        _dispatching_service__WEBPACK_IMPORTED_MODULE_3__["DispatchingService"],
        _locations_location_service__WEBPACK_IMPORTED_MODULE_4__["LocationService"],
        _maps_maps_service__WEBPACK_IMPORTED_MODULE_5__["MapsService"],
        angular2_toaster__WEBPACK_IMPORTED_MODULE_6__["ToasterService"]])
], DispatchingEditorComponent);



/***/ }),

/***/ "./src/app/dispatching/dispatching-parameters.ts":
/*!*******************************************************!*\
  !*** ./src/app/dispatching/dispatching-parameters.ts ***!
  \*******************************************************/
/*! exports provided: DispatchingParameters, AvoidTypes, OptimizeValue, RouteAttributes, DistanceUnit, WeightUnit, DimensionUnit, TimeType, HazardousMaterial */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DispatchingParameters", function() { return DispatchingParameters; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AvoidTypes", function() { return AvoidTypes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "OptimizeValue", function() { return OptimizeValue; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RouteAttributes", function() { return RouteAttributes; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DistanceUnit", function() { return DistanceUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "WeightUnit", function() { return WeightUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DimensionUnit", function() { return DimensionUnit; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeType", function() { return TimeType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "HazardousMaterial", function() { return HazardousMaterial; });
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
class DispatchingParameters {
}
var AvoidTypes;
(function (AvoidTypes) {
    AvoidTypes[AvoidTypes["Highways"] = 0] = "Highways";
    AvoidTypes[AvoidTypes["Tolls"] = 1] = "Tolls";
    AvoidTypes[AvoidTypes["MinimizeHighways"] = 2] = "MinimizeHighways";
    AvoidTypes[AvoidTypes["MinimizeTolls"] = 3] = "MinimizeTolls";
})(AvoidTypes || (AvoidTypes = {}));
var OptimizeValue;
(function (OptimizeValue) {
    OptimizeValue[OptimizeValue["Time"] = 0] = "Time";
    OptimizeValue[OptimizeValue["TimeWithTraffic"] = 1] = "TimeWithTraffic";
})(OptimizeValue || (OptimizeValue = {}));
var RouteAttributes;
(function (RouteAttributes) {
    RouteAttributes[RouteAttributes["ExcludeItinerary"] = 0] = "ExcludeItinerary";
    RouteAttributes[RouteAttributes["RoutePath"] = 1] = "RoutePath";
    RouteAttributes[RouteAttributes["RouteSummariesOnly"] = 2] = "RouteSummariesOnly";
    RouteAttributes[RouteAttributes["All"] = 3] = "All";
})(RouteAttributes || (RouteAttributes = {}));
var DistanceUnit;
(function (DistanceUnit) {
    DistanceUnit[DistanceUnit["Mile"] = 0] = "Mile";
    DistanceUnit[DistanceUnit["Kilometer"] = 1] = "Kilometer";
})(DistanceUnit || (DistanceUnit = {}));
var WeightUnit;
(function (WeightUnit) {
    WeightUnit[WeightUnit["Kilogram"] = 0] = "Kilogram";
    WeightUnit[WeightUnit["Pound"] = 1] = "Pound";
})(WeightUnit || (WeightUnit = {}));
var DimensionUnit;
(function (DimensionUnit) {
    DimensionUnit[DimensionUnit["Meter"] = 0] = "Meter";
    DimensionUnit[DimensionUnit["Foot"] = 1] = "Foot";
})(DimensionUnit || (DimensionUnit = {}));
var TimeType;
(function (TimeType) {
    TimeType[TimeType["Arrival"] = 0] = "Arrival";
    TimeType[TimeType["Departure"] = 1] = "Departure";
})(TimeType || (TimeType = {}));
var HazardousMaterial;
(function (HazardousMaterial) {
    HazardousMaterial[HazardousMaterial["Explosive"] = 0] = "Explosive";
    HazardousMaterial[HazardousMaterial["Gas"] = 1] = "Gas";
    HazardousMaterial[HazardousMaterial["Flammable"] = 2] = "Flammable";
    HazardousMaterial[HazardousMaterial["Combustable"] = 3] = "Combustable";
    HazardousMaterial[HazardousMaterial["FlammableSolid"] = 4] = "FlammableSolid";
    HazardousMaterial[HazardousMaterial["Organic"] = 5] = "Organic";
    HazardousMaterial[HazardousMaterial["Poison"] = 6] = "Poison";
    HazardousMaterial[HazardousMaterial["RadioActive"] = 7] = "RadioActive";
    HazardousMaterial[HazardousMaterial["Corrosive"] = 8] = "Corrosive";
    HazardousMaterial[HazardousMaterial["PoisonousInhalation"] = 9] = "PoisonousInhalation";
    HazardousMaterial[HazardousMaterial["GoodsHarmfulToWater"] = 10] = "GoodsHarmfulToWater";
    HazardousMaterial[HazardousMaterial["AllApproppriateForLoad"] = 11] = "AllApproppriateForLoad";
    HazardousMaterial[HazardousMaterial["Other"] = 12] = "Other";
})(HazardousMaterial || (HazardousMaterial = {}));


/***/ }),

/***/ "./src/app/dispatching/dispatching-routing.module.ts":
/*!***********************************************************!*\
  !*** ./src/app/dispatching/dispatching-routing.module.ts ***!
  \***********************************************************/
/*! exports provided: DispatchingRoutingModule, routedComponenets */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DispatchingRoutingModule", function() { return DispatchingRoutingModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "routedComponenets", function() { return routedComponenets; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _dispatching_editor_dispatching_editor_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dispatching-editor/dispatching-editor.component */ "./src/app/dispatching/dispatching-editor/dispatching-editor.component.ts");
/* harmony import */ var _dispatching_show_dispatching_show_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dispatching-show/dispatching-show.component */ "./src/app/dispatching/dispatching-show/dispatching-show.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




const routes = [
    {
        path: 'dispatching',
        component: _dispatching_editor_dispatching_editor_component__WEBPACK_IMPORTED_MODULE_2__["DispatchingEditorComponent"]
    },
    {
        path: 'dispatching/show',
        component: _dispatching_show_dispatching_show_component__WEBPACK_IMPORTED_MODULE_3__["DispatchingShowComponent"]
    }
];
let DispatchingRoutingModule = class DispatchingRoutingModule {
};
DispatchingRoutingModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
    })
], DispatchingRoutingModule);

const routedComponenets = [
    _dispatching_editor_dispatching_editor_component__WEBPACK_IMPORTED_MODULE_2__["DispatchingEditorComponent"],
    _dispatching_show_dispatching_show_component__WEBPACK_IMPORTED_MODULE_3__["DispatchingShowComponent"]
];


/***/ }),

/***/ "./src/app/dispatching/dispatching-show/dispatching-show.component.css":
/*!*****************************************************************************!*\
  !*** ./src/app/dispatching/dispatching-show/dispatching-show.component.css ***!
  \*****************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nmat-list-item {\n    border-bottom: 1px solid #d9d9d9;  \n}\n\n.mat-list-text h3{\n    font-size: 0.85em;\n    color: #000000;\n}\n\n.mat-list-text span{\n    font-size: 0.8em;\n    color: #999999;\n}\n\n.item-custom {\n    padding: 15px 0 15px 0;\n}\n\n.no-directions-alert {\n    font-style: italic;\n    font-size: 0.9em;\n    padding: 0 0 0 10px;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGlzcGF0Y2hpbmcvZGlzcGF0Y2hpbmctc2hvdy9kaXNwYXRjaGluZy1zaG93LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7b0NBQ29DOztBQUVwQztJQUNJLGdDQUFnQztBQUNwQzs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksZ0JBQWdCO0lBQ2hCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsZ0JBQWdCO0lBQ2hCLG1CQUFtQjtBQUN2QiIsImZpbGUiOiJzcmMvYXBwL2Rpc3BhdGNoaW5nL2Rpc3BhdGNoaW5nLXNob3cvZGlzcGF0Y2hpbmctc2hvdy5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuICovXG5cbm1hdC1saXN0LWl0ZW0ge1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZDlkOWQ5OyAgXG59XG5cbi5tYXQtbGlzdC10ZXh0IGgze1xuICAgIGZvbnQtc2l6ZTogMC44NWVtO1xuICAgIGNvbG9yOiAjMDAwMDAwO1xufVxuXG4ubWF0LWxpc3QtdGV4dCBzcGFue1xuICAgIGZvbnQtc2l6ZTogMC44ZW07XG4gICAgY29sb3I6ICM5OTk5OTk7XG59XG5cbi5pdGVtLWN1c3RvbSB7XG4gICAgcGFkZGluZzogMTVweCAwIDE1cHggMDtcbn1cblxuLm5vLWRpcmVjdGlvbnMtYWxlcnQge1xuICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICBmb250LXNpemU6IDAuOWVtO1xuICAgIHBhZGRpbmc6IDAgMCAwIDEwcHg7XG59XG4iXX0= */"

/***/ }),

/***/ "./src/app/dispatching/dispatching-show/dispatching-show.component.ts":
/*!****************************************************************************!*\
  !*** ./src/app/dispatching/dispatching-show/dispatching-show.component.ts ***!
  \****************************************************************************/
/*! exports provided: DispatchingShowComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DispatchingShowComponent", function() { return DispatchingShowComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _dispatching_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../dispatching.service */ "./src/app/dispatching/dispatching.service.ts");
/* harmony import */ var _maps_maps_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../maps/maps.service */ "./src/app/maps/maps.service.ts");
/* harmony import */ var _core_spinner_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/spinner.service */ "./src/app/core/spinner.service.ts");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





let DispatchingShowComponent = class DispatchingShowComponent {
    constructor(dispatchingService, mapService, spinnerService, toasterService) {
        this.dispatchingService = dispatchingService;
        this.mapService = mapService;
        this.spinnerService = spinnerService;
        this.toasterService = toasterService;
        this.spinnerService.start();
    }
    ngOnInit() {
        this.dispatchingService.getDispatchingResults()
            .subscribe(results => {
            this.directions = results[0].itineraryText;
            this.directionPoints = results[0].itineraryPoints;
            this.distances = results[0].itineraryDistance;
            this.noDirectionsAvailable = this.directions.length === 0;
            this.mapService.showAlternativeResults(results[0].alternativeCarRoutePoints);
            this.mapService.showDispatchingResults(results[0].routePoints, this.dispatchingService.getPinsAdded());
            this.spinnerService.stop();
        }, error => {
            this.toasterService.pop('error', 'Error routing', 'An error has occured. Please make sure that the locations you are trying to route to are in the supported regions');
        });
    }
    showItineraryPoint(index) {
        this.mapService.showItineraryPosition(this.directionPoints[index]);
    }
};
DispatchingShowComponent.ctorParameters = () => [
    { type: _dispatching_service__WEBPACK_IMPORTED_MODULE_1__["DispatchingService"] },
    { type: _maps_maps_service__WEBPACK_IMPORTED_MODULE_2__["MapsService"] },
    { type: _core_spinner_service__WEBPACK_IMPORTED_MODULE_3__["SpinnerService"] },
    { type: angular2_toaster__WEBPACK_IMPORTED_MODULE_4__["ToasterService"] }
];
DispatchingShowComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-dispatching-show',
        template: __webpack_require__(/*! raw-loader!./dispatching-show.component.html */ "./node_modules/raw-loader/index.js!./src/app/dispatching/dispatching-show/dispatching-show.component.html"),
        styles: [__webpack_require__(/*! ./dispatching-show.component.css */ "./src/app/dispatching/dispatching-show/dispatching-show.component.css")]
    }),
    __metadata("design:paramtypes", [_dispatching_service__WEBPACK_IMPORTED_MODULE_1__["DispatchingService"],
        _maps_maps_service__WEBPACK_IMPORTED_MODULE_2__["MapsService"],
        _core_spinner_service__WEBPACK_IMPORTED_MODULE_3__["SpinnerService"],
        angular2_toaster__WEBPACK_IMPORTED_MODULE_4__["ToasterService"]])
], DispatchingShowComponent);



/***/ }),

/***/ "./src/app/dispatching/dispatching.module.ts":
/*!***************************************************!*\
  !*** ./src/app/dispatching/dispatching.module.ts ***!
  \***************************************************/
/*! exports provided: DispatchingModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DispatchingModule", function() { return DispatchingModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/common */ "./node_modules/@angular/common/fesm2015/common.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var _dispatching_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./dispatching-routing.module */ "./src/app/dispatching/dispatching-routing.module.ts");
/* harmony import */ var _dispatching_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./dispatching.service */ "./src/app/dispatching/dispatching.service.ts");
/* harmony import */ var _dialog_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./dialog.service */ "./src/app/dispatching/dialog.service.ts");
/* harmony import */ var _dispatching_show_dispatching_show_component__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./dispatching-show/dispatching-show.component */ "./src/app/dispatching/dispatching-show/dispatching-show.component.ts");
/* harmony import */ var _location_dialog_location_dialog_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./location-dialog/location-dialog.component */ "./src/app/dispatching/location-dialog/location-dialog.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








let DispatchingModule = class DispatchingModule {
};
DispatchingModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        declarations: [
            _dispatching_routing_module__WEBPACK_IMPORTED_MODULE_3__["routedComponenets"],
            _dispatching_show_dispatching_show_component__WEBPACK_IMPORTED_MODULE_6__["DispatchingShowComponent"],
            _location_dialog_location_dialog_component__WEBPACK_IMPORTED_MODULE_7__["LocationDialogComponent"]
        ],
        imports: [
            _angular_common__WEBPACK_IMPORTED_MODULE_1__["CommonModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_2__["SharedModule"],
            _dispatching_routing_module__WEBPACK_IMPORTED_MODULE_3__["DispatchingRoutingModule"]
        ],
        providers: [
            _dispatching_service__WEBPACK_IMPORTED_MODULE_4__["DispatchingService"],
            _dialog_service__WEBPACK_IMPORTED_MODULE_5__["DialogService"]
        ],
        entryComponents: [
            _location_dialog_location_dialog_component__WEBPACK_IMPORTED_MODULE_7__["LocationDialogComponent"]
        ],
        exports: [
            _location_dialog_location_dialog_component__WEBPACK_IMPORTED_MODULE_7__["LocationDialogComponent"]
        ]
    })
], DispatchingModule);



/***/ }),

/***/ "./src/app/dispatching/dispatching.service.ts":
/*!****************************************************!*\
  !*** ./src/app/dispatching/dispatching.service.ts ***!
  \****************************************************/
/*! exports provided: DispatchingService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DispatchingService", function() { return DispatchingService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _core_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/data.service */ "./src/app/core/data.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



let DispatchingService = class DispatchingService {
    constructor(dataService, router) {
        this.dataService = dataService;
        this.router = router;
    }
    callDisaptchingAPI(dispatchingParameters) {
        this.dispatchingResults = this.dataService.post('dispatching', dispatchingParameters);
        this.router.navigate(['/dispatching/show']);
    }
    getDispatchingResults() {
        return this.dispatchingResults;
    }
    getPinsAdded() {
        return this.pinsAdded;
    }
    savePinsAdded(pins) {
        this.pinsAdded = pins;
    }
};
DispatchingService.ctorParameters = () => [
    { type: _core_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] }
];
DispatchingService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [_core_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"]])
], DispatchingService);



/***/ }),

/***/ "./src/app/dispatching/location-dialog/location-dialog.component.css":
/*!***************************************************************************!*\
  !*** ./src/app/dispatching/location-dialog/location-dialog.component.css ***!
  \***************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nmat-toolbar {\n    color: #000000;\n    background-color: #ffffff;\n}\n\nmat-form-field {\n    font-size: 0.95em;\n    margin: 10px 0 0 10px;\n}\n\n.scrollable-list {\n    max-height: 500px;\n    width: 300px;\n    overflow-y: scroll;\n    margin: 10px 10px 10px 10px;\n}\n\n.active {\n    color: #ffffff;\n    background-color: #56A6B6;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZGlzcGF0Y2hpbmcvbG9jYXRpb24tZGlhbG9nL2xvY2F0aW9uLWRpYWxvZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29DQUNvQzs7QUFFcEM7SUFDSSxjQUFjO0lBQ2QseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksaUJBQWlCO0lBQ2pCLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLDJCQUEyQjtBQUMvQjs7QUFFQTtJQUNJLGNBQWM7SUFDZCx5QkFBeUI7QUFDN0IiLCJmaWxlIjoic3JjL2FwcC9kaXNwYXRjaGluZy9sb2NhdGlvbi1kaWFsb2cvbG9jYXRpb24tZGlhbG9nLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gKi9cblxubWF0LXRvb2xiYXIge1xuICAgIGNvbG9yOiAjMDAwMDAwO1xuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XG59XG5cbm1hdC1mb3JtLWZpZWxkIHtcbiAgICBmb250LXNpemU6IDAuOTVlbTtcbiAgICBtYXJnaW46IDEwcHggMCAwIDEwcHg7XG59XG5cbi5zY3JvbGxhYmxlLWxpc3Qge1xuICAgIG1heC1oZWlnaHQ6IDUwMHB4O1xuICAgIHdpZHRoOiAzMDBweDtcbiAgICBvdmVyZmxvdy15OiBzY3JvbGw7XG4gICAgbWFyZ2luOiAxMHB4IDEwcHggMTBweCAxMHB4O1xufVxuXG4uYWN0aXZlIHtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTZBNkI2O1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/dispatching/location-dialog/location-dialog.component.ts":
/*!**************************************************************************!*\
  !*** ./src/app/dispatching/location-dialog/location-dialog.component.ts ***!
  \**************************************************************************/
/*! exports provided: LocationDialogComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocationDialogComponent", function() { return LocationDialogComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm2015/dialog.js");
/* harmony import */ var _locations_location_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../locations/location.service */ "./src/app/locations/location.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



let LocationDialogComponent = class LocationDialogComponent {
    constructor(dialogRef, locationService) {
        this.dialogRef = dialogRef;
        this.locationService = locationService;
    }
    ngOnInit() {
    }
    ngOnDestroy() {
        if (this.locationSubscription && !this.locationSubscription.closed) {
            this.locationSubscription.unsubscribe();
        }
    }
    onSelected(location) {
        this.selectedLocation = location;
    }
    onButtonClicked() {
        this.dialogRef.close(this.selectedLocation);
    }
};
LocationDialogComponent.ctorParameters = () => [
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"] },
    { type: _locations_location_service__WEBPACK_IMPORTED_MODULE_2__["LocationService"] }
];
LocationDialogComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-location-dialog',
        template: __webpack_require__(/*! raw-loader!./location-dialog.component.html */ "./node_modules/raw-loader/index.js!./src/app/dispatching/location-dialog/location-dialog.component.html"),
        styles: [__webpack_require__(/*! ./location-dialog.component.css */ "./src/app/dispatching/location-dialog/location-dialog.component.css")]
    }),
    __metadata("design:paramtypes", [_angular_material_dialog__WEBPACK_IMPORTED_MODULE_1__["MatDialogRef"],
        _locations_location_service__WEBPACK_IMPORTED_MODULE_2__["LocationService"]])
], LocationDialogComponent);



/***/ }),

/***/ "./src/app/geofences/geofence-editor/geofence-editor.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/geofences/geofence-editor/geofence-editor.component.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nsection {\n  padding: 10px!important;\n  overflow: hidden;\n}\n\nform {\n  width: 100%;\n}\n\n.partial-input {\n  float:left;\n  width:65%;\n}\n\n.partial-button {\n  float:left;\n  cursor: pointer;\n}\n\nh3 {\n  margin: 0;\n}\n\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ2VvZmVuY2VzL2dlb2ZlbmNlLWVkaXRvci9nZW9mZW5jZS1lZGl0b3IuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtvQ0FDb0M7O0FBRXBDO0VBQ0UsdUJBQXVCO0VBQ3ZCLGdCQUFnQjtBQUNsQjs7QUFFQTtFQUNFLFdBQVc7QUFDYjs7QUFFQTtFQUNFLFVBQVU7RUFDVixTQUFTO0FBQ1g7O0FBRUE7RUFDRSxVQUFVO0VBQ1YsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLFNBQVM7QUFDWCIsImZpbGUiOiJzcmMvYXBwL2dlb2ZlbmNlcy9nZW9mZW5jZS1lZGl0b3IvZ2VvZmVuY2UtZWRpdG9yLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gKi9cblxuc2VjdGlvbiB7XG4gIHBhZGRpbmc6IDEwcHghaW1wb3J0YW50O1xuICBvdmVyZmxvdzogaGlkZGVuO1xufVxuXG5mb3JtIHtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5wYXJ0aWFsLWlucHV0IHtcbiAgZmxvYXQ6bGVmdDtcbiAgd2lkdGg6NjUlO1xufVxuXG4ucGFydGlhbC1idXR0b24ge1xuICBmbG9hdDpsZWZ0O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59XG5cbmgzIHtcbiAgbWFyZ2luOiAwO1xufVxuXG4iXX0= */"

/***/ }),

/***/ "./src/app/geofences/geofence-editor/geofence-editor.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/geofences/geofence-editor/geofence-editor.component.ts ***!
  \************************************************************************/
/*! exports provided: GeofenceEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeofenceEditorComponent", function() { return GeofenceEditorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _shared_geofence__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/geofence */ "./src/app/shared/geofence.ts");
/* harmony import */ var _shared_point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/point */ "./src/app/shared/point.ts");
/* harmony import */ var _geofence_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../geofence.service */ "./src/app/geofences/geofence.service.ts");
/* harmony import */ var _assets_asset_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../assets/asset.service */ "./src/app/assets/asset.service.ts");
/* harmony import */ var _maps_maps_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../maps/maps.service */ "./src/app/maps/maps.service.ts");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








let GeofenceEditorComponent = class GeofenceEditorComponent {
    constructor(route, router, assetService, geofenceService, mapsService, toasterService) {
        this.route = route;
        this.router = router;
        this.assetService = assetService;
        this.geofenceService = geofenceService;
        this.mapsService = mapsService;
        this.toasterService = toasterService;
        this.joinedEmails = '';
        this.joinedWebhooks = '';
        this.FenceType = _shared_geofence__WEBPACK_IMPORTED_MODULE_2__["FenceType"];
        this.AreaType = _shared_geofence__WEBPACK_IMPORTED_MODULE_2__["AreaType"];
        this.isEditable = false;
        this.assets = [];
    }
    ngOnInit() {
        this.geofence = new _shared_geofence__WEBPACK_IMPORTED_MODULE_2__["Geofence"]();
        this.geofence.areaType = _shared_geofence__WEBPACK_IMPORTED_MODULE_2__["AreaType"].Polygon;
        this.geofence.fencePolygon = new Array();
        this.routeSubscription = this.route.params.subscribe(params => {
            const id = params['id'];
            if (id) {
                this.geofenceSubscription = this.geofenceService.get(id).subscribe(geofence => {
                    if (geofence != null) {
                        this.geofence = geofence;
                        this.joinedEmails = this.geofence.emailsToNotify.join(', ');
                        this.joinedWebhooks = this.geofence.webhooksToNotify.join(', ');
                        if (this.geofence.areaType === _shared_geofence__WEBPACK_IMPORTED_MODULE_2__["AreaType"].Polygon) {
                            this.mapsService.startPolygonGeofenceDraw(geofence.fencePolygon.slice(0, geofence.fencePolygon.length - 1));
                        }
                        else if (this.geofence.areaType === _shared_geofence__WEBPACK_IMPORTED_MODULE_2__["AreaType"].Circular) {
                            this.mapsService.startCircularGeofenceDraw(geofence.fenceCenter, geofence.radiusInMeters);
                        }
                        this.updateAssetState();
                    }
                });
                this.isEditable = true;
            }
            else {
                this.mapsService.startPolygonGeofenceDraw(this.geofence.fencePolygon);
            }
        });
        this.assetsSubscription = this.assetService.getAssets().subscribe(assets => {
            this.assets.splice(0, this.assets.length);
            assets.forEach(a => {
                this.assets.push(a);
            });
            this.updateAssetState();
        });
        this.resultSubscription = this.mapsService.getGeodencePolygonDrawResult()
            .subscribe(result => {
            this.geofence.fencePolygon = result;
        });
        this.resultSubscription = this.mapsService.getGeodenceCircularDrawResult()
            .subscribe(result => {
            this.geofence.fenceCenter = result;
        });
        this.toasterService.pop('info', 'Draw Geofence', 'Please use the map to specify your geofence');
    }
    ngOnDestroy() {
        this.mapsService.endCurrentDraw();
        if (this.routeSubscription) {
            this.routeSubscription.unsubscribe();
        }
        if (this.geofenceSubscription) {
            this.geofenceSubscription.unsubscribe();
        }
        if (this.assetsSubscription) {
            this.assetsSubscription.unsubscribe();
        }
        if (this.resultSubscription) {
            this.resultSubscription.unsubscribe();
        }
    }
    submit() {
        const checkedAssets = this.assets.filter(a => a['checked']);
        this.geofence.assetIds = [];
        for (const checkedAsset of checkedAssets) {
            this.geofence.assetIds.push(checkedAsset.id);
        }
        if (this.geofence.areaType === _shared_geofence__WEBPACK_IMPORTED_MODULE_2__["AreaType"].Polygon && this.geofence.fencePolygon.length <= 2) {
            this.toasterService.pop('error', 'Geofence invalid', 'Please use the map to specify a valid geofence polygon');
            return;
        }
        if (this.geofence.areaType === _shared_geofence__WEBPACK_IMPORTED_MODULE_2__["AreaType"].Circular && !this.geofence.fenceCenter) {
            this.toasterService.pop('error', 'Geofence invalid', 'Please use the map to specify a valid center for the geofence');
            return;
        }
        if (this.geofence.areaType === _shared_geofence__WEBPACK_IMPORTED_MODULE_2__["AreaType"].Circular && this.geofence.radiusInMeters <= 0 || this.geofence.radiusInMeters >= 3185500) {
            this.toasterService.pop('error', 'Geofence invalid', 'Invalid geofence radius');
            return;
        }
        if (this.geofence.fenceType === undefined) {
            this.toasterService.pop('error', 'Fence Type invalid', 'Please specify the fence type');
            return;
        }
        this.geofence.emailsToNotify = this.joinedEmails.split(',').map(function (item) {
            return item.trim();
        });
        this.geofence.webhooksToNotify = this.joinedWebhooks.split(',').map(function (item) {
            return item.trim();
        });
        if (this.isEditable) {
            this.geofenceService.update(this.geofence)
                .subscribe(() => {
                this.router.navigate(['/geofences']);
            });
        }
        else {
            this.geofenceService.add(this.geofence)
                .subscribe(() => {
                this.router.navigate(['geofences']);
            });
        }
    }
    clearPoints() {
        this.mapsService.endCurrentDraw();
        if (this.geofence.areaType === _shared_geofence__WEBPACK_IMPORTED_MODULE_2__["AreaType"].Polygon) {
            this.geofence.fencePolygon = new Array();
            this.mapsService.startPolygonGeofenceDraw(this.geofence.fencePolygon);
        }
        else if (this.geofence.areaType === _shared_geofence__WEBPACK_IMPORTED_MODULE_2__["AreaType"].Circular) {
            this.geofence.fenceCenter = new _shared_point__WEBPACK_IMPORTED_MODULE_3__["Point"]();
            this.geofence.radiusInMeters = 1000;
            this.mapsService.startCircularGeofenceDraw(this.geofence.fenceCenter, this.geofence.radiusInMeters);
        }
    }
    updateAssetState() {
        if (this.geofence && this.geofence.assetIds && this.assets) {
            for (const asset of this.assets) {
                if (this.geofence.assetIds.indexOf(asset.id) !== -1) {
                    asset['checked'] = true;
                }
            }
        }
    }
    onRadiusChanged(event) {
        this.mapsService.changeCircularGeofenceRadius(this.geofence.radiusInMeters);
    }
    onAreaTypeChanged(event) {
        this.clearPoints();
    }
    onAssetCheckChanged(event) {
        for (const asset of this.assets) {
            if (asset.id === event.source.name) {
                asset['checked'] = true;
            }
        }
    }
};
GeofenceEditorComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
    { type: _assets_asset_service__WEBPACK_IMPORTED_MODULE_5__["AssetService"] },
    { type: _geofence_service__WEBPACK_IMPORTED_MODULE_4__["GeofenceService"] },
    { type: _maps_maps_service__WEBPACK_IMPORTED_MODULE_6__["MapsService"] },
    { type: angular2_toaster__WEBPACK_IMPORTED_MODULE_7__["ToasterService"] }
];
GeofenceEditorComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-geofence-edit-dialog',
        template: __webpack_require__(/*! raw-loader!./geofence-editor.component.html */ "./node_modules/raw-loader/index.js!./src/app/geofences/geofence-editor/geofence-editor.component.html"),
        styles: [__webpack_require__(/*! ./geofence-editor.component.css */ "./src/app/geofences/geofence-editor/geofence-editor.component.css")]
    }),
    __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
        _assets_asset_service__WEBPACK_IMPORTED_MODULE_5__["AssetService"],
        _geofence_service__WEBPACK_IMPORTED_MODULE_4__["GeofenceService"],
        _maps_maps_service__WEBPACK_IMPORTED_MODULE_6__["MapsService"],
        angular2_toaster__WEBPACK_IMPORTED_MODULE_7__["ToasterService"]])
], GeofenceEditorComponent);



/***/ }),

/***/ "./src/app/geofences/geofence-list/geofence-list.component.css":
/*!*********************************************************************!*\
  !*** ./src/app/geofences/geofence-list/geofence-list.component.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nmat-form-field {\n    font-size: 0.95em;\n    margin: 10px 0 0 10px;\n}\n\n.active {\n    color: #ffffff;\n    background-color: #56A6B6;\n}\n\n.active .subtle {\n    color: #ffffff;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZ2VvZmVuY2VzL2dlb2ZlbmNlLWxpc3QvZ2VvZmVuY2UtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29DQUNvQzs7QUFFcEM7SUFDSSxpQkFBaUI7SUFDakIscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksY0FBYztJQUNkLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLGNBQWM7QUFDbEIiLCJmaWxlIjoic3JjL2FwcC9nZW9mZW5jZXMvZ2VvZmVuY2UtbGlzdC9nZW9mZW5jZS1saXN0LmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gKi9cblxubWF0LWZvcm0tZmllbGQge1xuICAgIGZvbnQtc2l6ZTogMC45NWVtO1xuICAgIG1hcmdpbjogMTBweCAwIDAgMTBweDtcbn1cblxuLmFjdGl2ZSB7XG4gICAgY29sb3I6ICNmZmZmZmY7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU2QTZCNjtcbn1cblxuLmFjdGl2ZSAuc3VidGxlIHtcbiAgICBjb2xvcjogI2ZmZmZmZjtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/geofences/geofence-list/geofence-list.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/geofences/geofence-list/geofence-list.component.ts ***!
  \********************************************************************/
/*! exports provided: GeofenceListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeofenceListComponent", function() { return GeofenceListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _shared_geofence__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../shared/geofence */ "./src/app/shared/geofence.ts");
/* harmony import */ var _assets_asset_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../assets/asset.service */ "./src/app/assets/asset.service.ts");
/* harmony import */ var _geofence_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../geofence.service */ "./src/app/geofences/geofence.service.ts");
/* harmony import */ var _maps_maps_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../maps/maps.service */ "./src/app/maps/maps.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






let GeofenceListComponent = class GeofenceListComponent {
    constructor(geofenceService, assetService, mapsService) {
        this.geofenceService = geofenceService;
        this.assetService = assetService;
        this.mapsService = mapsService;
        this.FenceType = _shared_geofence__WEBPACK_IMPORTED_MODULE_1__["FenceType"];
    }
    ngOnInit() {
        this.isAlive = true;
        this.geofences = this.geofenceService.getAll();
        this.geofences.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeWhile"])(() => this.isAlive))
            .subscribe(geofences => {
            this.mapsService.showGeofences(geofences);
            this.retrievedGeofences = geofences;
        });
        this.assetService.getLatestPoints().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeWhile"])(() => this.isAlive))
            .subscribe(points => {
            this.mapsService.showAssetsPositions(points, true);
        });
    }
    ngOnDestroy() {
        this.isAlive = false;
    }
    showGeofence(geofence) {
        if (this.selectedGeofence === geofence) {
            this.mapsService.showGeofences(this.retrievedGeofences);
            this.selectedGeofence = null;
        }
        else {
            this.mapsService.showGeofence(geofence);
            this.selectedGeofence = geofence;
        }
    }
    deleteGeofence(geofence) {
        this.geofenceService.remove(geofence);
    }
};
GeofenceListComponent.ctorParameters = () => [
    { type: _geofence_service__WEBPACK_IMPORTED_MODULE_3__["GeofenceService"] },
    { type: _assets_asset_service__WEBPACK_IMPORTED_MODULE_2__["AssetService"] },
    { type: _maps_maps_service__WEBPACK_IMPORTED_MODULE_4__["MapsService"] }
];
GeofenceListComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-geofence-list',
        template: __webpack_require__(/*! raw-loader!./geofence-list.component.html */ "./node_modules/raw-loader/index.js!./src/app/geofences/geofence-list/geofence-list.component.html"),
        styles: [__webpack_require__(/*! ./geofence-list.component.css */ "./src/app/geofences/geofence-list/geofence-list.component.css")]
    }),
    __metadata("design:paramtypes", [_geofence_service__WEBPACK_IMPORTED_MODULE_3__["GeofenceService"],
        _assets_asset_service__WEBPACK_IMPORTED_MODULE_2__["AssetService"],
        _maps_maps_service__WEBPACK_IMPORTED_MODULE_4__["MapsService"]])
], GeofenceListComponent);



/***/ }),

/***/ "./src/app/geofences/geofence.service.ts":
/*!***********************************************!*\
  !*** ./src/app/geofences/geofence.service.ts ***!
  \***********************************************/
/*! exports provided: GeofenceService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeofenceService", function() { return GeofenceService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/data.service */ "./src/app/core/data.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


let GeofenceService = class GeofenceService {
    constructor(dataService) {
        this.dataService = dataService;
    }
    getAll() {
        return this.dataService.get('geofences');
    }
    get(id) {
        return this.dataService.getSingle('geofences', id);
    }
    update(geofence) {
        return this.dataService.put('geofences', geofence.id, geofence, true);
    }
    add(geofence) {
        return this.dataService.post('geofences', geofence);
    }
    remove(geofence) {
        return this.dataService.delete('geofences', geofence.id);
    }
};
GeofenceService.ctorParameters = () => [
    { type: _core_data_service__WEBPACK_IMPORTED_MODULE_1__["DataService"] }
];
GeofenceService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [_core_data_service__WEBPACK_IMPORTED_MODULE_1__["DataService"]])
], GeofenceService);



/***/ }),

/***/ "./src/app/geofences/geofences-routing.module.ts":
/*!*******************************************************!*\
  !*** ./src/app/geofences/geofences-routing.module.ts ***!
  \*******************************************************/
/*! exports provided: GeofencesRoutingModule, geofencesRoutedComponents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeofencesRoutingModule", function() { return GeofencesRoutingModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "geofencesRoutedComponents", function() { return geofencesRoutedComponents; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _geofence_list_geofence_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./geofence-list/geofence-list.component */ "./src/app/geofences/geofence-list/geofence-list.component.ts");
/* harmony import */ var _geofence_editor_geofence_editor_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./geofence-editor/geofence-editor.component */ "./src/app/geofences/geofence-editor/geofence-editor.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




const routes = [
    {
        path: 'geofences/new',
        component: _geofence_editor_geofence_editor_component__WEBPACK_IMPORTED_MODULE_3__["GeofenceEditorComponent"]
    },
    {
        path: 'geofences',
        component: _geofence_list_geofence_list_component__WEBPACK_IMPORTED_MODULE_2__["GeofenceListComponent"]
    },
    {
        path: 'geofences/:id', component: _geofence_editor_geofence_editor_component__WEBPACK_IMPORTED_MODULE_3__["GeofenceEditorComponent"]
    }
];
let GeofencesRoutingModule = class GeofencesRoutingModule {
};
GeofencesRoutingModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
    })
], GeofencesRoutingModule);

const geofencesRoutedComponents = [
    _geofence_list_geofence_list_component__WEBPACK_IMPORTED_MODULE_2__["GeofenceListComponent"],
    _geofence_editor_geofence_editor_component__WEBPACK_IMPORTED_MODULE_3__["GeofenceEditorComponent"]
];


/***/ }),

/***/ "./src/app/geofences/geofences.module.ts":
/*!***********************************************!*\
  !*** ./src/app/geofences/geofences.module.ts ***!
  \***********************************************/
/*! exports provided: GeofencesModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "GeofencesModule", function() { return GeofencesModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var _geofences_routing_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./geofences-routing.module */ "./src/app/geofences/geofences-routing.module.ts");
/* harmony import */ var _geofence_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./geofence.service */ "./src/app/geofences/geofence.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




let GeofencesModule = class GeofencesModule {
};
GeofencesModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        declarations: [
            _geofences_routing_module__WEBPACK_IMPORTED_MODULE_2__["geofencesRoutedComponents"],
        ],
        imports: [
            _geofences_routing_module__WEBPACK_IMPORTED_MODULE_2__["GeofencesRoutingModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ],
        providers: [_geofence_service__WEBPACK_IMPORTED_MODULE_3__["GeofenceService"]],
        exports: []
    })
], GeofencesModule);



/***/ }),

/***/ "./src/app/locations/location-editor/location-editor.component.css":
/*!*************************************************************************!*\
  !*** ./src/app/locations/location-editor/location-editor.component.css ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nsection {\n  padding: 10px;\n}\n\nform {\n  width: 100%;\n}\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9jYXRpb25zL2xvY2F0aW9uLWVkaXRvci9sb2NhdGlvbi1lZGl0b3IuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtvQ0FDb0M7O0FBRXBDO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsV0FBVztBQUNiIiwiZmlsZSI6InNyYy9hcHAvbG9jYXRpb25zL2xvY2F0aW9uLWVkaXRvci9sb2NhdGlvbi1lZGl0b3IuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiAqL1xuXG5zZWN0aW9uIHtcbiAgcGFkZGluZzogMTBweDtcbn1cblxuZm9ybSB7XG4gIHdpZHRoOiAxMDAlO1xufVxuIl19 */"

/***/ }),

/***/ "./src/app/locations/location-editor/location-editor.component.ts":
/*!************************************************************************!*\
  !*** ./src/app/locations/location-editor/location-editor.component.ts ***!
  \************************************************************************/
/*! exports provided: LocationEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocationEditorComponent", function() { return LocationEditorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _shared_location__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../shared/location */ "./src/app/shared/location.ts");
/* harmony import */ var _location_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../location.service */ "./src/app/locations/location.service.ts");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
/* harmony import */ var _maps_maps_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../maps/maps.service */ "./src/app/maps/maps.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







let LocationEditorComponent = class LocationEditorComponent {
    constructor(locationService, mapService, route, router, toasterService) {
        this.locationService = locationService;
        this.mapService = mapService;
        this.route = route;
        this.router = router;
        this.toasterService = toasterService;
    }
    ngOnInit() {
        this.isAlive = true;
        this.location = new _shared_location__WEBPACK_IMPORTED_MODULE_2__["Location"]();
        this.route.params.pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeWhile"])(() => this.isAlive))
            .subscribe(params => {
            const id = params['id'];
            if (id) {
                this.isEditable = true;
                this.locationService.getLocation(id).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeWhile"])(() => this.isAlive))
                    .subscribe(location => {
                    if (location) {
                        this.location = location;
                        this.setlocationString();
                        this.mapService.showLocationsPositions([this.location]);
                    }
                });
            }
            this.mapService.startLocationPinDraw(this.location);
        });
        this.mapService.getLocationPinResult().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["takeWhile"])(() => this.isAlive))
            .subscribe(location => {
            if (this.location.latitude !== location.latitude || this.location.longitude !== location.longitude) {
                this.didLocationChange = true;
                this.location.latitude = location.latitude;
                this.location.longitude = location.longitude;
                this.location.address = location.address;
                if (!this.location.name) {
                    this.location.name = location.name;
                }
                this.setlocationString();
            }
        });
    }
    ngOnDestroy() {
        this.mapService.endCurrentDraw();
        this.isAlive = false;
    }
    changeAddress() {
        const address = this.location.address;
        this.mapService.geocodeQuery(address);
        this.mapService.getGeocodeResult().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_6__["take"])(1)).subscribe(point => {
            this.location.latitude = point.latitude;
            this.location.longitude = point.longitude;
            this.setlocationString();
            this.mapService.showLocationsPositions([this.location]);
        });
    }
    submit() {
        if (!this.location.latitude || !this.location.longitude) {
            this.toasterService.pop('error', 'Invalid Input', 'Please add the location pin on the map');
            return;
        }
        if (this.isEditable) {
            this.locationService.updateLocation(this.location)
                .subscribe(() => this.router.navigate(['/locations']));
        }
        else {
            this.locationService.addLocation(this.location)
                .subscribe(() => this.router.navigate(['/locations']));
        }
    }
    setlocationString() {
        this.locationString = '(' + this.location.latitude + ' , ' + this.location.longitude + ' )';
    }
};
LocationEditorComponent.ctorParameters = () => [
    { type: _location_service__WEBPACK_IMPORTED_MODULE_3__["LocationService"] },
    { type: _maps_maps_service__WEBPACK_IMPORTED_MODULE_5__["MapsService"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
    { type: angular2_toaster__WEBPACK_IMPORTED_MODULE_4__["ToasterService"] }
];
LocationEditorComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-location-editor',
        template: __webpack_require__(/*! raw-loader!./location-editor.component.html */ "./node_modules/raw-loader/index.js!./src/app/locations/location-editor/location-editor.component.html"),
        styles: [__webpack_require__(/*! ./location-editor.component.css */ "./src/app/locations/location-editor/location-editor.component.css")]
    }),
    __metadata("design:paramtypes", [_location_service__WEBPACK_IMPORTED_MODULE_3__["LocationService"],
        _maps_maps_service__WEBPACK_IMPORTED_MODULE_5__["MapsService"],
        _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
        angular2_toaster__WEBPACK_IMPORTED_MODULE_4__["ToasterService"]])
], LocationEditorComponent);



/***/ }),

/***/ "./src/app/locations/location-list/location-list.component.css":
/*!*********************************************************************!*\
  !*** ./src/app/locations/location-list/location-list.component.css ***!
  \*********************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nmat-form-field {\n    font-size: 0.95em;\n    margin: 10px 0 0 10px;\n}\n\nmat-list-item {\n    border-bottom: 1px solid #ffffff;\n}\n\n.active {\n    color: #ffffff;\n    font-size: 0.85em;\n    background-color: #56A6B6;\n}\n\n.active .subtle,\n.active h3 {\n    color: #ffffff;\n}\n\n.my-pagination ::ng-deep .ngx-pagination {\n    font-size: 0.95em;\n    padding: 20px 0 0 20px;\n}\n\n.my-pagination ::ng-deep .ngx-pagination .pagination-previous,\n.my-pagination ::ng-deep .ngx-pagination .pagination-next {\n    font-weight: bold;\n}\n\n.my-pagination ::ng-deep .ngx-pagination .current {\n    background-color: #56A6B6;\n    color: #FFFFFF;\n}\n\ntd {\n    padding: 0 30px 0 30px;\n    text-align: center;\n}\n\ntable {\n    padding: 10px 10px 10px 10px;\n    position: relative;\n    -webkit-animation-name:animate-drop;\n    -webkit-animation-duration:0.4s;\n    animation-name:animate-drop;\n    animation-duration:0.4s;\n}\n\n@-webkit-keyframes animate-drop {\n    from {opacity: 0}\n    to{opacity: 1}\n}\n\n@keyframes animate-drop {\n    from {opacity: 0}\n    to{opacity: 1}\n}\n\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbG9jYXRpb25zL2xvY2F0aW9uLWxpc3QvbG9jYXRpb24tbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29DQUNvQzs7QUFFcEM7SUFDSSxpQkFBaUI7SUFDakIscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksZ0NBQWdDO0FBQ3BDOztBQUVBO0lBQ0ksY0FBYztJQUNkLGlCQUFpQjtJQUNqQix5QkFBeUI7QUFDN0I7O0FBRUE7O0lBRUksY0FBYztBQUNsQjs7QUFFQTtJQUNJLGlCQUFpQjtJQUNqQixzQkFBc0I7QUFDMUI7O0FBRUE7O0lBRUksaUJBQWlCO0FBQ3JCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLGNBQWM7QUFDbEI7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksNEJBQTRCO0lBQzVCLGtCQUFrQjtJQUNsQixtQ0FBbUM7SUFDbkMsK0JBQStCO0lBQy9CLDJCQUEyQjtJQUMzQix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxNQUFNLFVBQVU7SUFDaEIsR0FBRyxVQUFVO0FBQ2pCOztBQUVBO0lBQ0ksTUFBTSxVQUFVO0lBQ2hCLEdBQUcsVUFBVTtBQUNqQiIsImZpbGUiOiJzcmMvYXBwL2xvY2F0aW9ucy9sb2NhdGlvbi1saXN0L2xvY2F0aW9uLWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiAqL1xuXG5tYXQtZm9ybS1maWVsZCB7XG4gICAgZm9udC1zaXplOiAwLjk1ZW07XG4gICAgbWFyZ2luOiAxMHB4IDAgMCAxMHB4O1xufVxuXG5tYXQtbGlzdC1pdGVtIHtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2ZmZmZmZjtcbn1cblxuLmFjdGl2ZSB7XG4gICAgY29sb3I6ICNmZmZmZmY7XG4gICAgZm9udC1zaXplOiAwLjg1ZW07XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU2QTZCNjtcbn1cblxuLmFjdGl2ZSAuc3VidGxlLFxuLmFjdGl2ZSBoMyB7XG4gICAgY29sb3I6ICNmZmZmZmY7XG59XG5cbi5teS1wYWdpbmF0aW9uIDo6bmctZGVlcCAubmd4LXBhZ2luYXRpb24ge1xuICAgIGZvbnQtc2l6ZTogMC45NWVtO1xuICAgIHBhZGRpbmc6IDIwcHggMCAwIDIwcHg7XG59XG5cbi5teS1wYWdpbmF0aW9uIDo6bmctZGVlcCAubmd4LXBhZ2luYXRpb24gLnBhZ2luYXRpb24tcHJldmlvdXMsXG4ubXktcGFnaW5hdGlvbiA6Om5nLWRlZXAgLm5neC1wYWdpbmF0aW9uIC5wYWdpbmF0aW9uLW5leHQge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4ubXktcGFnaW5hdGlvbiA6Om5nLWRlZXAgLm5neC1wYWdpbmF0aW9uIC5jdXJyZW50IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTZBNkI2O1xuICAgIGNvbG9yOiAjRkZGRkZGO1xufVxuXG50ZCB7XG4gICAgcGFkZGluZzogMCAzMHB4IDAgMzBweDtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbnRhYmxlIHtcbiAgICBwYWRkaW5nOiAxMHB4IDEwcHggMTBweCAxMHB4O1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAtd2Via2l0LWFuaW1hdGlvbi1uYW1lOmFuaW1hdGUtZHJvcDtcbiAgICAtd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjowLjRzO1xuICAgIGFuaW1hdGlvbi1uYW1lOmFuaW1hdGUtZHJvcDtcbiAgICBhbmltYXRpb24tZHVyYXRpb246MC40cztcbn1cblxuQC13ZWJraXQta2V5ZnJhbWVzIGFuaW1hdGUtZHJvcCB7XG4gICAgZnJvbSB7b3BhY2l0eTogMH1cbiAgICB0b3tvcGFjaXR5OiAxfVxufVxuXG5Aa2V5ZnJhbWVzIGFuaW1hdGUtZHJvcCB7XG4gICAgZnJvbSB7b3BhY2l0eTogMH1cbiAgICB0b3tvcGFjaXR5OiAxfVxufVxuXG4iXX0= */"

/***/ }),

/***/ "./src/app/locations/location-list/location-list.component.ts":
/*!********************************************************************!*\
  !*** ./src/app/locations/location-list/location-list.component.ts ***!
  \********************************************************************/
/*! exports provided: LocationListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocationListComponent", function() { return LocationListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _location_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../location.service */ "./src/app/locations/location.service.ts");
/* harmony import */ var _maps_maps_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../maps/maps.service */ "./src/app/maps/maps.service.ts");
/* harmony import */ var _shared_role__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/role */ "./src/app/shared/role.ts");
/* harmony import */ var _assets_asset_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../assets/asset.service */ "./src/app/assets/asset.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






let LocationListComponent = class LocationListComponent {
    constructor(locationService, assetService, mapsService) {
        this.locationService = locationService;
        this.assetService = assetService;
        this.mapsService = mapsService;
        this.Roles = _shared_role__WEBPACK_IMPORTED_MODULE_3__["Roles"];
        this.index = 1;
        this.singlePageSize = 10;
    }
    ngOnInit() {
        this.isAlive = true;
        this.showFirstPageLocations();
        this.assetService.getLatestPoints().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeWhile"])(() => this.isAlive))
            .subscribe(points => {
            this.mapsService.showAssetsPositions(points, true);
        });
    }
    showFirstPageLocations() {
        this.locationService.getLocations().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeWhile"])(() => this.isAlive))
            .subscribe(locations => {
            this.locations = locations;
            this.showLocationsRange(this.locations.slice(0, this.singlePageSize - 1));
        });
    }
    ngOnDestroy() {
        this.isAlive = false;
    }
    showLocationsRange(locationRange) {
        this.mapsService.showLocationsPositions(locationRange);
    }
    showLocation(location) {
        if (location === this.selectedLocation) {
            this.selectedLocation = null;
        }
        else {
            this.selectedLocation = location;
            this.mapsService.zoomToLocation(location);
        }
        this.getLocationInformation(location);
    }
    selectPage(index) {
        this.index = index;
        const pagedLocations = this.locations.slice((index - 1) * this.singlePageSize, (index * this.singlePageSize) + 1);
        this.showLocationsRange(pagedLocations);
    }
    getLocationInformation(location) {
        this.assetsCount = null;
        this.locationService.getLocationAssetsCount(location).pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_5__["takeWhile"])(() => this.isAlive))
            .subscribe(assetsCount => {
            this.assetsCount = Object.keys(assetsCount).map(function (key) {
                return {
                    key: key, value: assetsCount[key]
                };
            });
            this.showTable = (this.assetsCount.length >= 1);
        });
    }
};
LocationListComponent.ctorParameters = () => [
    { type: _location_service__WEBPACK_IMPORTED_MODULE_1__["LocationService"] },
    { type: _assets_asset_service__WEBPACK_IMPORTED_MODULE_4__["AssetService"] },
    { type: _maps_maps_service__WEBPACK_IMPORTED_MODULE_2__["MapsService"] }
];
LocationListComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-location-list',
        template: __webpack_require__(/*! raw-loader!./location-list.component.html */ "./node_modules/raw-loader/index.js!./src/app/locations/location-list/location-list.component.html"),
        styles: [__webpack_require__(/*! ./location-list.component.css */ "./src/app/locations/location-list/location-list.component.css")]
    }),
    __metadata("design:paramtypes", [_location_service__WEBPACK_IMPORTED_MODULE_1__["LocationService"],
        _assets_asset_service__WEBPACK_IMPORTED_MODULE_4__["AssetService"],
        _maps_maps_service__WEBPACK_IMPORTED_MODULE_2__["MapsService"]])
], LocationListComponent);



/***/ }),

/***/ "./src/app/locations/location.service.ts":
/*!***********************************************!*\
  !*** ./src/app/locations/location.service.ts ***!
  \***********************************************/
/*! exports provided: LocationService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocationService", function() { return LocationService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/data.service */ "./src/app/core/data.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


let LocationService = class LocationService {
    constructor(dataSevrice) {
        this.dataSevrice = dataSevrice;
    }
    addLocation(location) {
        return this.dataSevrice.post('locations', location);
    }
    getLocations() {
        return this.dataSevrice.get('locations');
    }
    getLocation(id) {
        return this.dataSevrice.getSingle('locations', id);
    }
    updateLocation(location) {
        return this.dataSevrice.put('locations', location.id, location, true);
    }
    getLocationAssetsCount(location) {
        return this.dataSevrice.getSingleNoCache(`locations/${location.id}/assetsCount`);
    }
};
LocationService.ctorParameters = () => [
    { type: _core_data_service__WEBPACK_IMPORTED_MODULE_1__["DataService"] }
];
LocationService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [_core_data_service__WEBPACK_IMPORTED_MODULE_1__["DataService"]])
], LocationService);



/***/ }),

/***/ "./src/app/locations/locations-routing.module.ts":
/*!*******************************************************!*\
  !*** ./src/app/locations/locations-routing.module.ts ***!
  \*******************************************************/
/*! exports provided: LocationsRoutingModule, locationsRoutedComponents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocationsRoutingModule", function() { return LocationsRoutingModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "locationsRoutedComponents", function() { return locationsRoutedComponents; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _location_list_location_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./location-list/location-list.component */ "./src/app/locations/location-list/location-list.component.ts");
/* harmony import */ var _location_editor_location_editor_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./location-editor/location-editor.component */ "./src/app/locations/location-editor/location-editor.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




const routes = [
    {
        path: 'locations/new',
        component: _location_editor_location_editor_component__WEBPACK_IMPORTED_MODULE_3__["LocationEditorComponent"]
    },
    {
        path: 'locations',
        component: _location_list_location_list_component__WEBPACK_IMPORTED_MODULE_2__["LocationListComponent"]
    },
    {
        path: 'locations/:id',
        component: _location_editor_location_editor_component__WEBPACK_IMPORTED_MODULE_3__["LocationEditorComponent"]
    }
];
let LocationsRoutingModule = class LocationsRoutingModule {
};
LocationsRoutingModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
    })
], LocationsRoutingModule);

const locationsRoutedComponents = [
    _location_list_location_list_component__WEBPACK_IMPORTED_MODULE_2__["LocationListComponent"],
    _location_editor_location_editor_component__WEBPACK_IMPORTED_MODULE_3__["LocationEditorComponent"]
];


/***/ }),

/***/ "./src/app/locations/locations.module.ts":
/*!***********************************************!*\
  !*** ./src/app/locations/locations.module.ts ***!
  \***********************************************/
/*! exports provided: LocationsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LocationsModule", function() { return LocationsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var _locations_routing_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./locations-routing.module */ "./src/app/locations/locations-routing.module.ts");
/* harmony import */ var _location_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./location.service */ "./src/app/locations/location.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




let LocationsModule = class LocationsModule {
};
LocationsModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        declarations: [
            _locations_routing_module__WEBPACK_IMPORTED_MODULE_2__["locationsRoutedComponents"]
        ],
        imports: [
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__["SharedModule"],
            _locations_routing_module__WEBPACK_IMPORTED_MODULE_2__["LocationsRoutingModule"]
        ],
        providers: [
            _location_service__WEBPACK_IMPORTED_MODULE_3__["LocationService"]
        ]
    })
], LocationsModule);



/***/ }),

/***/ "./src/app/maps/bing-maps.service.ts":
/*!*******************************************!*\
  !*** ./src/app/maps/bing-maps.service.ts ***!
  \*******************************************/
/*! exports provided: BingMapsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "BingMapsService", function() { return BingMapsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _assets_asset__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../assets/asset */ "./src/app/assets/asset.ts");
/* harmony import */ var _shared_point__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../shared/point */ "./src/app/shared/point.ts");
/* harmony import */ var _shared_geofence__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shared/geofence */ "./src/app/shared/geofence.ts");
/* harmony import */ var _shared_location__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../shared/location */ "./src/app/shared/location.ts");
/* harmony import */ var _core_trip_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/trip.service */ "./src/app/core/trip.service.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
/// <reference path='../../../node_modules/bingmaps/types/MicrosoftMaps/Microsoft.Maps.All.d.ts' />








let BingMapsService = class BingMapsService {
    constructor(tripService) {
        this.tripService = tripService;
        this.genericColors = ['#56A6B6', '#464E50', '#56B691', '#BF8B8A', '#E95794'];
        this.tripColors = ['#000CCC', '#CC0200', '#73CC15', '#00EAFF'];
        this.yellowSpeed = 4.4;
        this.greenSpeed = 13.4;
        this.geofenceGreenBlue = 'rgba(86,182,145,0.4)';
        this.geofencePink = 'rgba(233,87,148,0.4)';
    }
    /* GENERIC FUNCTIONS */
    init(element, options) {
        this.load().then(() => {
            this.map = new Microsoft.Maps.Map(element, options);
            if (!this.searchManager) {
                Microsoft.Maps.loadModule('Microsoft.Maps.Search', () => {
                    this.searchManager = new Microsoft.Maps.Search.SearchManager(this.map);
                });
            }
            this.geofencesLayer = new Microsoft.Maps.Layer('geofencesLayer');
            this.assetsLayer = new Microsoft.Maps.Layer('assetsLayer');
            this.devicesLayer = new Microsoft.Maps.Layer('devicesLayer');
            this.tripsLayer = new Microsoft.Maps.Layer('tripsLayer');
            this.locationsLayer = new Microsoft.Maps.Layer('locationsLayer');
            this.pointsLayer = new Microsoft.Maps.Layer('pointsLayer');
            this.map.layers.insert(this.geofencesLayer);
            this.map.layers.insert(this.assetsLayer);
            this.map.layers.insert(this.devicesLayer);
            this.map.layers.insert(this.tripsLayer);
            this.map.layers.insert(this.locationsLayer);
            this.map.layers.insert(this.pointsLayer);
        });
    }
    endCurrentDraw() {
        if (this.drawHandlerId) {
            Microsoft.Maps.Events.removeHandler(this.drawHandlerId);
            this.drawHandlerId = null;
        }
    }
    centerMap(point, zoom = null) {
        if (point) {
            this.map.setView({
                center: new Microsoft.Maps.Location(point.latitude, point.longitude),
                zoom: zoom
            });
        }
    }
    load() {
        if (this.loadPromise) {
            return this.loadPromise;
        }
        const script = document.createElement('script');
        script.type = 'text/javascript';
        script.async = true;
        script.defer = true;
        const mapsCallback = 'bingMapsCallback';
        script.src = `https://www.bing.com/api/maps/mapcontrol?branch=release&clientApi=bingmapsfleettracker&callback=${mapsCallback}`;
        this.loadPromise = new Promise((resolve, reject) => {
            window[mapsCallback] = () => {
                resolve();
            };
            script.onerror = (error) => {
                console.error('maps script error' + error);
                reject(error);
            };
        });
        document.body.appendChild(script);
        return this.loadPromise;
    }
    centerMapOnMedian(points) {
        if (points.length) {
            points.sort(function (x, y) {
                return x.longitude - y.longitude;
            });
            const mid = Math.floor(points.length / 2);
            this.map.setView({
                center: new Microsoft.Maps.Location(points[mid].latitude, points[mid].longitude)
            });
        }
    }
    centerMapOnMean(points) {
        if (points.length) {
            let centerLat = 0;
            let centerLong = 0;
            points.forEach(function (p) {
                centerLat += p.latitude;
                centerLong += p.longitude;
            });
            centerLat /= points.length;
            centerLong /= points.length;
            this.map.setView({
                center: new Microsoft.Maps.Location(centerLat, centerLong)
            });
        }
    }
    timeConverter(timestamp) {
        const a = new Date(timestamp);
        return a.toLocaleString('en-US', { month: 'short', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric' });
    }
    resetMap() {
        this.geofencesLayer.setVisible(false);
        this.assetsLayer.setVisible(false);
        this.devicesLayer.setVisible(false);
        this.pointsLayer.setVisible(false);
        this.tripsLayer.setVisible(false);
        this.locationsLayer.setVisible(false);
    }
    /* END GENERIC FUNCTIONS */
    /* GEOFENCES FUNCTIONS */
    showGeofences(geofences) {
        this.load().then(() => {
            this.resetMap();
            this.assetsLayer.setVisible(true);
            this.geofencesLayer.setVisible(true);
            this.geofencesLayer.clear();
            let lastGeofencePolygon;
            for (const geofence of geofences) {
                lastGeofencePolygon = this.showGeofencePolygon(geofence, this.geofenceGreenBlue, this.genericColors[0]);
            }
            this.centerMapOnMean(lastGeofencePolygon);
        });
    }
    showGeofence(geofence) {
        this.load().then(() => {
            this.resetMap();
            this.assetsLayer.setVisible(true);
            this.geofencesLayer.setVisible(true);
            this.geofencesLayer.clear();
            const polygonLocations = this.showGeofencePolygon(geofence, this.geofenceGreenBlue, this.genericColors[0]);
            this.centerMapOnMean(polygonLocations);
        });
    }
    drawCircularGeofence(subject, initialCenter, initialRadius, radius) {
        this.load().then(() => {
            const tempGeofence = new _shared_geofence__WEBPACK_IMPORTED_MODULE_4__["Geofence"]();
            tempGeofence.fenceCenter = initialCenter || new _shared_point__WEBPACK_IMPORTED_MODULE_3__["Point"]();
            tempGeofence.radiusInMeters = initialRadius || 1;
            tempGeofence.areaType = _shared_geofence__WEBPACK_IMPORTED_MODULE_4__["AreaType"].Circular;
            this.resetMap();
            this.geofencesLayer.setVisible(true);
            this.geofencesLayer.clear();
            // Draw initial geofence area value if it exists
            if (initialCenter && initialCenter.latitude && initialCenter.longitude && initialRadius) {
                this.showGeofencePolygon(tempGeofence, this.geofenceGreenBlue, this.genericColors[0]);
            }
            // If new center set, update temp geofence and redraw
            this.drawHandlerId = Microsoft.Maps.Events.addHandler(this.map, 'click', e => {
                const event = e;
                tempGeofence.fenceCenter.latitude = event.location.latitude;
                tempGeofence.fenceCenter.longitude = event.location.longitude;
                this.geofencesLayer.clear();
                this.showGeofencePolygon(tempGeofence, this.geofencePink, this.genericColors[4], '/assets/images/circular-geofence-center-pink.svg');
                subject.next(tempGeofence.fenceCenter);
            });
            // If radius changed, update temp geofence and redraw if center is specified
            // Stop subscribing to updates if the drawHandler is changed
            const currentDrawHandlerId = this.drawHandlerId;
            radius
                .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_7__["takeWhile"])(() => currentDrawHandlerId === this.drawHandlerId))
                .subscribe(r => {
                tempGeofence.radiusInMeters = r;
                if (tempGeofence.fenceCenter && tempGeofence.fenceCenter.latitude && tempGeofence.fenceCenter.longitude) {
                    this.geofencesLayer.clear();
                    this.showGeofencePolygon(tempGeofence, this.geofencePink, this.genericColors[4], '/assets/images/circular-geofence-center-pink.svg');
                }
            });
        });
    }
    drawPolygonGeofence(subject, initialPoints) {
        this.load().then(() => {
            const tempGeofence = new _shared_geofence__WEBPACK_IMPORTED_MODULE_4__["Geofence"]();
            tempGeofence.fencePolygon = initialPoints || new Array();
            tempGeofence.areaType = _shared_geofence__WEBPACK_IMPORTED_MODULE_4__["AreaType"].Polygon;
            this.resetMap();
            this.geofencesLayer.setVisible(true);
            this.geofencesLayer.clear();
            // Draw initial geofence area value if it exists
            if (initialPoints && initialPoints.length > 1) {
                this.showGeofencePolygon(tempGeofence, this.geofenceGreenBlue, this.genericColors[0]);
            }
            // If new point added, update temp geofence and redraw
            this.drawHandlerId = Microsoft.Maps.Events.addHandler(this.map, 'click', e => {
                const event = e;
                tempGeofence.fencePolygon.push(event.location);
                this.geofencesLayer.clear();
                if (tempGeofence.fencePolygon.length > 1) {
                    this.showGeofencePolygon(tempGeofence, this.geofencePink, this.genericColors[4]);
                }
                else {
                    const pushpin = new Microsoft.Maps.Pushpin(event.location, {
                        color: this.genericColors[4]
                    });
                    this.geofencesLayer.add(pushpin);
                }
                subject.next(tempGeofence.fencePolygon);
            });
        });
    }
    showGeofencePolygon(geofence, fillColor, strokeColor, circularIcon = '/assets/images/circular-geofence-center-green.svg') {
        let locations = new Array();
        if (geofence.areaType === _shared_geofence__WEBPACK_IMPORTED_MODULE_4__["AreaType"].Polygon) {
            for (const p of geofence.fencePolygon) {
                const location = new Microsoft.Maps.Location(p.latitude, p.longitude);
                locations.push(location);
            }
        }
        else if (geofence.areaType === _shared_geofence__WEBPACK_IMPORTED_MODULE_4__["AreaType"].Circular) {
            locations = this.getCirclePolygon(geofence.fenceCenter, geofence.radiusInMeters);
            const pushpin = new Microsoft.Maps.Pushpin(new Microsoft.Maps.Location(geofence.fenceCenter.latitude, geofence.fenceCenter.longitude), {
                color: strokeColor,
                icon: circularIcon,
                anchor: new Microsoft.Maps.Point(12, 12)
            });
            this.geofencesLayer.add(pushpin);
        }
        const polygon = new Microsoft.Maps.Polygon(locations, {
            fillColor: fillColor,
            strokeColor: strokeColor
        });
        this.geofencesLayer.add(polygon);
        return locations;
    }
    getCirclePolygon(center, radiusInMeters) {
        const earthRadiusInMeters = 6371000;
        const radPerDeg = Math.PI / 180;
        const locs = new Array();
        if (!radiusInMeters || radiusInMeters <= 0 || radiusInMeters > earthRadiusInMeters / 2) {
            return locs;
        }
        const lat = center.latitude * radPerDeg;
        const lon = center.longitude * radPerDeg;
        const angDist = parseFloat(radiusInMeters) / earthRadiusInMeters;
        for (let i = 0; i <= 360; i++) {
            let pLatitude, pLongitude;
            const brng = i * radPerDeg;
            pLatitude = Math.asin(Math.sin(lat) * Math.cos(angDist) +
                Math.cos(lat) * Math.sin(angDist) * Math.cos(brng));
            pLongitude = lon + Math.atan2(Math.sin(brng) * Math.sin(angDist) * Math.cos(lat), Math.cos(angDist) - Math.sin(lat) * Math.sin(pLatitude));
            pLatitude = pLatitude / radPerDeg;
            pLongitude = pLongitude / radPerDeg;
            locs.push(new Microsoft.Maps.Location(pLatitude, pLongitude));
        }
        return locs;
    }
    /* END GEOFENCES FUNCTIONS */
    /* LOCATION FUNCTIONS */
    drawLocationPin(subject, location) {
        this.load().then(() => {
            const tempLocation = new _shared_location__WEBPACK_IMPORTED_MODULE_5__["Location"]();
            tempLocation.name = 'New Location';
            if (location && location.name) {
                tempLocation.name = location.name;
            }
            this.resetMap();
            this.locationsLayer.setVisible(true);
            this.locationsLayer.clear();
            this.drawHandlerId = Microsoft.Maps.Events.addHandler(this.map, 'click', e => {
                const event = e;
                tempLocation.latitude = event.location.latitude;
                tempLocation.longitude = event.location.longitude;
                this.locationsLayer.clear();
                this.showLocation(tempLocation);
                this.searchManager.reverseGeocode({
                    location: event.location,
                    callback: (placeResult) => {
                        tempLocation.address = placeResult.address.formattedAddress;
                        this.locationsLayer.clear();
                        this.showLocation(tempLocation);
                        subject.next(tempLocation);
                    }
                });
            });
        });
    }
    drawDispatchingRoute(subject, initialLocations) {
        this.load().then(() => {
            const tempRoutePoints = initialLocations || new Array();
            this.resetMap();
            this.assetsLayer.setVisible(true);
            this.locationsLayer.setVisible(true);
            this.locationsLayer.clear();
            if (initialLocations) {
                this.showDispatchingRoutePins(tempRoutePoints);
            }
            this.drawHandlerId = Microsoft.Maps.Events.addHandler(this.map, 'click', e => {
                const event = e;
                const newLocation = new _shared_location__WEBPACK_IMPORTED_MODULE_5__["Location"]();
                newLocation.name = 'Pin' + '(' + (tempRoutePoints.length + 1) + ')';
                newLocation.latitude = event.location.latitude;
                newLocation.longitude = event.location.longitude;
                this.showLocation(newLocation);
                tempRoutePoints.push(newLocation);
                subject.next(tempRoutePoints);
            });
        });
    }
    showDispatchingRoute(points, clearMap, colorIndex) {
        this.load().then(() => {
            if (clearMap) {
                this.locationsLayer.clear();
            }
            if (points && points.length >= 1) {
                const locations = [];
                for (const p of points) {
                    locations.push(new Microsoft.Maps.Location(p.latitude, p.longitude));
                }
                const polyline = new Microsoft.Maps.Polyline(locations, {
                    strokeColor: this.tripColors[colorIndex % this.tripColors.length],
                    strokeThickness: 2
                });
                this.locationsLayer.add(polyline);
                this.centerMap(points[0]);
            }
        });
    }
    showDispatchingRoutePins(locations) {
        this.load().then(() => {
            locations.forEach(location => {
                this.showLocation(location);
            });
        });
    }
    showLocations(locations) {
        this.load().then(() => {
            this.resetMap();
            this.assetsLayer.setVisible(true);
            this.locationsLayer.setVisible(true);
            this.locationsLayer.clear();
            locations.forEach(location => {
                this.showLocation(location);
            });
            this.centerMapOnMedian(locations);
        });
    }
    geocodeAddress(address) {
        const subject = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.load().then(() => {
            this.searchManager.geocode({
                where: address,
                count: 1,
                callback: (geocodeResult) => {
                    const res = geocodeResult.results[0];
                    const p = new _shared_point__WEBPACK_IMPORTED_MODULE_3__["Point"]();
                    p.latitude = res.location.latitude;
                    p.longitude = res.location.longitude;
                    subject.next(p);
                }
            });
        });
        return subject;
    }
    showLocation(location, icon = '/assets/images/location-pin.png') {
        const mapLocation = new Microsoft.Maps.Location(location.latitude, location.longitude);
        const pushpin = new Microsoft.Maps.Pushpin(mapLocation, {
            title: location.name,
            subTitle: location.address,
            icon: icon
        });
        this.locationsLayer.add(pushpin);
    }
    getNormalizedLocationName(location) {
        if (location.name === 'Auto-Generated Location') {
            return 'Location ' + location.id;
        }
        else {
            return location.name;
        }
    }
    /* END LOCATION FUNCTIONS */
    /* POINT FUNCTIONS */
    showPoints(points) {
        this.load().then(() => {
            this.resetMap();
            this.pointsLayer.setVisible(true);
            this.pointsLayer.clear();
            points.forEach(p => this.showPoint(p, this.genericColors[4]));
            this.centerMapOnMedian(points);
        });
    }
    showPoint(point, color) {
        const location = new Microsoft.Maps.Location(point.latitude, point.longitude);
        const pushpin = new Microsoft.Maps.Pushpin(location, {
            color: color
            //  BingMapsService.colors[4]
        });
        this.pointsLayer.add(pushpin);
    }
    /* END POINT FUNCTIONS */
    /* ASSET FUNCTIONS */
    showAssets(positions, centerMap, clearMap) {
        this.load().then(() => {
            if (clearMap) {
                this.resetMap();
                this.assetsLayer.setVisible(true);
            }
            this.assetsLayer.clear();
            const points = [];
            for (const position of positions) {
                const p = position[1];
                if (p != null) {
                    points.push(p);
                    const location = new Microsoft.Maps.Location(p.latitude, p.longitude);
                    const pushpin = new Microsoft.Maps.Pushpin(location, {
                        title: position[0].name,
                        subTitle: this.timeConverter(p.time),
                        icon: (position[0].assetType === _assets_asset__WEBPACK_IMPORTED_MODULE_2__["AssetType"].Car
                            ? '/assets/images/car-side.png'
                            : '/assets/images/truck-side.png')
                    });
                    this.assetsLayer.add(pushpin);
                }
            }
            if (centerMap) {
                this.centerMapOnMedian(points);
            }
        });
    }
    /* END ASSET FUNCTIONS */
    /* DEVICE FUNCTIONS */
    showDevices(positions, centerMap, clearMap) {
        this.load().then(() => {
            if (clearMap) {
                this.resetMap();
                this.devicesLayer.setVisible(true);
            }
            this.devicesLayer.clear();
            const points = [];
            positions.forEach((value, key) => {
                if (value != null) {
                    points.push(value);
                    const location = new Microsoft.Maps.Location(value.latitude, value.longitude);
                    const pushpin = new Microsoft.Maps.Pushpin(location, {
                        title: key,
                        subTitle: this.timeConverter(value.time),
                        icon: '/assets/images/phone.png'
                    });
                    this.devicesLayer.add(pushpin);
                }
            });
            if (centerMap) {
                this.centerMapOnMedian(points);
            }
        });
    }
    /* END DEVICE FUNCTIONS */
    /* TRIP FUNCTIONS*/
    showTrips(trips) {
        this.load().then(() => {
            this.resetMap();
            this.tripsLayer.setVisible(true);
            this.tripsLayer.clear();
            let colorIndex = 0;
            for (const trip of trips) {
                this.showSimplifiedTrip(trip, this.tripColors[colorIndex++ % this.tripColors.length]);
            }
        });
    }
    showTrip(trip, color) {
        this.load().then(() => {
            this.resetMap();
            this.tripsLayer.setVisible(true);
            this.tripsLayer.clear();
            this.showDetailedTrip(trip);
            this.drawHandlerId = Microsoft.Maps.Events.addHandler(this.map, 'click', e => {
                const event = e;
                this.tripService.getPoints(trip.id, event.location.latitude, event.location.longitude).subscribe(points => {
                    for (const point of points) {
                        let pinColor;
                        if (point.speed >= this.greenSpeed) {
                            pinColor = 'green';
                        }
                        else if (point.speed < this.greenSpeed &&
                            point.speed >= this.yellowSpeed) {
                            pinColor = 'yellow';
                        }
                        else {
                            pinColor = 'red';
                        }
                        const location = new Microsoft.Maps.Location(point.latitude, point.longitude);
                        const pushPin = new Microsoft.Maps.Pushpin(location, {
                            color: pinColor,
                            title: this.timeConverter(point.time),
                            subTitle: `speed: ${Math.round(point.speed * 3.6)} km/hr, accuracy: ${point.accuracy}`
                        });
                        this.tripsLayer.add(pushPin);
                    }
                });
            });
        });
    }
    showDetailedTrip(trip) {
        let colorIndex = 0;
        let previousTripLeg;
        for (const leg of trip.tripLegs) {
            const tripLegLocations = [];
            // Show the starting stop in a leg if its different from the ending stop of the last
            if (!previousTripLeg || previousTripLeg.endLocation.id !== leg.startLocation.id) {
                this.showTripLocation(leg.startLocation);
                tripLegLocations.push(new Microsoft.Maps.Location(leg.startLocation.latitude, leg.startLocation.longitude));
            }
            // Add all route points
            for (let i = 0; i < leg.route.length; i++) {
                tripLegLocations.push(new Microsoft.Maps.Location(leg.route[i].latitude, leg.route[i].longitude));
            }
            // Show the ending stop in a leg
            this.showTripLocation(leg.endLocation);
            tripLegLocations.push(new Microsoft.Maps.Location(leg.endLocation.latitude, leg.endLocation.longitude));
            // Show every leg in a different color
            const line = new Microsoft.Maps.Polyline(tripLegLocations, {
                strokeThickness: 5,
                strokeColor: this.tripColors[colorIndex++ % this.tripColors.length]
            });
            this.tripsLayer.add(line);
            // Draw a dotted line between trip leg stop locations, if they are not the same.
            if (previousTripLeg && previousTripLeg.endLocation.id !== leg.startLocation.id) {
                const startPoint = new Microsoft.Maps.Location(leg.startLocation.latitude, leg.startLocation.longitude);
                const previousLocation = new Microsoft.Maps.Location(previousTripLeg.endLocation.latitude, previousTripLeg.endLocation.longitude);
                const dottedLine = new Microsoft.Maps.Polyline([previousLocation, startPoint], {
                    strokeThickness: 5,
                    strokeDashArray: [2, 2],
                    strokeColor: this.genericColors[4]
                });
                this.tripsLayer.add(dottedLine);
            }
            previousTripLeg = leg;
        }
        this.centerMap(trip.startLocation);
    }
    showSimplifiedTrip(trip, tripColor) {
        tripColor = tripColor || this.genericColors[4];
        const tripLegLocations = [];
        // Show the first stop in a trip
        this.showTripLocation(trip.startLocation);
        tripLegLocations.push(new Microsoft.Maps.Location(trip.startLocation.latitude, trip.startLocation.longitude));
        let previousTripLeg;
        for (const leg of trip.tripLegs) {
            // Add all route points
            for (let i = 0; i < leg.route.length; i++) {
                tripLegLocations.push(new Microsoft.Maps.Location(leg.route[i].latitude, leg.route[i].longitude));
            }
            // Draw a dotted line between trip leg stop locations, if they are not the same.
            if (previousTripLeg && previousTripLeg.endLocation.id !== leg.startLocation.id) {
                const startPoint = new Microsoft.Maps.Location(leg.startLocation.latitude, leg.startLocation.longitude);
                const previousLocation = new Microsoft.Maps.Location(previousTripLeg.endLocation.latitude, previousTripLeg.endLocation.longitude);
                const dottedLine = new Microsoft.Maps.Polyline([previousLocation, startPoint], {
                    strokeThickness: 5,
                    strokeDashArray: [2, 2],
                    strokeColor: tripColor
                });
                this.tripsLayer.add(dottedLine);
            }
            previousTripLeg = leg;
        }
        // Show the last stop in a trip
        this.showTripLocation(trip.endLocation);
        tripLegLocations.push(new Microsoft.Maps.Location(trip.endLocation.latitude, trip.endLocation.longitude));
        const line = new Microsoft.Maps.Polyline(tripLegLocations, {
            strokeThickness: 5,
            strokeColor: tripColor
        });
        this.tripsLayer.add(line);
        this.centerMap(tripLegLocations[0]);
    }
    showTripLocation(location, icon = '/assets/images/location-pin.png') {
        const mapLocation = new Microsoft.Maps.Location(location.latitude, location.longitude);
        const pushpin = new Microsoft.Maps.Pushpin(mapLocation, {
            title: location.name,
            subTitle: location.address,
            icon: icon
        });
        this.tripsLayer.add(pushpin);
    }
};
BingMapsService.ctorParameters = () => [
    { type: _core_trip_service__WEBPACK_IMPORTED_MODULE_6__["TripService"] }
];
BingMapsService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [_core_trip_service__WEBPACK_IMPORTED_MODULE_6__["TripService"]])
], BingMapsService);



/***/ }),

/***/ "./src/app/maps/maps.module.ts":
/*!*************************************!*\
  !*** ./src/app/maps/maps.module.ts ***!
  \*************************************/
/*! exports provided: MapsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapsModule", function() { return MapsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _bing_maps_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./bing-maps.service */ "./src/app/maps/bing-maps.service.ts");
/* harmony import */ var _maps_maps_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./maps/maps.component */ "./src/app/maps/maps/maps.component.ts");
/* harmony import */ var _maps_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./maps.service */ "./src/app/maps/maps.service.ts");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





let MapsModule = class MapsModule {
};
MapsModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        declarations: [
            _maps_maps_component__WEBPACK_IMPORTED_MODULE_2__["MapsComponent"]
        ],
        imports: [
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_4__["SharedModule"]
        ],
        providers: [
            _bing_maps_service__WEBPACK_IMPORTED_MODULE_1__["BingMapsService"], _maps_service__WEBPACK_IMPORTED_MODULE_3__["MapsService"]
        ],
        exports: [
            _maps_maps_component__WEBPACK_IMPORTED_MODULE_2__["MapsComponent"]
        ]
    })
], MapsModule);



/***/ }),

/***/ "./src/app/maps/maps.service.ts":
/*!**************************************!*\
  !*** ./src/app/maps/maps.service.ts ***!
  \**************************************/
/*! exports provided: MapsService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapsService", function() { return MapsService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


let MapsService = class MapsService {
    constructor() {
        this.points = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.trips = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.trip = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.geofence = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.geofences = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.currentDrawEnd = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.geofenceCircularRadiusChange = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.geofenceCircularDraw = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.geofenceCircularDrawResult = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](null);
        this.geofencePolygonDraw = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.geofencePolygonDrawResult = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](new Array());
        this.assetsPositions = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.assetPosition = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.devicesPositions = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.devicePosition = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.dispatchingPinsDraw = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.dispatchingPinsDrawResult = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](new Array());
        this.dispatchingPoints = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.dispatchingAlternativePoints = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.dispatchingPins = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.locationsPositions = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.locationPosition = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.locationPinDraw = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.locationPinResult = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
        this.itineraryPoint = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.locationSearchQuery = new rxjs__WEBPACK_IMPORTED_MODULE_1__["ReplaySubject"]();
        this.locationSearchResult = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
    }
    geocodeQuery(address) {
        this.locationSearchQuery.next(address);
    }
    geocodeResult(point) {
        this.locationSearchResult.next(point);
    }
    showPoints(points) {
        this.points.next(points);
    }
    showGeofence(geofence) {
        this.geofence.next(geofence);
    }
    showGeofences(geofences) {
        this.geofences.next(geofences);
    }
    startPolygonGeofenceDraw(initialPoints = null) {
        this.geofencePolygonDraw.next(initialPoints);
    }
    startCircularGeofenceDraw(initialCenter = null, radius) {
        this.geofenceCircularDraw.next([initialCenter, radius]);
    }
    changeCircularGeofenceRadius(radius) {
        this.geofenceCircularRadiusChange.next(radius);
    }
    showAssetsPositions(positions, inBackground = false) {
        this.assetsPositions.next([positions, inBackground]);
    }
    showAsset(position) {
        this.assetPosition.next(position);
    }
    showDevicesPositions(positions, inBackground = false) {
        this.devicesPositions.next([positions, inBackground]);
    }
    showDevice(position) {
        this.devicePosition.next(position);
    }
    showLocationsPositions(positions) {
        this.locationsPositions.next(positions);
    }
    zoomToLocation(position) {
        this.locationPosition.next(position);
    }
    startLocationPinDraw(location) {
        this.locationPinDraw.next(location);
    }
    endCurrentDraw() {
        this.currentDrawEnd.next(null);
    }
    showTrips(trips) {
        this.trips.next(trips);
    }
    showTrip(trip) {
        this.trip.next(trip);
    }
    showDispatchingResults(points, pins) {
        this.dispatchingPoints.next(points);
        this.dispatchingPins.next(pins);
    }
    showAlternativeResults(altPoints) {
        this.dispatchingAlternativePoints.next(altPoints);
    }
    setRouteColor(color = 0) {
        this.routeColor = color;
    }
    startDispatchingPinsDraw(initialPoints = null) {
        this.dispatchingPinsDraw.next(initialPoints);
        this.dispatchingPinsDrawResult.next([]);
    }
    showItineraryPosition(point) {
        this.itineraryPoint.next(point);
    }
    getPoints() {
        return this.points.asObservable();
    }
    getAssetsPositions() {
        return this.assetsPositions.asObservable();
    }
    getAssetPosition() {
        return this.assetPosition.asObservable();
    }
    getDevicesPositions() {
        return this.devicesPositions.asObservable();
    }
    getDevicePosition() {
        return this.devicePosition.asObservable();
    }
    getLocationsPositions() {
        return this.locationsPositions.asObservable();
    }
    getLocationPosition() {
        return this.locationPosition.asObservable();
    }
    getLocationPinDraw() {
        return this.locationPinDraw.asObservable();
    }
    getLocationPinResult() {
        return this.locationPinResult.asObservable();
    }
    getLocationPinResultSubject() {
        return this.locationPinResult;
    }
    getDispatchingPinsDraw() {
        return this.dispatchingPinsDraw.asObservable();
    }
    getDispatchingPinsResult() {
        return this.dispatchingPinsDrawResult.asObservable();
    }
    getDispatchingPinsResultSubject() {
        return this.dispatchingPinsDrawResult;
    }
    getDispatchingPoints() {
        return this.dispatchingPoints.asObservable();
    }
    getRouteColor() {
        return this.routeColor;
    }
    getDispatchingPins() {
        return this.dispatchingPins.asObservable();
    }
    getDispatchingAltPoints() {
        return this.dispatchingAlternativePoints.asObservable();
    }
    getItineraryPosition() {
        return this.itineraryPoint.asObservable();
    }
    getTrip() {
        return this.trip.asObservable();
    }
    getTrips() {
        return this.trips.asObservable();
    }
    getGeofence() {
        return this.geofence.asObservable();
    }
    getGeofences() {
        return this.geofences.asObservable();
    }
    getGeofencePolygonDraw() {
        return this.geofencePolygonDraw.asObservable();
    }
    getGeofenceCircularDraw() {
        return this.geofenceCircularDraw.asObservable();
    }
    getCurrentDrawEnd() {
        return this.currentDrawEnd.asObservable();
    }
    getGeodencePolygonDrawResult() {
        return this.geofencePolygonDrawResult.asObservable();
    }
    getGeodenceCircularDrawResult() {
        return this.geofenceCircularDrawResult.asObservable();
    }
    getCircularGeofenceRadiusChange() {
        return this.geofenceCircularRadiusChange.asObservable();
    }
    getGeofencePolygonDrawResultSubject() {
        return this.geofencePolygonDrawResult;
    }
    getGeofenceCircularDrawResultSubject() {
        return this.geofenceCircularDrawResult;
    }
    resetDispatchingDraw(initialPoints = null) {
        this.endCurrentDraw();
        this.startDispatchingPinsDraw(initialPoints);
    }
    getGeocodeQuery() {
        return this.locationSearchQuery.asObservable();
    }
    getGeocodeResult() {
        return this.locationSearchResult.asObservable();
    }
};
MapsService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [])
], MapsService);



/***/ }),

/***/ "./src/app/maps/maps/maps.component.css":
/*!**********************************************!*\
  !*** ./src/app/maps/maps/maps.component.css ***!
  \**********************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\n#map {\n    height: 100%;\n    width: 100%;\n}\n\n\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWFwcy9tYXBzL21hcHMuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtvQ0FDb0M7O0FBRXBDO0lBQ0ksWUFBWTtJQUNaLFdBQVc7QUFDZiIsImZpbGUiOiJzcmMvYXBwL21hcHMvbWFwcy9tYXBzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gKi9cblxuI21hcCB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG4iXX0= */"

/***/ }),

/***/ "./src/app/maps/maps/maps.component.ts":
/*!*********************************************!*\
  !*** ./src/app/maps/maps/maps.component.ts ***!
  \*********************************************/
/*! exports provided: MapsComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MapsComponent", function() { return MapsComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _bing_maps_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../bing-maps.service */ "./src/app/maps/bing-maps.service.ts");
/* harmony import */ var _maps_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../maps.service */ "./src/app/maps/maps.service.ts");
/* harmony import */ var _core_settings_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../core/settings.service */ "./src/app/core/settings.service.ts");
/* harmony import */ var _assets_asset_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../assets/asset.service */ "./src/app/assets/asset.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





let MapsComponent = class MapsComponent {
    constructor(bingMapsService, settingsService, assetsService, mapsService) {
        this.bingMapsService = bingMapsService;
        this.settingsService = settingsService;
        this.assetsService = assetsService;
        this.mapsService = mapsService;
    }
    ngOnInit() {
        this.settingsService
            .getSubscriptionKey(_core_settings_service__WEBPACK_IMPORTED_MODULE_3__["SubscriptionKeys"].BingMaps)
            .subscribe(key => {
            this.bingMapsService.init(this.mapElement.nativeElement, {
                credentials: key.keyValue,
                showDashboard: true,
                showZoomButtons: true,
                disableBirdseye: true,
                disableStreetside: true,
                showLocateMeButton: false,
                enableClickableLogo: false
            });
            this.mapsService.getGeocodeQuery()
                .subscribe(address => this.bingMapsService.geocodeAddress(address)
                .subscribe(point => this.mapsService.geocodeResult(point)));
            this.mapsService
                .getPoints()
                .subscribe(points => this.bingMapsService.showPoints(points));
            this.mapsService
                .getTrips()
                .subscribe(trips => this.bingMapsService.showTrips(trips));
            this.mapsService
                .getTrip()
                .subscribe(trip => this.bingMapsService.showTrip(trip));
            this.mapsService
                .getGeofence()
                .subscribe(geofence => this.bingMapsService.showGeofence(geofence));
            this.mapsService
                .getDispatchingAltPoints()
                .subscribe(points => this.bingMapsService.showDispatchingRoute(points, true, this.mapsService.getRouteColor() + 1));
            this.mapsService
                .getDispatchingPoints()
                .subscribe(points => this.bingMapsService.showDispatchingRoute(points, false, this.mapsService.getRouteColor()));
            this.mapsService
                .getDispatchingPins()
                .subscribe(pins => this.bingMapsService.showDispatchingRoutePins(pins));
            this.mapsService
                .getAssetPosition()
                .subscribe(position => this.bingMapsService.centerMap(position[1], 15));
            this.mapsService
                .getDevicePosition()
                .subscribe(position => this.bingMapsService.centerMap(position[1], 15));
            this.mapsService
                .getLocationPosition()
                .subscribe(position => this.bingMapsService.centerMap(position, 15));
            this.mapsService
                .getItineraryPosition()
                .subscribe(position => this.bingMapsService.centerMap(position, 15));
            this.mapsService.getGeofenceCircularDraw().subscribe(draw => {
                this.bingMapsService.drawCircularGeofence(this.mapsService.getGeofenceCircularDrawResultSubject(), draw[0], draw[1], this.mapsService.getCircularGeofenceRadiusChange());
            });
            this.mapsService.getGeofencePolygonDraw().subscribe(draw => {
                this.bingMapsService.drawPolygonGeofence(this.mapsService.getGeofencePolygonDrawResultSubject(), draw);
            });
            this.mapsService
                .getCurrentDrawEnd()
                .subscribe(drawEnd => this.bingMapsService.endCurrentDraw());
            this.mapsService.getLocationPinDraw().subscribe((location) => {
                this.bingMapsService.drawLocationPin(this.mapsService.getLocationPinResultSubject(), location);
            });
            this.mapsService.getDispatchingPinsDraw().subscribe(draw => {
                this.bingMapsService.drawDispatchingRoute(this.mapsService.getDispatchingPinsResultSubject(), draw);
            });
            let assets = new Array();
            this.assetsService.getAssets().subscribe(a => assets = a);
            // Use lastPositionCall to track the last position call made so that not to recenter the map
            // if this is just an update call.
            let lastPositionCall;
            // Do the mapping in this layer to avoid having to redo in multiple components
            this.mapsService.getAssetsPositions().subscribe(data => {
                const positions = data[0];
                const mappedAssets = new Array();
                for (const k of Object.keys(positions)) {
                    const value = positions[k];
                    const asset = assets.find(val => val.name === k);
                    if (asset) {
                        mappedAssets.push([asset, value]);
                    }
                }
                this.bingMapsService.showAssets(mappedAssets, !data[1] && lastPositionCall !== 'assets', !data[1]);
                lastPositionCall = 'assets';
            });
            this.mapsService.getDevicesPositions().subscribe(data => {
                this.bingMapsService.showDevices(data[0], !data[1] && lastPositionCall !== 'devices', !data[1]);
                lastPositionCall = 'devices';
            });
            this.mapsService.getLocationsPositions().subscribe(positions => {
                this.bingMapsService.showLocations(positions);
            });
            this.mapsService.getGeofences().subscribe(geofences => {
                this.bingMapsService.showGeofences(geofences);
                lastPositionCall = 'geofences';
            });
        }, error => {
            console.log(error);
            this.bingMapsService.init(this.mapElement.nativeElement, {
                credentials: ''
            });
        });
    }
};
MapsComponent.ctorParameters = () => [
    { type: _bing_maps_service__WEBPACK_IMPORTED_MODULE_1__["BingMapsService"] },
    { type: _core_settings_service__WEBPACK_IMPORTED_MODULE_3__["SettingsService"] },
    { type: _assets_asset_service__WEBPACK_IMPORTED_MODULE_4__["AssetService"] },
    { type: _maps_service__WEBPACK_IMPORTED_MODULE_2__["MapsService"] }
];
__decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["ViewChild"])('map', { static: false }),
    __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"])
], MapsComponent.prototype, "mapElement", void 0);
MapsComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-maps',
        template: '<div #map id="map"></div>',
        styles: [__webpack_require__(/*! ./maps.component.css */ "./src/app/maps/maps/maps.component.css")]
    }),
    __metadata("design:paramtypes", [_bing_maps_service__WEBPACK_IMPORTED_MODULE_1__["BingMapsService"],
        _core_settings_service__WEBPACK_IMPORTED_MODULE_3__["SettingsService"],
        _assets_asset_service__WEBPACK_IMPORTED_MODULE_4__["AssetService"],
        _maps_service__WEBPACK_IMPORTED_MODULE_2__["MapsService"]])
], MapsComponent);



/***/ }),

/***/ "./src/app/reports/report-chart/report-chart.component.css":
/*!*****************************************************************!*\
  !*** ./src/app/reports/report-chart/report-chart.component.css ***!
  \*****************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\n.report-chart {\n    position: absolute;\n    font-size: 0.95em;\n    left: 10%;\n    right: 10%;\n    top: 50%;\n    -webkit-transform: translateY(-50%);\n            transform: translateY(-50%);\n    overflow: hidden;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9yZXBvcnQtY2hhcnQvcmVwb3J0LWNoYXJ0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7b0NBQ29DOztBQUVwQztJQUNJLGtCQUFrQjtJQUNsQixpQkFBaUI7SUFDakIsU0FBUztJQUNULFVBQVU7SUFDVixRQUFRO0lBQ1IsbUNBQTJCO1lBQTNCLDJCQUEyQjtJQUMzQixnQkFBZ0I7QUFDcEIiLCJmaWxlIjoic3JjL2FwcC9yZXBvcnRzL3JlcG9ydC1jaGFydC9yZXBvcnQtY2hhcnQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiAqL1xuXG4ucmVwb3J0LWNoYXJ0IHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgZm9udC1zaXplOiAwLjk1ZW07XG4gICAgbGVmdDogMTAlO1xuICAgIHJpZ2h0OiAxMCU7XG4gICAgdG9wOiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG59Il19 */"

/***/ }),

/***/ "./src/app/reports/report-chart/report-chart.component.ts":
/*!****************************************************************!*\
  !*** ./src/app/reports/report-chart/report-chart.component.ts ***!
  \****************************************************************/
/*! exports provided: ReportChartComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportChartComponent", function() { return ReportChartComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _report_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../report.service */ "./src/app/reports/report.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


let ReportChartComponent = class ReportChartComponent {
    constructor(reportService) {
        this.reportService = reportService;
        this.barChartOptions = {
            options: {
                responsive: true,
                scales: {
                    yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                }
            },
            chartType: 'bar',
            chartLegendToggle: true,
            chartTitle: '',
            chartLabels: [],
            chartData: [{ data: [] }],
            chartColors: [{
                    backgroundColor: '#56A6B6',
                    borderColor: '#56A6B6'
                }]
        };
    }
    ngOnInit() {
        this.metricSubscription = this.reportService.getSelectedMetric()
            .subscribe(next => this.onMetricSelected(next));
    }
    ngOnDestroy() {
        this.metricSubscription.unsubscribe();
    }
    onMetricSelected(metric) {
        this.barChartOptions.chartTitle = metric.name;
        // Workaround the fact that you cant reassign the chartLabels var
        this.barChartOptions.chartLabels.splice(0, this.barChartOptions.chartLabels.length);
        const data = [];
        for (const key in metric.values) {
            if (metric.values.hasOwnProperty(key)) {
                this.barChartOptions.chartLabels.push(key);
                data.push(metric.values[key]);
            }
        }
        this.barChartOptions.chartData = [{ data: data, label: metric.name + ' (' + metric.units + ')' }];
    }
    // events
    chartClicked(e) {
        console.log(e);
    }
    chartHovered(e) {
        console.log(e);
    }
};
ReportChartComponent.ctorParameters = () => [
    { type: _report_service__WEBPACK_IMPORTED_MODULE_1__["ReportService"] }
];
ReportChartComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-report-chart',
        template: __webpack_require__(/*! raw-loader!./report-chart.component.html */ "./node_modules/raw-loader/index.js!./src/app/reports/report-chart/report-chart.component.html"),
        styles: [__webpack_require__(/*! ./report-chart.component.css */ "./src/app/reports/report-chart/report-chart.component.css")]
    }),
    __metadata("design:paramtypes", [_report_service__WEBPACK_IMPORTED_MODULE_1__["ReportService"]])
], ReportChartComponent);



/***/ }),

/***/ "./src/app/reports/report-list/report-list.component.css":
/*!***************************************************************!*\
  !*** ./src/app/reports/report-list/report-list.component.css ***!
  \***************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nmat-form-field {\n    font-size: 0.95em;\n    margin: 10px 0 0 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcmVwb3J0cy9yZXBvcnQtbGlzdC9yZXBvcnQtbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29DQUNvQzs7QUFFcEM7SUFDSSxpQkFBaUI7SUFDakIscUJBQXFCO0FBQ3pCIiwiZmlsZSI6InNyYy9hcHAvcmVwb3J0cy9yZXBvcnQtbGlzdC9yZXBvcnQtbGlzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuICovXG5cbm1hdC1mb3JtLWZpZWxkIHtcbiAgICBmb250LXNpemU6IDAuOTVlbTtcbiAgICBtYXJnaW46IDEwcHggMCAwIDEwcHg7XG59Il19 */"

/***/ }),

/***/ "./src/app/reports/report-list/report-list.component.ts":
/*!**************************************************************!*\
  !*** ./src/app/reports/report-list/report-list.component.ts ***!
  \**************************************************************/
/*! exports provided: ReportListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportListComponent", function() { return ReportListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _report_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../report.service */ "./src/app/reports/report.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


let ReportListComponent = class ReportListComponent {
    constructor(reportService) {
        this.reportService = reportService;
    }
    ngOnInit() {
        this.metrics = this.reportService.getAllMetrics();
        this.metricsSubscription = this.metrics.subscribe(values => {
            if (values.length > 0) {
                this.selectMetric(values[0]);
            }
        });
    }
    ngOnDestroy() {
        this.metricsSubscription.unsubscribe();
    }
    selectMetric(metric) {
        this.selectedMetric = metric;
        this.reportService.setSelectedMetric(metric);
    }
};
ReportListComponent.ctorParameters = () => [
    { type: _report_service__WEBPACK_IMPORTED_MODULE_1__["ReportService"] }
];
ReportListComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-report-list',
        template: __webpack_require__(/*! raw-loader!./report-list.component.html */ "./node_modules/raw-loader/index.js!./src/app/reports/report-list/report-list.component.html"),
        styles: [__webpack_require__(/*! ./report-list.component.css */ "./src/app/reports/report-list/report-list.component.css")]
    }),
    __metadata("design:paramtypes", [_report_service__WEBPACK_IMPORTED_MODULE_1__["ReportService"]])
], ReportListComponent);



/***/ }),

/***/ "./src/app/reports/report.service.ts":
/*!*******************************************!*\
  !*** ./src/app/reports/report.service.ts ***!
  \*******************************************/
/*! exports provided: ReportService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportService", function() { return ReportService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _core_data_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/data.service */ "./src/app/core/data.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



let ReportService = class ReportService {
    constructor(dataService) {
        this.dataService = dataService;
        this.selectedMetric = new rxjs__WEBPACK_IMPORTED_MODULE_1__["Subject"]();
    }
    getAllMetrics() {
        return this.dataService.get('reports');
    }
    getSelectedMetric() {
        return this.selectedMetric.asObservable();
    }
    setSelectedMetric(metric) {
        this.selectedMetric.next(metric);
    }
};
ReportService.ctorParameters = () => [
    { type: _core_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"] }
];
ReportService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [_core_data_service__WEBPACK_IMPORTED_MODULE_2__["DataService"]])
], ReportService);



/***/ }),

/***/ "./src/app/reports/reports-routing.module.ts":
/*!***************************************************!*\
  !*** ./src/app/reports/reports-routing.module.ts ***!
  \***************************************************/
/*! exports provided: ReportsRoutingModule, reportsRoutedComponents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportsRoutingModule", function() { return ReportsRoutingModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "reportsRoutedComponents", function() { return reportsRoutedComponents; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _report_list_report_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./report-list/report-list.component */ "./src/app/reports/report-list/report-list.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



const routes = [
    {
        path: 'reports', component: _report_list_report_list_component__WEBPACK_IMPORTED_MODULE_2__["ReportListComponent"]
    }
];
let ReportsRoutingModule = class ReportsRoutingModule {
};
ReportsRoutingModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
    })
], ReportsRoutingModule);

const reportsRoutedComponents = [
    _report_list_report_list_component__WEBPACK_IMPORTED_MODULE_2__["ReportListComponent"],
];


/***/ }),

/***/ "./src/app/reports/reports.module.ts":
/*!*******************************************!*\
  !*** ./src/app/reports/reports.module.ts ***!
  \*******************************************/
/*! exports provided: ReportsModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "ReportsModule", function() { return ReportsModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var ng2_charts__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ng2-charts */ "./node_modules/ng2-charts/index.js");
/* harmony import */ var ng2_charts__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(ng2_charts__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _reports_routing_module__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./reports-routing.module */ "./src/app/reports/reports-routing.module.ts");
/* harmony import */ var _report_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./report.service */ "./src/app/reports/report.service.ts");
/* harmony import */ var _report_chart_report_chart_component__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./report-chart/report-chart.component */ "./src/app/reports/report-chart/report-chart.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






let ReportsModule = class ReportsModule {
};
ReportsModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        declarations: [
            _reports_routing_module__WEBPACK_IMPORTED_MODULE_3__["reportsRoutedComponents"],
            _report_chart_report_chart_component__WEBPACK_IMPORTED_MODULE_5__["ReportChartComponent"]
        ],
        imports: [
            _reports_routing_module__WEBPACK_IMPORTED_MODULE_3__["ReportsRoutingModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__["SharedModule"],
            ng2_charts__WEBPACK_IMPORTED_MODULE_2__["ChartsModule"]
        ],
        providers: [
            _report_service__WEBPACK_IMPORTED_MODULE_4__["ReportService"]
        ],
        exports: [
            _report_chart_report_chart_component__WEBPACK_IMPORTED_MODULE_5__["ReportChartComponent"]
        ]
    })
], ReportsModule);



/***/ }),

/***/ "./src/app/shared/asset-properties.ts":
/*!********************************************!*\
  !*** ./src/app/shared/asset-properties.ts ***!
  \********************************************/
/*! exports provided: AssetProperties */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AssetProperties", function() { return AssetProperties; });
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
class AssetProperties {
}


/***/ }),

/***/ "./src/app/shared/filter-list.pipe.ts":
/*!********************************************!*\
  !*** ./src/app/shared/filter-list.pipe.ts ***!
  \********************************************/
/*! exports provided: FilterListPipe */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FilterListPipe", function() { return FilterListPipe; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

let FilterListPipe = class FilterListPipe {
    transform(items, args) {
        let query = args;
        if (!query) {
            return items;
        }
        if (typeof query === 'string') {
            query = query.toLowerCase();
        }
        return items.filter(item => {
            for (const key in item) {
                if (item.hasOwnProperty(key)) {
                    const val = item[key];
                    switch (typeof val) {
                        case 'string':
                            if (val.toLowerCase().indexOf(query) > -1) {
                                return true;
                            }
                            break;
                        case 'number':
                            if (val == query) {
                                return true;
                            }
                            break;
                    }
                }
            }
        });
    }
};
FilterListPipe = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Pipe"])({
        name: 'filterList'
    })
], FilterListPipe);



/***/ }),

/***/ "./src/app/shared/geofence.ts":
/*!************************************!*\
  !*** ./src/app/shared/geofence.ts ***!
  \************************************/
/*! exports provided: Geofence, FenceType, AreaType */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Geofence", function() { return Geofence; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "FenceType", function() { return FenceType; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AreaType", function() { return AreaType; });
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
class Geofence {
}
var FenceType;
(function (FenceType) {
    FenceType[FenceType["Inbound"] = 'Inbound'] = "Inbound";
    FenceType[FenceType["Outbound"] = 'Outbound'] = "Outbound";
})(FenceType || (FenceType = {}));
var AreaType;
(function (AreaType) {
    AreaType[AreaType["Unknown"] = 'Unknown'] = "Unknown";
    AreaType[AreaType["Polygon"] = 'Polygon'] = "Polygon";
    AreaType[AreaType["Circular"] = 'Circular'] = "Circular";
})(AreaType || (AreaType = {}));


/***/ }),

/***/ "./src/app/shared/location.ts":
/*!************************************!*\
  !*** ./src/app/shared/location.ts ***!
  \************************************/
/*! exports provided: Location, InterestLevel */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Location", function() { return Location; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InterestLevel", function() { return InterestLevel; });
/* harmony import */ var _point__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./point */ "./src/app/shared/point.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

class Location extends _point__WEBPACK_IMPORTED_MODULE_0__["Point"] {
}
var InterestLevel;
(function (InterestLevel) {
    InterestLevel[InterestLevel["Unknown"] = 0] = "Unknown";
    InterestLevel[InterestLevel["AutoNew"] = 1] = "AutoNew";
    InterestLevel[InterestLevel["AutoLow"] = 2] = "AutoLow";
    InterestLevel[InterestLevel["AutoHigh"] = 30] = "AutoHigh";
    InterestLevel[InterestLevel["Manual"] = 40] = "Manual";
})(InterestLevel || (InterestLevel = {}));


/***/ }),

/***/ "./src/app/shared/point.ts":
/*!*********************************!*\
  !*** ./src/app/shared/point.ts ***!
  \*********************************/
/*! exports provided: Point */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Point", function() { return Point; });
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
class Point {
}


/***/ }),

/***/ "./src/app/shared/role-limiter.directive.ts":
/*!**************************************************!*\
  !*** ./src/app/shared/role-limiter.directive.ts ***!
  \**************************************************/
/*! exports provided: RoleLimiterDirective */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "RoleLimiterDirective", function() { return RoleLimiterDirective; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _users_auth_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../users/auth.service */ "./src/app/users/auth.service.ts");
/* harmony import */ var _role__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./role */ "./src/app/shared/role.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



let RoleLimiterDirective = class RoleLimiterDirective {
    constructor(el, authService) {
        this.el = el;
        this.authService = authService;
    }
    ngOnInit() {
        this.authService.getLoggedInUser().subscribe(user => {
            if (user == null) {
                return;
            }
            if (this.appRoleLimiter > _role__WEBPACK_IMPORTED_MODULE_2__["Roles"][user.role.name]) {
                this.el.nativeElement.style.display = 'none';
            }
        });
    }
};
RoleLimiterDirective.ctorParameters = () => [
    { type: _angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"] },
    { type: _users_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"] }
];
__decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
    __metadata("design:type", Number)
], RoleLimiterDirective.prototype, "appRoleLimiter", void 0);
RoleLimiterDirective = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Directive"])({ selector: '[appRoleLimiter]' }),
    __metadata("design:paramtypes", [_angular_core__WEBPACK_IMPORTED_MODULE_0__["ElementRef"], _users_auth_service__WEBPACK_IMPORTED_MODULE_1__["AuthService"]])
], RoleLimiterDirective);



/***/ }),

/***/ "./src/app/shared/role.ts":
/*!********************************!*\
  !*** ./src/app/shared/role.ts ***!
  \********************************/
/*! exports provided: Roles, Role */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Roles", function() { return Roles; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "Role", function() { return Role; });
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var Roles;
(function (Roles) {
    Roles[Roles["Blocked"] = 0] = "Blocked";
    Roles[Roles["Pending"] = 10] = "Pending";
    Roles[Roles["DeviceRegistration"] = 13] = "DeviceRegistration";
    Roles[Roles["TrackingDevice"] = 16] = "TrackingDevice";
    Roles[Roles["Viewer"] = 20] = "Viewer";
    Roles[Roles["Administrator"] = 30] = "Administrator";
    Roles[Roles["Owner"] = 40] = "Owner";
})(Roles || (Roles = {}));
class Role {
    constructor(name = '') {
        this.name = name;
    }
}
Role.ctorParameters = () => [
    null
];


/***/ }),

/***/ "./src/app/shared/shared.module.ts":
/*!*****************************************!*\
  !*** ./src/app/shared/shared.module.ts ***!
  \*****************************************/
/*! exports provided: SharedModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "SharedModule", function() { return SharedModule; });
/* harmony import */ var _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/platform-browser */ "./node_modules/@angular/platform-browser/fesm2015/platform-browser.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_forms__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/forms */ "./node_modules/@angular/forms/fesm2015/forms.js");
/* harmony import */ var _angular_material_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @angular/material/button */ "./node_modules/@angular/material/esm2015/button.js");
/* harmony import */ var _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @angular/material/checkbox */ "./node_modules/@angular/material/esm2015/checkbox.js");
/* harmony import */ var _angular_material_core__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @angular/material/core */ "./node_modules/@angular/material/esm2015/core.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm2015/dialog.js");
/* harmony import */ var _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @angular/material/icon */ "./node_modules/@angular/material/esm2015/icon.js");
/* harmony import */ var _angular_material_input__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @angular/material/input */ "./node_modules/@angular/material/esm2015/input.js");
/* harmony import */ var _angular_material_list__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @angular/material/list */ "./node_modules/@angular/material/esm2015/list.js");
/* harmony import */ var _angular_material_radio__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @angular/material/radio */ "./node_modules/@angular/material/esm2015/radio.js");
/* harmony import */ var _angular_material_select__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @angular/material/select */ "./node_modules/@angular/material/esm2015/select.js");
/* harmony import */ var _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @angular/material/sidenav */ "./node_modules/@angular/material/esm2015/sidenav.js");
/* harmony import */ var _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @angular/material/toolbar */ "./node_modules/@angular/material/esm2015/toolbar.js");
/* harmony import */ var _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @angular/material/tooltip */ "./node_modules/@angular/material/esm2015/tooltip.js");
/* harmony import */ var _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @angular/platform-browser/animations */ "./node_modules/@angular/platform-browser/fesm2015/animations.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var mydaterangepicker__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! mydaterangepicker */ "./node_modules/mydaterangepicker/index.js");
/* harmony import */ var ngx_pagination__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ngx-pagination */ "./node_modules/ngx-pagination/dist/ngx-pagination.js");
/* harmony import */ var _ngui_datetime_picker__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @ngui/datetime-picker */ "./node_modules/@ngui/datetime-picker/dist/index.js");
/* harmony import */ var _ngui_datetime_picker__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_ngui_datetime_picker__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
/* harmony import */ var _time_filter_time_filter_component__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./time-filter/time-filter.component */ "./src/app/shared/time-filter/time-filter.component.ts");
/* harmony import */ var _trip_list_trip_list_component__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./trip-list/trip-list.component */ "./src/app/shared/trip-list/trip-list.component.ts");
/* harmony import */ var _filter_list_pipe__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./filter-list.pipe */ "./src/app/shared/filter-list.pipe.ts");
/* harmony import */ var _role_limiter_directive__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./role-limiter.directive */ "./src/app/shared/role-limiter.directive.ts");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! hammerjs */ "./node_modules/hammerjs/hammer.js");
/* harmony import */ var hammerjs__WEBPACK_IMPORTED_MODULE_25___default = /*#__PURE__*/__webpack_require__.n(hammerjs__WEBPACK_IMPORTED_MODULE_25__);
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


























let SharedModule = class SharedModule {
};
SharedModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_1__["NgModule"])({
        declarations: [
            _filter_list_pipe__WEBPACK_IMPORTED_MODULE_23__["FilterListPipe"],
            _time_filter_time_filter_component__WEBPACK_IMPORTED_MODULE_21__["TimeFilterComponent"],
            _trip_list_trip_list_component__WEBPACK_IMPORTED_MODULE_22__["TripListComponent"],
            _role_limiter_directive__WEBPACK_IMPORTED_MODULE_24__["RoleLimiterDirective"]
        ],
        imports: [
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
            _angular_platform_browser_animations__WEBPACK_IMPORTED_MODULE_15__["BrowserAnimationsModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
            _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_12__["MatSidenavModule"], _angular_material_input__WEBPACK_IMPORTED_MODULE_8__["MatInputModule"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"], _angular_material_radio__WEBPACK_IMPORTED_MODULE_10__["MatRadioModule"], _angular_material_list__WEBPACK_IMPORTED_MODULE_9__["MatListModule"], _angular_material_select__WEBPACK_IMPORTED_MODULE_11__["MatSelectModule"], _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_13__["MatToolbarModule"],
            _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MatOptionModule"], _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_4__["MatCheckboxModule"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_14__["MatTooltipModule"], _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"], _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MatLineModule"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogModule"],
            _angular_router__WEBPACK_IMPORTED_MODULE_16__["RouterModule"],
            mydaterangepicker__WEBPACK_IMPORTED_MODULE_17__["MyDateRangePickerModule"],
            ngx_pagination__WEBPACK_IMPORTED_MODULE_18__["NgxPaginationModule"],
            _ngui_datetime_picker__WEBPACK_IMPORTED_MODULE_19__["NguiDatetimePickerModule"]
        ],
        exports: [
            _angular_platform_browser__WEBPACK_IMPORTED_MODULE_0__["BrowserModule"],
            _angular_forms__WEBPACK_IMPORTED_MODULE_2__["FormsModule"],
            _angular_material_sidenav__WEBPACK_IMPORTED_MODULE_12__["MatSidenavModule"], _angular_material_input__WEBPACK_IMPORTED_MODULE_8__["MatInputModule"], _angular_material_icon__WEBPACK_IMPORTED_MODULE_7__["MatIconModule"], _angular_material_radio__WEBPACK_IMPORTED_MODULE_10__["MatRadioModule"], _angular_material_list__WEBPACK_IMPORTED_MODULE_9__["MatListModule"], _angular_material_select__WEBPACK_IMPORTED_MODULE_11__["MatSelectModule"], _angular_material_toolbar__WEBPACK_IMPORTED_MODULE_13__["MatToolbarModule"],
            _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MatOptionModule"], _angular_material_checkbox__WEBPACK_IMPORTED_MODULE_4__["MatCheckboxModule"], _angular_material_tooltip__WEBPACK_IMPORTED_MODULE_14__["MatTooltipModule"], _angular_material_button__WEBPACK_IMPORTED_MODULE_3__["MatButtonModule"], _angular_material_core__WEBPACK_IMPORTED_MODULE_5__["MatLineModule"], _angular_material_dialog__WEBPACK_IMPORTED_MODULE_6__["MatDialogModule"],
            _filter_list_pipe__WEBPACK_IMPORTED_MODULE_23__["FilterListPipe"],
            _time_filter_time_filter_component__WEBPACK_IMPORTED_MODULE_21__["TimeFilterComponent"],
            _trip_list_trip_list_component__WEBPACK_IMPORTED_MODULE_22__["TripListComponent"],
            _role_limiter_directive__WEBPACK_IMPORTED_MODULE_24__["RoleLimiterDirective"],
            ngx_pagination__WEBPACK_IMPORTED_MODULE_18__["NgxPaginationModule"],
            _ngui_datetime_picker__WEBPACK_IMPORTED_MODULE_19__["NguiDatetimePickerModule"]
        ],
        providers: [
            angular2_toaster__WEBPACK_IMPORTED_MODULE_20__["ToasterService"]
        ]
    })
], SharedModule);



/***/ }),

/***/ "./src/app/shared/time-filter/time-filter.component.css":
/*!**************************************************************!*\
  !*** ./src/app/shared/time-filter/time-filter.component.css ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nul {\n    list-style: none;\n    padding: 0 0 0 16px;\n}\n\nul li {\n    display: inline-block;\n    margin: 5px 5px 5px 0;\n}\n\nul li a {\n    background-color: #e0e0e0;\n    border-radius: 24px;\n    cursor: pointer;\n    display: inline-block;\n    font-size: 0.9em;\n    padding: 8px 12px;\n}\n\nul li a:hover {\n    background-color: #bfbfbf;\n}\n\nul li a.active {\n    background-color: #56A6B6;\n    color: #fff;\n}\n\nmy-date-range-picker {\n    display: block;\n    margin: 0 0 10px 16px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL3RpbWUtZmlsdGVyL3RpbWUtZmlsdGVyLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7b0NBQ29DOztBQUVwQztJQUNJLGdCQUFnQjtJQUNoQixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxxQkFBcUI7SUFDckIscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0kseUJBQXlCO0lBQ3pCLG1CQUFtQjtJQUNuQixlQUFlO0lBQ2YscUJBQXFCO0lBQ3JCLGdCQUFnQjtJQUNoQixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSx5QkFBeUI7QUFDN0I7O0FBRUE7SUFDSSx5QkFBeUI7SUFDekIsV0FBVztBQUNmOztBQUVBO0lBQ0ksY0FBYztJQUNkLHFCQUFxQjtBQUN6QiIsImZpbGUiOiJzcmMvYXBwL3NoYXJlZC90aW1lLWZpbHRlci90aW1lLWZpbHRlci5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuICovXG5cbnVsIHtcbiAgICBsaXN0LXN0eWxlOiBub25lO1xuICAgIHBhZGRpbmc6IDAgMCAwIDE2cHg7XG59XG5cbnVsIGxpIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgbWFyZ2luOiA1cHggNXB4IDVweCAwO1xufVxuXG51bCBsaSBhIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTBlMGUwO1xuICAgIGJvcmRlci1yYWRpdXM6IDI0cHg7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICBmb250LXNpemU6IDAuOWVtO1xuICAgIHBhZGRpbmc6IDhweCAxMnB4O1xufVxuXG51bCBsaSBhOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYmZiZmJmO1xufVxuXG51bCBsaSBhLmFjdGl2ZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzU2QTZCNjtcbiAgICBjb2xvcjogI2ZmZjtcbn1cblxubXktZGF0ZS1yYW5nZS1waWNrZXIge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIG1hcmdpbjogMCAwIDEwcHggMTZweDtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/shared/time-filter/time-filter.component.ts":
/*!*************************************************************!*\
  !*** ./src/app/shared/time-filter/time-filter.component.ts ***!
  \*************************************************************/
/*! exports provided: TimeFilterComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TimeFilterComponent", function() { return TimeFilterComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

let TimeFilterComponent = class TimeFilterComponent {
    constructor() {
        this.change = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
        this.ranges = [];
        this.myDateRangePickerOptions = {
            dateFormat: 'dd.mm.yyyy',
        };
    }
    ngOnInit() {
        const today = new Date();
        const daysToMilliSeconds = 1000 * 60 * 60 * 24;
        this.ranges = [
            { label: 'One Day', from: new Date(today.getTime() - (1 * daysToMilliSeconds)), to: today },
            { label: 'Three Days', from: new Date(today.getTime() - (3 * daysToMilliSeconds)), to: today },
            { label: 'One Week', from: new Date(today.getTime() - (7 * daysToMilliSeconds)), to: today },
            { label: 'Two Weeks', from: new Date(today.getTime() - (14 * daysToMilliSeconds)), to: today },
            { label: 'One Month', from: new Date(today.getTime() - (31 * daysToMilliSeconds)), to: today },
            { label: 'Two Months', from: new Date(today.getTime() - (62 * daysToMilliSeconds)), to: today }
        ];
    }
    select(range) {
        this.selectedRange = range;
        this.selectedDateRange = {
            beginDate: this.convertDate(range.from),
            endDate: this.convertDate(range.to)
        };
        this.change.emit(range);
    }
    onDateRangeChanged(event) {
        this.selectedRange = null;
        this.change.emit({
            from: event.beginJsDate,
            to: event.endJsDate,
            label: ''
        });
    }
    convertDate(date) {
        return {
            day: date.getDate(),
            month: date.getMonth() + 1,
            year: date.getFullYear()
        };
    }
};
__decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
    __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
], TimeFilterComponent.prototype, "change", void 0);
TimeFilterComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-time-filter',
        template: __webpack_require__(/*! raw-loader!./time-filter.component.html */ "./node_modules/raw-loader/index.js!./src/app/shared/time-filter/time-filter.component.html"),
        styles: [__webpack_require__(/*! ./time-filter.component.css */ "./src/app/shared/time-filter/time-filter.component.css")]
    }),
    __metadata("design:paramtypes", [])
], TimeFilterComponent);



/***/ }),

/***/ "./src/app/shared/trip-list/trip-list.component.css":
/*!**********************************************************!*\
  !*** ./src/app/shared/trip-list/trip-list.component.css ***!
  \**********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nh3 {\n    margin-bottom: 5px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvc2hhcmVkL3RyaXAtbGlzdC90cmlwLWxpc3QuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtvQ0FDb0M7O0FBRXBDO0lBQ0ksa0JBQWtCO0FBQ3RCIiwiZmlsZSI6InNyYy9hcHAvc2hhcmVkL3RyaXAtbGlzdC90cmlwLWxpc3QuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiAqL1xuXG5oMyB7XG4gICAgbWFyZ2luLWJvdHRvbTogNXB4O1xufSJdfQ== */"

/***/ }),

/***/ "./src/app/shared/trip-list/trip-list.component.ts":
/*!*********************************************************!*\
  !*** ./src/app/shared/trip-list/trip-list.component.ts ***!
  \*********************************************************/
/*! exports provided: TripListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "TripListComponent", function() { return TripListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

let TripListComponent = class TripListComponent {
    constructor() {
        this.trips = [];
        this.select = new _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"]();
    }
    ngOnInit() {
    }
    selectTrip(trip) {
        this.selectedTrip = trip;
        this.select.emit(trip);
    }
};
__decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Input"])(),
    __metadata("design:type", Array)
], TripListComponent.prototype, "trips", void 0);
__decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Output"])(),
    __metadata("design:type", _angular_core__WEBPACK_IMPORTED_MODULE_0__["EventEmitter"])
], TripListComponent.prototype, "select", void 0);
TripListComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-trip-list',
        template: __webpack_require__(/*! raw-loader!./trip-list.component.html */ "./node_modules/raw-loader/index.js!./src/app/shared/trip-list/trip-list.component.html"),
        styles: [__webpack_require__(/*! ./trip-list.component.css */ "./src/app/shared/trip-list/trip-list.component.css")]
    }),
    __metadata("design:paramtypes", [])
], TripListComponent);



/***/ }),

/***/ "./src/app/shared/user.ts":
/*!********************************!*\
  !*** ./src/app/shared/user.ts ***!
  \********************************/
/*! exports provided: User */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "User", function() { return User; });
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
class User {
}


/***/ }),

/***/ "./src/app/users/auth.service.ts":
/*!***************************************!*\
  !*** ./src/app/users/auth.service.ts ***!
  \***************************************/
/*! exports provided: AuthService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "AuthService", function() { return AuthService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ "./node_modules/rxjs/_esm2015/index.js");
/* harmony import */ var _core_environment_settings_service__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/environment-settings.service */ "./src/app/core/environment-settings.service.ts");
/* harmony import */ var _core_data_service__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/data.service */ "./src/app/core/data.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




let AuthService = class AuthService {
    constructor(dataService, envSettingsService) {
        this.dataService = dataService;
        this.envSettingsService = envSettingsService;
        this.loggedInUser = null;
    }
    getLoggedInUser() {
        if (this.loggedInUser == null) {
            this.loggedInUser = new rxjs__WEBPACK_IMPORTED_MODULE_1__["BehaviorSubject"](null);
            this.dataService.getSingle('users', 'me')
                .subscribe(a => this.loggedInUser.next(a), e => this.loggedInUser.error(e));
        }
        return this.loggedInUser.asObservable();
    }
    loginOrGetUser() {
        const observable = this.getLoggedInUser();
        observable.subscribe(d => { }, e => {
            if (e.status === 401) {
                this.login();
            }
        });
        return observable;
    }
    logout() {
        window.location.href = this.getLogoutUrl();
    }
    login() {
        window.location.href = this.getLoginUrl();
    }
    getLogoutUrl() {
        return `${this.envSettingsService.getEnvironmentVariable(_core_environment_settings_service__WEBPACK_IMPORTED_MODULE_2__["EnvironmentSettings"].backendUrl)}/`
            + `users/logout?redirectUri=${this.envSettingsService.getEnvironmentVariable(_core_environment_settings_service__WEBPACK_IMPORTED_MODULE_2__["EnvironmentSettings"].frontendUrl)}`;
    }
    getLoginUrl() {
        return `${this.envSettingsService.getEnvironmentVariable(_core_environment_settings_service__WEBPACK_IMPORTED_MODULE_2__["EnvironmentSettings"].backendUrl)}/`
            + `users/login?redirectUri=${this.envSettingsService.getEnvironmentVariable(_core_environment_settings_service__WEBPACK_IMPORTED_MODULE_2__["EnvironmentSettings"].frontendUrl)}`;
    }
};
AuthService.ctorParameters = () => [
    { type: _core_data_service__WEBPACK_IMPORTED_MODULE_3__["DataService"] },
    { type: _core_environment_settings_service__WEBPACK_IMPORTED_MODULE_2__["EnvironmentSettingsService"] }
];
AuthService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [_core_data_service__WEBPACK_IMPORTED_MODULE_3__["DataService"],
        _core_environment_settings_service__WEBPACK_IMPORTED_MODULE_2__["EnvironmentSettingsService"]])
], AuthService);



/***/ }),

/***/ "./src/app/users/instrumentation-approval/instrumentation-approval.component.css":
/*!***************************************************************************************!*\
  !*** ./src/app/users/instrumentation-approval/instrumentation-approval.component.css ***!
  \***************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\np, h2, h3, h4 {\n  margin: 0;\n}\n\n.button-primary {\n  background-color:#56A6B6;\n  color:white;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXNlcnMvaW5zdHJ1bWVudGF0aW9uLWFwcHJvdmFsL2luc3RydW1lbnRhdGlvbi1hcHByb3ZhbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29DQUNvQzs7QUFFcEM7RUFDRSxTQUFTO0FBQ1g7O0FBRUE7RUFDRSx3QkFBd0I7RUFDeEIsV0FBVztBQUNiIiwiZmlsZSI6InNyYy9hcHAvdXNlcnMvaW5zdHJ1bWVudGF0aW9uLWFwcHJvdmFsL2luc3RydW1lbnRhdGlvbi1hcHByb3ZhbC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuICovXG5cbnAsIGgyLCBoMywgaDQge1xuICBtYXJnaW46IDA7XG59XG5cbi5idXR0b24tcHJpbWFyeSB7XG4gIGJhY2tncm91bmQtY29sb3I6IzU2QTZCNjtcbiAgY29sb3I6d2hpdGU7XG59Il19 */"

/***/ }),

/***/ "./src/app/users/instrumentation-approval/instrumentation-approval.component.ts":
/*!**************************************************************************************!*\
  !*** ./src/app/users/instrumentation-approval/instrumentation-approval.component.ts ***!
  \**************************************************************************************/
/*! exports provided: InstrumentationApprovalComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "InstrumentationApprovalComponent", function() { return InstrumentationApprovalComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

let InstrumentationApprovalComponent = class InstrumentationApprovalComponent {
    constructor() {
    }
};
InstrumentationApprovalComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        template: __webpack_require__(/*! raw-loader!./instrumentation-approval.component.html */ "./node_modules/raw-loader/index.js!./src/app/users/instrumentation-approval/instrumentation-approval.component.html"),
        styles: [__webpack_require__(/*! ./instrumentation-approval.component.css */ "./src/app/users/instrumentation-approval/instrumentation-approval.component.css")]
    }),
    __metadata("design:paramtypes", [])
], InstrumentationApprovalComponent);



/***/ }),

/***/ "./src/app/users/login/login.component.css":
/*!*************************************************!*\
  !*** ./src/app/users/login/login.component.css ***!
  \*************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nsection {\n    font-size: 0.8em;\n    margin-top: 3px;\n}\n\na {\n    color: #fff;\n    text-decoration: none;\n}\n\na:hover {\n    text-decoration: underline;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXNlcnMvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtvQ0FDb0M7O0FBRXBDO0lBQ0ksZ0JBQWdCO0lBQ2hCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksMEJBQTBCO0FBQzlCIiwiZmlsZSI6InNyYy9hcHAvdXNlcnMvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICAgTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLiAqL1xuXG5zZWN0aW9uIHtcbiAgICBmb250LXNpemU6IDAuOGVtO1xuICAgIG1hcmdpbi10b3A6IDNweDtcbn1cblxuYSB7XG4gICAgY29sb3I6ICNmZmY7XG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuXG5hOmhvdmVyIHtcbiAgICB0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTtcbn0iXX0= */"

/***/ }),

/***/ "./src/app/users/login/login.component.ts":
/*!************************************************!*\
  !*** ./src/app/users/login/login.component.ts ***!
  \************************************************/
/*! exports provided: LoginComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "LoginComponent", function() { return LoginComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
/* harmony import */ var _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/material/dialog */ "./node_modules/@angular/material/esm2015/dialog.js");
/* harmony import */ var _shared_role__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/role */ "./src/app/shared/role.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../auth.service */ "./src/app/users/auth.service.ts");
/* harmony import */ var _reports_report_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../reports/report.service */ "./src/app/reports/report.service.ts");
/* harmony import */ var _core_settings_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../core/settings.service */ "./src/app/core/settings.service.ts");
/* harmony import */ var _instrumentation_approval_instrumentation_approval_component__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../instrumentation-approval/instrumentation-approval.component */ "./src/app/users/instrumentation-approval/instrumentation-approval.component.ts");
/* harmony import */ var rxjs_operators__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs/operators */ "./node_modules/rxjs/_esm2015/operators/index.js");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









let LoginComponent = class LoginComponent {
    constructor(authService, reportService, settingsService, toasterService, dialog) {
        this.authService = authService;
        this.reportService = reportService;
        this.settingsService = settingsService;
        this.toasterService = toasterService;
        this.dialog = dialog;
        this.loggedInUser = null;
        this.link = this.authService.getLoginUrl();
    }
    ngOnInit() {
        this.userSubscription = this.authService.loginOrGetUser()
            .pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["skipWhile"])(v => v === null))
            .subscribe(value => {
            this.loggedInUser = value;
            this.link = this.authService.getLogoutUrl();
            if (value.role.name === _shared_role__WEBPACK_IMPORTED_MODULE_3__["Roles"][_shared_role__WEBPACK_IMPORTED_MODULE_3__["Roles"].Administrator] ||
                value.role.name === _shared_role__WEBPACK_IMPORTED_MODULE_3__["Roles"][_shared_role__WEBPACK_IMPORTED_MODULE_3__["Roles"].Owner]) {
                this.reportService.getAllMetrics().subscribe();
            }
            if (value.role.name === _shared_role__WEBPACK_IMPORTED_MODULE_3__["Roles"][_shared_role__WEBPACK_IMPORTED_MODULE_3__["Roles"].Owner]) {
                this.settingsService.getVersionInfo()
                    .subscribe(result => {
                    if (result.updateRequired) {
                        const toast = {
                            type: 'info',
                            title: 'Update Available',
                            body: `A new version "${result.latestVersionName}" is available, click here to upgrade to the latest version.`,
                            clickHandler: (t, isClosed) => {
                                if (!isClosed) {
                                    window.location.href = result.updateUrl;
                                }
                                return true;
                            },
                            showCloseButton: true,
                            timeout: 10000,
                        };
                        this.toasterService.pop(toast);
                    }
                });
                this.settingsService.getInstrumentationApproval().pipe(Object(rxjs_operators__WEBPACK_IMPORTED_MODULE_8__["take"])(1)).subscribe(val => {
                    if (val == null) {
                        this.dialog.open(_instrumentation_approval_instrumentation_approval_component__WEBPACK_IMPORTED_MODULE_7__["InstrumentationApprovalComponent"], {
                            width: '70%',
                        }).afterClosed().subscribe(res => {
                            if (res != null) {
                                this.settingsService.setInstrumentationApproval(res);
                            }
                        });
                    }
                });
            }
        });
    }
    ngOnDestroy() {
        this.userSubscription.unsubscribe();
    }
};
LoginComponent.ctorParameters = () => [
    { type: _auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"] },
    { type: _reports_report_service__WEBPACK_IMPORTED_MODULE_5__["ReportService"] },
    { type: _core_settings_service__WEBPACK_IMPORTED_MODULE_6__["SettingsService"] },
    { type: angular2_toaster__WEBPACK_IMPORTED_MODULE_1__["ToasterService"] },
    { type: _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialog"] }
];
LoginComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-login',
        template: __webpack_require__(/*! raw-loader!./login.component.html */ "./node_modules/raw-loader/index.js!./src/app/users/login/login.component.html"),
        styles: [__webpack_require__(/*! ./login.component.css */ "./src/app/users/login/login.component.css")]
    }),
    __metadata("design:paramtypes", [_auth_service__WEBPACK_IMPORTED_MODULE_4__["AuthService"],
        _reports_report_service__WEBPACK_IMPORTED_MODULE_5__["ReportService"],
        _core_settings_service__WEBPACK_IMPORTED_MODULE_6__["SettingsService"],
        angular2_toaster__WEBPACK_IMPORTED_MODULE_1__["ToasterService"],
        _angular_material_dialog__WEBPACK_IMPORTED_MODULE_2__["MatDialog"]])
], LoginComponent);



/***/ }),

/***/ "./src/app/users/user-editor/user-editor.component.css":
/*!*************************************************************!*\
  !*** ./src/app/users/user-editor/user-editor.component.css ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nsection {\n  padding: 10px;\n}\n\nform {\n  width: 100%;\n}\n\n.partial-input {\n  float:left;\n  width:65%;\n}\n\n.partial-button {\n  margin-left: 10px;\n  float:left;\n  cursor: pointer;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXNlcnMvdXNlci1lZGl0b3IvdXNlci1lZGl0b3IuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtvQ0FDb0M7O0FBRXBDO0VBQ0UsYUFBYTtBQUNmOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0UsVUFBVTtFQUNWLFNBQVM7QUFDWDs7QUFFQTtFQUNFLGlCQUFpQjtFQUNqQixVQUFVO0VBQ1YsZUFBZTtBQUNqQiIsImZpbGUiOiJzcmMvYXBwL3VzZXJzL3VzZXItZWRpdG9yL3VzZXItZWRpdG9yLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAgIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS4gKi9cblxuc2VjdGlvbiB7XG4gIHBhZGRpbmc6IDEwcHg7XG59XG5cbmZvcm0ge1xuICB3aWR0aDogMTAwJTtcbn1cblxuLnBhcnRpYWwtaW5wdXQge1xuICBmbG9hdDpsZWZ0O1xuICB3aWR0aDo2NSU7XG59XG5cbi5wYXJ0aWFsLWJ1dHRvbiB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBmbG9hdDpsZWZ0O1xuICBjdXJzb3I6IHBvaW50ZXI7XG59Il19 */"

/***/ }),

/***/ "./src/app/users/user-editor/user-editor.component.ts":
/*!************************************************************!*\
  !*** ./src/app/users/user-editor/user-editor.component.ts ***!
  \************************************************************/
/*! exports provided: UserEditorComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserEditorComponent", function() { return UserEditorComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var angular2_toaster__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! angular2-toaster */ "./node_modules/angular2-toaster/angular2-toaster.js");
/* harmony import */ var _shared_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../shared/user */ "./src/app/shared/user.ts");
/* harmony import */ var _shared_role__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../shared/role */ "./src/app/shared/role.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../user.service */ "./src/app/users/user.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






let UserEditorComponent = class UserEditorComponent {
    constructor(route, router, userService, toasterService) {
        this.route = route;
        this.router = router;
        this.userService = userService;
        this.toasterService = toasterService;
        this.roles = [new _shared_role__WEBPACK_IMPORTED_MODULE_4__["Role"]('Administrator'), new _shared_role__WEBPACK_IMPORTED_MODULE_4__["Role"]('Viewer'), new _shared_role__WEBPACK_IMPORTED_MODULE_4__["Role"]('Pending'), new _shared_role__WEBPACK_IMPORTED_MODULE_4__["Role"]('Blocked')];
        this.userToken = '';
        this.user = new _shared_user__WEBPACK_IMPORTED_MODULE_3__["User"]();
        this.user.role = new _shared_role__WEBPACK_IMPORTED_MODULE_4__["Role"]();
    }
    ngOnInit() {
        this.routerSubscription = this.route.params.subscribe(params => {
            const id = params['id'];
            if (id) {
                this.isAddingNew = false;
                this.userSubscription = this.userService.get(id).subscribe(user => this.user = user);
            }
            else {
                this.isAddingNew = true;
            }
        });
        this.userService.getToken().subscribe(t => this.userToken = t);
    }
    ngOnDestroy() {
        this.routerSubscription.unsubscribe();
        if (this.userSubscription && !this.userSubscription.closed) {
            this.userSubscription.unsubscribe();
        }
    }
    regenerateToken() {
        this.userService.getToken(true).subscribe(t => {
            this.userToken = t;
            this.toasterService.pop('success', 'Token Regenerated');
        });
    }
    submit() {
        if (this.isAddingNew) {
            this.userService.post(this.user)
                .subscribe(() => this.router.navigate(['/users']));
        }
        else {
            this.userService.put(this.user)
                .subscribe(() => this.router.navigate(['/users']));
        }
    }
};
UserEditorComponent.ctorParameters = () => [
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"] },
    { type: _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"] },
    { type: _user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"] },
    { type: angular2_toaster__WEBPACK_IMPORTED_MODULE_2__["ToasterService"] }
];
UserEditorComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-user-editor-dialog',
        template: __webpack_require__(/*! raw-loader!./user-editor.component.html */ "./node_modules/raw-loader/index.js!./src/app/users/user-editor/user-editor.component.html"),
        styles: [__webpack_require__(/*! ./user-editor.component.css */ "./src/app/users/user-editor/user-editor.component.css")]
    }),
    __metadata("design:paramtypes", [_angular_router__WEBPACK_IMPORTED_MODULE_1__["ActivatedRoute"],
        _angular_router__WEBPACK_IMPORTED_MODULE_1__["Router"],
        _user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"],
        angular2_toaster__WEBPACK_IMPORTED_MODULE_2__["ToasterService"]])
], UserEditorComponent);



/***/ }),

/***/ "./src/app/users/user-list/user-list.component.css":
/*!*********************************************************!*\
  !*** ./src/app/users/user-list/user-list.component.css ***!
  \*********************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = "/* Copyright (c) Microsoft Corporation. All rights reserved.\n   Licensed under the MIT License. */\n\nmat-form-field {\n    font-size: 0.95em;\n    margin: 10px 0 0 10px;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdXNlcnMvdXNlci1saXN0L3VzZXItbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO29DQUNvQzs7QUFFcEM7SUFDSSxpQkFBaUI7SUFDakIscUJBQXFCO0FBQ3pCIiwiZmlsZSI6InNyYy9hcHAvdXNlcnMvdXNlci1saXN0L3VzZXItbGlzdC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLyogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuICovXG5cbm1hdC1mb3JtLWZpZWxkIHtcbiAgICBmb250LXNpemU6IDAuOTVlbTtcbiAgICBtYXJnaW46IDEwcHggMCAwIDEwcHg7XG59Il19 */"

/***/ }),

/***/ "./src/app/users/user-list/user-list.component.ts":
/*!********************************************************!*\
  !*** ./src/app/users/user-list/user-list.component.ts ***!
  \********************************************************/
/*! exports provided: UserListComponent */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserListComponent", function() { return UserListComponent; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../user.service */ "./src/app/users/user.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


let UserListComponent = class UserListComponent {
    constructor(userService) {
        this.userService = userService;
    }
    ngOnInit() {
        this.users = this.userService.getAll();
    }
    ngOnDestroy() {
    }
    deleteUser(user) {
        if (confirm(`Are you sure you want to delete ${user.name} with email ${user.email}?`)) {
            this.userService.delete(user);
        }
    }
};
UserListComponent.ctorParameters = () => [
    { type: _user_service__WEBPACK_IMPORTED_MODULE_1__["UserService"] }
];
UserListComponent = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Component"])({
        selector: 'app-user-list',
        template: __webpack_require__(/*! raw-loader!./user-list.component.html */ "./node_modules/raw-loader/index.js!./src/app/users/user-list/user-list.component.html"),
        styles: [__webpack_require__(/*! ./user-list.component.css */ "./src/app/users/user-list/user-list.component.css")]
    }),
    __metadata("design:paramtypes", [_user_service__WEBPACK_IMPORTED_MODULE_1__["UserService"]])
], UserListComponent);



/***/ }),

/***/ "./src/app/users/user.service.ts":
/*!***************************************!*\
  !*** ./src/app/users/user.service.ts ***!
  \***************************************/
/*! exports provided: UserService */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UserService", function() { return UserService; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _core_data_service__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/data.service */ "./src/app/core/data.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (undefined && undefined.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


let UserService = class UserService {
    constructor(dataService) {
        this.dataService = dataService;
    }
    getAll() {
        return this.dataService.get('users');
    }
    post(user) {
        return this.dataService.post('users', user);
    }
    getToken(regenerate = false) {
        if (regenerate) {
            return this.dataService.post('users/me/token', '', new Map([['regenerateToken', 'true']]));
        }
        else {
            return this.dataService.post('users/me/token', '');
        }
    }
    get(id) {
        return this.dataService.getSingle('users', id);
    }
    put(user) {
        return this.dataService.put('users', user.id, user, true);
    }
    delete(user) {
        return this.dataService.delete('users', user.id);
    }
};
UserService.ctorParameters = () => [
    { type: _core_data_service__WEBPACK_IMPORTED_MODULE_1__["DataService"] }
];
UserService = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["Injectable"])(),
    __metadata("design:paramtypes", [_core_data_service__WEBPACK_IMPORTED_MODULE_1__["DataService"]])
], UserService);



/***/ }),

/***/ "./src/app/users/users-routing.module.ts":
/*!***********************************************!*\
  !*** ./src/app/users/users-routing.module.ts ***!
  \***********************************************/
/*! exports provided: UsersRoutingModule, usersRoutedComponents */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsersRoutingModule", function() { return UsersRoutingModule; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "usersRoutedComponents", function() { return usersRoutedComponents; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _angular_router__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/router */ "./node_modules/@angular/router/fesm2015/router.js");
/* harmony import */ var _user_list_user_list_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./user-list/user-list.component */ "./src/app/users/user-list/user-list.component.ts");
/* harmony import */ var _user_editor_user_editor_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./user-editor/user-editor.component */ "./src/app/users/user-editor/user-editor.component.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




const routes = [
    {
        path: 'users/new',
        component: _user_editor_user_editor_component__WEBPACK_IMPORTED_MODULE_3__["UserEditorComponent"]
    },
    {
        path: 'users',
        component: _user_list_user_list_component__WEBPACK_IMPORTED_MODULE_2__["UserListComponent"]
    },
    {
        path: 'users/:id',
        component: _user_editor_user_editor_component__WEBPACK_IMPORTED_MODULE_3__["UserEditorComponent"]
    }
];
let UsersRoutingModule = class UsersRoutingModule {
};
UsersRoutingModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        imports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"].forChild(routes)],
        exports: [_angular_router__WEBPACK_IMPORTED_MODULE_1__["RouterModule"]]
    })
], UsersRoutingModule);

const usersRoutedComponents = [
    _user_list_user_list_component__WEBPACK_IMPORTED_MODULE_2__["UserListComponent"],
    _user_editor_user_editor_component__WEBPACK_IMPORTED_MODULE_3__["UserEditorComponent"]
];


/***/ }),

/***/ "./src/app/users/users.module.ts":
/*!***************************************!*\
  !*** ./src/app/users/users.module.ts ***!
  \***************************************/
/*! exports provided: UsersModule */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "UsersModule", function() { return UsersModule; });
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../shared/shared.module */ "./src/app/shared/shared.module.ts");
/* harmony import */ var _users_routing_module__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./users-routing.module */ "./src/app/users/users-routing.module.ts");
/* harmony import */ var _instrumentation_approval_instrumentation_approval_component__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./instrumentation-approval/instrumentation-approval.component */ "./src/app/users/instrumentation-approval/instrumentation-approval.component.ts");
/* harmony import */ var _login_login_component__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./login/login.component */ "./src/app/users/login/login.component.ts");
/* harmony import */ var _user_service__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./user.service */ "./src/app/users/user.service.ts");
/* harmony import */ var _auth_service__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./auth.service */ "./src/app/users/auth.service.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
var __decorate = (undefined && undefined.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







let UsersModule = class UsersModule {
};
UsersModule = __decorate([
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_0__["NgModule"])({
        declarations: [
            _users_routing_module__WEBPACK_IMPORTED_MODULE_2__["usersRoutedComponents"],
            _login_login_component__WEBPACK_IMPORTED_MODULE_4__["LoginComponent"],
            _instrumentation_approval_instrumentation_approval_component__WEBPACK_IMPORTED_MODULE_3__["InstrumentationApprovalComponent"]
        ],
        entryComponents: [_instrumentation_approval_instrumentation_approval_component__WEBPACK_IMPORTED_MODULE_3__["InstrumentationApprovalComponent"]],
        imports: [
            _users_routing_module__WEBPACK_IMPORTED_MODULE_2__["UsersRoutingModule"],
            _shared_shared_module__WEBPACK_IMPORTED_MODULE_1__["SharedModule"]
        ],
        providers: [_user_service__WEBPACK_IMPORTED_MODULE_5__["UserService"], _auth_service__WEBPACK_IMPORTED_MODULE_6__["AuthService"]],
        exports: [
            _login_login_component__WEBPACK_IMPORTED_MODULE_4__["LoginComponent"],
        ]
    })
], UsersModule);



/***/ }),

/***/ "./src/environments/environment.ts":
/*!*****************************************!*\
  !*** ./src/environments/environment.ts ***!
  \*****************************************/
/*! exports provided: environment */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "environment", function() { return environment; });
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
// The file contents for the current environment will overwrite these during build.
// The build system defaults to the dev environment which uses `environment.ts`, but if you do
// `ng build --env=self` then `environment.self.ts` will be used instead.
// The list of which env maps to which file can be found in `angular-cli.json`.
const environment = {
    production: false,
    backendUrl: 'http://localhost:49285/api',
    frontendUrl: 'http://localhost:4200/'
};


/***/ }),

/***/ "./src/main.ts":
/*!*********************!*\
  !*** ./src/main.ts ***!
  \*********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _polyfills_ts__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./polyfills.ts */ "./src/polyfills.ts");
/* harmony import */ var _angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @angular/platform-browser-dynamic */ "./node_modules/@angular/platform-browser-dynamic/fesm2015/platform-browser-dynamic.js");
/* harmony import */ var _angular_core__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @angular/core */ "./node_modules/@angular/core/fesm2015/core.js");
/* harmony import */ var _environments_environment__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./environments/environment */ "./src/environments/environment.ts");
/* harmony import */ var _app_app_module__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./app/app.module */ "./src/app/app.module.ts");
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.





if (_environments_environment__WEBPACK_IMPORTED_MODULE_3__["environment"].production) {
    Object(_angular_core__WEBPACK_IMPORTED_MODULE_2__["enableProdMode"])();
}
Object(_angular_platform_browser_dynamic__WEBPACK_IMPORTED_MODULE_1__["platformBrowserDynamic"])().bootstrapModule(_app_app_module__WEBPACK_IMPORTED_MODULE_4__["AppModule"]);


/***/ }),

/***/ "./src/polyfills.ts":
/*!**************************!*\
  !*** ./src/polyfills.ts ***!
  \**************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var core_js_es6_symbol__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! core-js/es6/symbol */ "./node_modules/core-js/es6/symbol.js");
/* harmony import */ var core_js_es6_symbol__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_symbol__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var core_js_es6_object__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! core-js/es6/object */ "./node_modules/core-js/es6/object.js");
/* harmony import */ var core_js_es6_object__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_object__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var core_js_es6_function__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! core-js/es6/function */ "./node_modules/core-js/es6/function.js");
/* harmony import */ var core_js_es6_function__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_function__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var core_js_es6_parse_int__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! core-js/es6/parse-int */ "./node_modules/core-js/es6/parse-int.js");
/* harmony import */ var core_js_es6_parse_int__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_parse_int__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var core_js_es6_parse_float__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! core-js/es6/parse-float */ "./node_modules/core-js/es6/parse-float.js");
/* harmony import */ var core_js_es6_parse_float__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_parse_float__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var core_js_es6_number__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! core-js/es6/number */ "./node_modules/core-js/es6/number.js");
/* harmony import */ var core_js_es6_number__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_number__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var core_js_es6_math__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! core-js/es6/math */ "./node_modules/core-js/es6/math.js");
/* harmony import */ var core_js_es6_math__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_math__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var core_js_es6_string__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! core-js/es6/string */ "./node_modules/core-js/es6/string.js");
/* harmony import */ var core_js_es6_string__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_string__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var core_js_es6_date__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! core-js/es6/date */ "./node_modules/core-js/es6/date.js");
/* harmony import */ var core_js_es6_date__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_date__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var core_js_es6_array__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! core-js/es6/array */ "./node_modules/core-js/es6/array.js");
/* harmony import */ var core_js_es6_array__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_array__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var core_js_es6_regexp__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! core-js/es6/regexp */ "./node_modules/core-js/es6/regexp.js");
/* harmony import */ var core_js_es6_regexp__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_regexp__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var core_js_es6_map__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! core-js/es6/map */ "./node_modules/core-js/es6/map.js");
/* harmony import */ var core_js_es6_map__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_map__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var core_js_es6_set__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! core-js/es6/set */ "./node_modules/core-js/es6/set.js");
/* harmony import */ var core_js_es6_set__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_set__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var core_js_es6_reflect__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! core-js/es6/reflect */ "./node_modules/core-js/es6/reflect.js");
/* harmony import */ var core_js_es6_reflect__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(core_js_es6_reflect__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var core_js_es7_reflect__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! core-js/es7/reflect */ "./node_modules/core-js/es7/reflect.js");
/* harmony import */ var core_js_es7_reflect__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(core_js_es7_reflect__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var zone_js_dist_zone__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! zone.js/dist/zone */ "./node_modules/zone.js/dist/zone-evergreen.js");
/* harmony import */ var zone_js_dist_zone__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(zone_js_dist_zone__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var process__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! process */ "./node_modules/process/browser.js");
/* harmony import */ var process__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(process__WEBPACK_IMPORTED_MODULE_16__);
// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
/**
 * This file includes polyfills needed by Angular and is loaded before the app.
 * You can add your own extra polyfills to this file.
 *
 * This file is divided into 2 sections:
 *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.
 *   2. Application imports. Files imported after ZoneJS that should be loaded before your main
 *      file.
 *
 * The current setup is for so-called "evergreen" browsers; the last versions of browsers that
 * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),
 * Microsoft Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.
 *
 * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html
 */
/***************************************************************************************************
 * BROWSER POLYFILLS
 */
/** IE9, IE10 and IE11 requires all of the following polyfills. **/













/** IE10 and IE11 requires the following for NgClass support on SVG elements */
// import 'classlist.js';  // Run `npm install --save classlist.js`.
/** IE10 and IE11 requires the following to support `@angular/animation`. */
// import 'web-animations-js';  // Run `npm install --save web-animations-js`.
/** Evergreen browsers require these. **/


/** ALL Firefox browsers require the following to support `@angular/animation`. **/
// import 'web-animations-js';  // Run `npm install --save web-animations-js`.
/***************************************************************************************************
 * Zone JS is required by Angular itself.
 */
 // Included with Angular CLI.
/***************************************************************************************************
 * APPLICATION IMPORTS
 */
/**
 * Date, currency, decimal and percent pipes.
 * Needed for: All but Chrome, Firefox, Microsoft Edge, IE11 and Safari 10
 */
// import 'intl';  // Run `npm install --save intl`.
/***************************************************************************************************
 * Fix for the error "global is not defined" appears while starting the Frontend
 */
window.global = window;
var global = global || window;
// (window as any).process = {
//     env: { DEBUG: undefined },
//   };

window['process'] = process__WEBPACK_IMPORTED_MODULE_16__;
global.Buffer = global.Buffer || __webpack_require__(/*! buffer */ "./node_modules/buffer/index.js").Buffer;


/***/ }),

/***/ 0:
/*!***************************!*\
  !*** multi ./src/main.ts ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! C:\Users\prashanth.rama\Frontend\src\main.ts */"./src/main.ts");


/***/ })

},[[0,"runtime","vendor"]]]);
//# sourceMappingURL=main-es2015.js.map